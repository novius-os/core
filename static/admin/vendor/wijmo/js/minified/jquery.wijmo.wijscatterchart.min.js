/*
 *
 * Wijmo Library 2.3.7
 * http://wijmo.com/
 *
 * Copyright(c) GrapeCity, Inc.  All rights reserved.
 * 
 * Licensed under the Wijmo Commercial License. Also available under the GNU GPL Version 3 license.
 * licensing@wijmo.com
 * http://wijmo.com/widgets/license/
 *
 *
 **/
(function(a){"use strict";if(!window.Raphael)return;a.widget("wijmo.wijscatterchart",a.wijmo.wijchartcore,{options:{animation:{enabled:true,duration:2e3,easing:">"},showChartLabels:false,seriesTransition:{enabled:true,duration:2e3,easing:">"},zoomOnHover:true,mouseDown:null,mouseUp:null,mouseOver:null,mouseOut:null,mouseMove:null,click:null},widgetEventPrefix:"wijscatterchart",_create:function(){var b=this;b._hotFixForJQ1_9();a.wijmo.wijchartcore.prototype._create.apply(b,arguments);b.chartElement.addClass("wijmo-wijscatterchart")},destroy:function(){var b=this;b.chartElement.removeClass("wijmo-wijscatterchart");a.wijmo.wijchartcore.prototype.destroy.apply(b,arguments)},getScatter:function(e,d){var h=this,f=h.chartElement.data("fields"),g,c,a,b;if(f&&f.chartElements){a=f.chartElements.scatters;if(a&&a.length){c=a.length;if(e<0||e>=c)return g;b=a[e];if(typeof d==="undefined")return b;c=b.length;if(b&&c)return d<0||d>=c?g:b[d]}return g}},_paintLegend:function(){var b=this,c=b.options,e=[].concat(c.seriesList),f=c.seriesStyles,d=0;a.extend(true,c,{legend:{size:{width:20,height:10}}});a.wijmo.wijchartcore.prototype._paintLegend.apply(b,arguments);if(c.legend.visible){b.legends.length&&b.legendIcons.length&&a.each(b.legendIcons,function(b,a){a.hide()});c.legend.reversed&&e.reverse();a.each(e,function(n,g){var k=g.markerType,m,j,o,p,q=c.legend.reversed?f[e.length-1-n]:f[n],i=a.extend(true,{},q),l=c.legend.textWidth?b.legends[d][0]:b.legends[d],h;if(i.stroke&&!i.fill)i.fill=i.stroke;if(g.legendEntry&&g.display!=="exclude"){if(g.data.x===undefined&&g.data.xy===undefined||g.data.y===undefined&&g.data.xy===undefined)return true;m=b.legendIcons[d];j=m.wijGetBBox();o=j.x+j.width/2;p=j.y+j.height/2;if(!k)k="circle";h=b.canvas.paintMarker(k,o,p,3);a.wijraphael.addClass(a(h.node),"wijchart-legend-dot wijchart-canvas-object wijchart-legend");h.attr(i);b.legendDots.push(h);a(h.node).data("legendIndex",a(l.node).data("legendIndex")).data("index",a(l.node).data("index"));b.legendEles.push(h);if(g.visible===false){a(l.node).data("dotOpacity",h.attr("opacity")||1);h.attr("opacity",.3)}d++}})}},_showSerieEles:function(b){a.each(b,function(c,b){b.show();b.label&&b.label.show();if(a(b.element).data("wijchartDataObj"))a(b.element).data("wijchartDataObj").visible=true})},_hideSerieEles:function(b){a.each(b,function(c,b){b.hide();b.label&&b.label.hide();if(a(b.element).data("wijchartDataObj"))a(b.element).data("wijchartDataObj").visible=false})},_indicatorLineShowing:function(b){a.wijmo.wijchartcore.prototype._indicatorLineShowing.apply(this,arguments);a.each(b,function(b,a){if(a.dot){a.dot.attr(a.hoverStyle);a.dot.scale(1.5,1.5)}})},_removeIndicatorStyles:function(b){a.each(b,function(b,a){if(a.dot){a.dot.attr(a.style);a.dot.scale(1,1)}})},_paintTooltip:function(){var c=this,d=c.chartElement,b=d.data("fields");a.wijmo.wijchartcore.prototype._paintTooltip.apply(this,arguments);if(c.tooltip)if(b&&b.chartElements&&b.chartElements.tooltipTars){c.tooltip.setTargets(b.chartElements.tooltipTars);c.tooltip.setOptions({mouseTrailing:false})}},_getTooltipText:function(d,c){var b=a(c).data("wijchartDataObj"),e={data:b,label:b.label,x:b.x,y:b.y,type:b.markerType,target:c,fmt:d};return a.proxy(d,e)()},_onBeforeTooltipShowing:function(f){var g=this,d=f.options,e=g.options.hint.style,b=f.target,h,c;if(b){if(a.browser.msie&&a.browser.version<9){h=a(b).data().wijchartDataObj;c=h.style;d.style.stroke=e.stroke||c.stroke||c.fill||"#ffffff"}else d.style.stroke=e.stroke||b.getAttribute("stroke")||b.getAttribute("fill")||"#ffffff";b.attrs={stroke:d.style.stroke}}a.wijmo.wijchartcore.prototype._onBeforeTooltipShowing.apply(g,arguments)},_clearChartElement:function(){var b=this,c=b.chartElement.data("fields");if(b.headerEles.length){a.each(b.headerEles,function(b,a){a.wijRemove();a=null});b.headerEles=[]}if(b.footerEles.length){a.each(b.footerEles,function(b,a){a.wijRemove();a=null});b.footerEles=[]}if(b.legendEles.length){a.each(b.legendEles,function(b,a){a.wijRemove();a=null});b.legendEles=[]}if(b.legends.length){a.each(b.legends,function(b,a){a.wijRemove();a=null});b.legends=[]}if(b.legendIcons.length){a.each(b.legendIcons,function(b,a){a.wijRemove();a=null});b.legendIcons=[]}if(b.legendDots.length){a.each(b.legendDots,function(b,a){a=null});b.legendDots=[]}if(b.axisEles.length){a.each(b.axisEles,function(b,a){a.wijRemove();a=null});b.axisEles=[]}if(b.chartLabelEles.length){a.each(b.chartLabelEles,function(b,a){a.wijRemove();a=null});b.chartLabelEles=[]}if(c&&c.chartElements){a.each(c.chartElements,function(d,b){b.length&&a.each(b,function(c,a){if(a[0]!==null){a.remove&&a.remove();b[c]=null}});c.chartElements[d]=null});c.chartElements={};a(c.clipRect.element).stop().remove();c.render.destroy();c.clipRect.destroy()}b.dataPoints=null;b.pointXs=null;b.canvas.clear();b.innerState={}},_paintPlotArea:function(){var b=this,c=b.options;b.chartElement.wijscatter({bounds:b.canvasBounds,widgetName:b.widgetName,canvas:b.canvas,tooltip:b.tooltip,axis:c.axis,animation:c.animation,seriesTransition:c.seriesTransition,seriesList:c.seriesList,seriesStyles:c.seriesStyles,seriesHoverStyles:c.seriesHoverStyles,hint:c.hint,disabled:c.disabled,isXTime:b.axisInfo.x.isTime,isYTime:b.axisInfo.y[0].isTime,zoomOnHover:c.zoomOnHover,mouseDown:a.proxy(b._mouseDown,b),mouseUp:a.proxy(b._mouseUp,b),mouseOver:a.proxy(b._mouseOver,b),mouseOut:a.proxy(b._mouseOut,b),mouseMove:a.proxy(b._mouseMove,b),click:a.proxy(b._click,b),showChartLabels:c.showChartLabels,chartLabelStyle:c.chartLabelStyle,chartLabelFormatString:c.chartLabelFormatString,culture:b._getCulture(),widget:this})}})})(jQuery);(function(a){"use strict";if(!window.Raphael)return;a.fn.extend({wijscatter:function(b){var c=this,j=b.bounds,F=j.endX-j.startX,D=j.endY-j.startY,I=b.axis.x.min,J=b.axis.y.min,G=b.axis.x.max,H=b.axis.y.max,k={minX:I,minY:J,maxX:G,maxY:H,width:F,height:D,kx:F/(G-I),ky:D/(H-J)},e=b.widgetName,S=b.canvas,m=b.animation,P=b.seriesList,p=b.seriesStyles,o=b.seriesHoverStyles,Q=b.isXTime,R=b.isYTime,s=b.zoomOnHover,v=b.mouseDown,C=b.mouseUp,x=b.mouseOver,y=b.mouseOut,w=b.mouseMove,E=b.click,O=S.set(),z=[],q=[],r=[],u,g=c.data("fields")||{},B=c.css("background-color"),t=[],A=a.toOADate,M=b.showChartLabels,l=b.chartLabelStyle,h,d,n,i=b.disabled,f=b.widget;if(c.find("svg").length>0)h=new a.chartRender(c.find("svg").get(0),c.width(),c.height());else h=new a.chartRender(c.children(":first").addClass("vmlcontainer").get(0),c.width(),c.height());d=h.clipRect(0,0,0,c.height());n=h.g().clip(d).add();g.render=h;g.clipRect=d;function N(){var b=a.isFunction;a(".wijscatterchart",c[0]).live("mousedown."+e,function(e){if(i)return;if(b(v)){var d=a(e.target).data("wijchartDataObj");if(!d)d=a(e.target.parentNode).data("wijchartDataObj");v.call(c,e,d)}}).live("mouseup."+e,function(e){if(i)return;if(b(C)){var d=a(e.target).data("wijchartDataObj");if(!d)d=a(e.target.parentNode).data("wijchartDataObj");C.call(c,e,d)}}).live("mouseover."+e,function(f){if(i)return;var d=a(f.target).data("wijchartDataObj"),g,h,e;if(!d)d=a(f.target.parentNode).data("wijchartDataObj");e=d.dot;if(s){g=d.seriesIndex;if(e.attr){h=a(true,{},o[g]);e.attr(h)}if(document.createElementNS)e.scale(1.5,1.5);else e.attr("stroke-width",5)}b(x)&&x.call(c,f,d)}).live("mouseout."+e,function(f){if(i)return;var d=a(f.target).data("wijchartDataObj"),g,e;if(!d)d=a(f.target.parentNode).data("wijchartDataObj");e=d.dot;if(s){g=d.seriesIndex;e.attr&&e.attr(a.extend(true,{},p[g]))}document.createElementNS&&e.scale(1,1);b(y)&&y.call(c,f,d)}).live("mousemove."+e,function(e){if(i)return;if(b(w)){var d=a(e.target).data("wijchartDataObj");if(!d)d=a(e.target.parentNode).data("wijchartDataObj");w.call(c,e,d)}}).live("click."+e,function(e){if(i)return;if(b(E)){var d=a(e.target).data("wijchartDataObj");if(!d)d=a(e.target.parentNode).data("wijchartDataObj");E.call(c,e,d)}})}function L(){a(".wijscatterchart",c).die(e).die("."+e)}function K(g,i,f){var j=a.extend(true,{},b.textStyle,b.chartLabelStyle),d=a.round(f,2),c=b.chartLabelFormatString,e;if(c&&c.length)d=Globalize.format(d,c,b.culture);e=h.text(g,i,d);return e}a.each(P,function(m,c){var v=c.data,e,w=c.markerWidth||5,b=p[m],x=o[m],g=v.x,i=v.y,u=[],s=[],d;c=a.extend(true,{visible:true,markerType:"circle"},c);e=c.markerType;if(c.display==="exclude")return true;if(!b.fill&&b.stroke)b.fill=b.stroke;if(g===undefined)return true;a.each(i,function(t,B){var p=g[t],y=0,D=0,C,o,v,z={};if(Q)p=A(p);if(R)B=A(B);if(typeof p==="undefined")return false;if(isNaN(p)||typeof p==="string")C=t;else C=p;y=j.startX+(C-k.minX)*k.kx;D=j.endY-(B-k.minY)*k.ky;if(b.opacity){b["fill-opacity"]=b.opacity;b["stroke-opacity"]=b.opacity;delete b.opacity}if(e==="cross"&&b["stroke-width"]!==undefined&&b["stroke-width"]===0)b["stroke-width"]=1;o=h.symbol(e,y,D,w).attr(b).add(n);o.attr({"class":"wijchart-canvas-object wijscatterchart"});z=a.extend(false,{dot:o,x:g[t],y:i[t],seriesIndex:m,index:t,markerType:e,type:"scatter",style:b,hoverStyle:x,visible:true},c);if(M){v=K(y,D-6,i[t]);v.add(n);l=a.extend({"font-size":"10px",fill:"#888","font-family":"Arial"},l);v.attr(l);o.label=v;q.push(v)}f.dataPoints=f.dataPoints||{};f.pointXs=f.pointXs||[];d=a.round(y,2);if(!f.dataPoints[d.toString()]){f.dataPoints[d.toString()]=[];f.pointXs.push(d)}f.dataPoints[d.toString()].push(z);a(o.element).data("wijchartDataObj",z);u.push(o);r.push(a.extend({},o,{node:o.element}));s.push(o);c.visible===false&&o.hide()});z.push(u);t.push(s)});if(m.enabled){if(B==="transparent")B="white";if(d.getCSS)a(d.members[0].element).animate({width:c.width()},{duration:m.duration,step:function(c){d.width=c;var b=d.getCSS();a(this).css(b)}});else a(d.element).animate({width:c.width()},{duration:m.duration,step:function(a){d.attr("width",a)}})}else if(d.getCSS){a(d.members[0].element).css({width:c.width()});d.width=c.width();a(d.members[0].element).css(d.getCSS())}else{a(d.element).css({width:c.width()});d.attr("width",c.width())}L();N();u={animationSet:O,tooltipTars:r,scatters:z,labels:q};if(!g.chartElements)g.chartElements={};g.seriesEles=t;a.extend(true,g.chartElements,u);c.data("fields",g)}})})(jQuery);(function(a){var c=document,t=a.each,u=a.browser.msie,h=c.documentMode===8,s="http://www.w3.org/2000/svg",D=!!c.createElementNS&&!!c.createElementNS(s,"svg").createSVGRect,C=0,g="div",A="absolute",n="hidden",j="scatterchart-",r="visible",p="visibility",w="px",v="none",e="M",b="L",l,o,q,y=/^r(?:\(([^,]+?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*([^\)]+?)\))?/,x=/^(\d{1,3})\-(?:((?:[a-zA-Z]+)|(?:\#[0-9a-fA-F]{6})|(?:\#[0-9a-fA-F]{3}))\-)(?:(?:((?:(?:[a-zA-Z]+)|(?:\#[0-9a-fA-F]{6})|(?:\#[0-9a-fA-F]{3}))(?:\:\d{1,3})?)\-)?)*((?:[a-zA-Z]+)|(?:\#[0-9a-fA-F]{6})|(?:\#[0-9a-fA-F]{3}))$/;function i(a){return typeof a==="string"}function B(a){return typeof a==="number"}function d(a){return a!==undefined&&a!==null}function f(c,b,f){var e="setAttribute",g;if(i(b)){if(d(f))c[e](b,f);else if(c&&c.getAttribute)g=c.getAttribute(b)}else d(b)&&a.isPlainObject(b)&&a.each(b,function(a,b){c[e](a,b)});return g}function k(c,b){if(u)if(b&&b.opacity!==undefined)b.filter="alpha(opacity="+b.opacity*100+")";a.extend(c.style,b)}function z(f,d,e){var b=c.createElement(f);d&&a.extend(b,d);e&&k(b,e);return b}function E(b){a.each(b,function(a){b[a]&&b[a].destroy&&b[a].destroy();delete b[a]})}function m(){}m.prototype={init:function(b,a){this.element=c.createElementNS(s,a);this.renderer=b},attr:function(c,l){var e,b,g=this.element,m=this.renderer,j=g.nodeName,k,h=this;if(c===undefined)return;if(i(c)&&d(l)){e=c;c={};c[e]=l}if(i(c)){e=c;if(j==="circle")e=({x:"cx",y:"cy"})[e]||e;h=f(g,e)||this[e]||0;if(e!=="d"&&e!==p)h=parseFloat(h)}else c&&a.each(c,function(a){k=false;b=c[a];if(a==="d"){if(b&&b.join)b=b.join(" ");if(/(NaN| {2}|^$)/.test(b))b="M 0 0";this.d=b}else if(a==="fill")b=m.color(b,g,a);else if(j==="circle"&&(a==="x"||a==="y"))a=({x:"cx",y:"cy"})[a]||a;if(jQuery.browser.safari&&a==="stroke-width"&&b===0)b=1e-6;!k&&f(g,a,b)});return h},scale:function(e,f){var b=this,a=b.getBBox(),c=-(a.x+a.width/2)/2,d=-(a.y+a.height/2)/2;if(e===1)c=0;if(f===1)d=0;b.attr("transform","matrix("+e+",0,0, "+f+","+c+","+d+")")},symbolAttr:function(b){var a=this;t(["x","y","r","start","end","width","height","innerR"],function(d,c){if(b[c])a[c]=b[c];else a[c]=a[c]});a.attr({d:a.renderer.symbols[a.symbolName](Math.round(a.x*2)/2,Math.round(a.y*2)/2,a.r,{start:a.start,end:a.end,width:a.width,height:a.height,innerR:a.innerR})})},clip:function(a){return this.attr("clip-path","url("+this.renderer.url+"#"+a.id+")")},crisp:function(e,i,j,h,g){var b=this,c,f={},a={},d;e=e||b.strokeWidth||0;d=e%2/2;a.x=Math.floor(i||b.x||0)+d;a.y=Math.floor(j||b.y||0)+d;a.width=Math.floor((h||b.width||0)-2*d);a.height=Math.floor((g||b.height||0)-2*d);a.strokeWidth=e;for(c in a)if(b[c]!==a[c])b[c]=f[c]=a[c];return f},css:function(b){var c=this,g=c.element,f=b&&b.width&&g.nodeName==="text",d="",e=function(b,a){return"-"+a.toLowerCase()};if(b&&b.color)b.fill=b.color;b=a.extend(c.styles,b);c.styles=b;if(u&&!D){if(f)delete b.width;k(c.element,b)}else{a.each(b,function(c,a){d+=a.replace(/([A-Z])/g,e)+":"+b[a]+";"});c.attr({style:d})}return c},getBBox:function(){var b,e,d,f=this.rotation,c=f*Math.PI/180;try{b=a.extend({},this.element.getBBox())}catch(g){b={width:0,height:0}}e=b.width;d=b.height;if(f){b.width=Math.abs(d*Math.sin(c))+Math.abs(e*Math.cos(c));b.height=Math.abs(d*Math.cos(c))+Math.abs(e*Math.sin(c))}return b},show:function(){return this.attr({visibility:r})},hide:function(){return this.attr({visibility:n})},add:function(b){var a=this,m=a.renderer,i=b||m,k=i.element||m.box,l=k.childNodes,g=a.element,c=f(g,"zIndex"),e,j,h;if(b&&a.htmlNode){if(!b.htmlNode)b.htmlNode=[];b.htmlNode.push(a)}if(c){i.handleZ=true;c=parseInt(c,10)}if(i.handleZ)for(h=0;h<l.length;h++){e=l[h];j=f(e,"zIndex");if(e!==g&&(parseInt(j,10)>c||!d(c)&&d(j))){k.insertBefore(g,e);return a}}k.appendChild(g);a.added=true;return a},safeRemoveChild:function(b){var a=b.parentNode;a&&a.removeChild(b)},destroy:function(){var b=this,c=b.element||{},e=b.shadows,f=b.box,d;c.onclick=c.onmouseout=c.onmouseover=c.onmousemove=null;if(b.clipPath)b.clipPath=b.clipPath.destroy();if(b.stops){for(d=0;d<b.stops.length;d++)b.stops[d]=b.stops[d].destroy();b.stops=null}b.safeRemoveChild(c);e&&t(e,function(a){b.safeRemoveChild(a)});f&&f.destroy();a.each(b,function(a){delete b[a]});return null},empty:function(){var d=this.element,b=d.childNodes,c=b.length;while(c--){d.removeChild(b[c]);a(b[c]).remove()}},remove:function(){var b=this.element,c=b.parentNode;c.removeChild(b);a(b).remove()}};l=function(){this.init.apply(this,arguments)};l.prototype={Element:m,init:function(e,g,f){var b=this,h=c.location,d;if(a(e).is("svg")){b.box=e;d=new b.Element;d.element=e;d.render=b;b.defs=a("defs",e).get(0);b.gradients={}}else{d=b.createElement("svg").attr({xmlns:s,version:"1.1"});e.appendChild(d.element);b.box=d.element;b.boxWrapper=d;b.defs=this.createElement("defs").add();b.gradients={};b.setSize(g,f)}b.url=u?"":h.href.replace(/#.*?$/,"")},destroy:function(){var a=this;a.box=null;E(a.gradients||{});a.gradients=null;return null},createElement:function(b){var a=new this.Element;a.init(this,b);return a},path:function(a){return this.createElement("path").attr({d:a,fill:v})},circle:function(b,e,d){var c=a.isPlainObject(b)?b:{x:b,y:e,r:d};return this.createElement("circle").attr(c)},rect:function(b,h,g,f,c,d){if(a.isPlainObject(b)){h=b.y;g=b.width;f=b.height;c=b.r;d=b.strokeWidth;b=b.x}var e=this.createElement("rect").attr({rx:c,ry:c,fill:v});return e.attr(e.crisp(d,b,h,Math.max(g,0),Math.max(f,0)))},setSize:function(c,b){var a=this;a.width=c;a.height=b;a.boxWrapper.attr({width:c,height:b})},g:function(b){var a=this.createElement("g");return d(b)?a.attr({"class":j+b}):a},text:function(b,e,d){if(a.isPlainObject(b)){e=b.y;d=b.text;b=b.x}var c=this.createElement("text").attr({x:b,y:e,"text-anchor":"middle"});c.element.textContent=d;return c},symbol:function(i,f,g,d,c){var b,e=this,h=e.symbols[i],j=h&&h(Math.round(f),Math.round(g),d,c);if(j){b=e.path(j);a.extend(b,{symbolName:i,x:f,y:g,r:d});c&&a.extend(b,c)}else b=e.circle(f,g,d);return b},symbols:{box:function(c,d,f){var a=.707*f;return[e,c-a,d-a,b,c+a,d-a,c+a,d+a,c-a,d+a,"Z"]},tri:function(c,d,a){return[e,c,d-1.33*a,b,c+a,d+.67*a,c-a,d+.67*a,"Z"]},invertedTri:function(c,d,a){return[e,c,d+1.33*a,b,c-a,d-.67*a,c+a,d-.67*a,"Z"]},diamond:function(c,d,a){return[e,c,d-a,b,c+a,d,c,d+a,c-a,d,"Z"]},cross:function(c,d,f){var a=.707*f;return[e,c-a,d-a,b,c+a,d+a,e,c-a,d+a,b,c+a,d-a]},arc:function(f,g,c,d){var h=d.start,n=d.end-1e-6,a=d.innerR,i=Math.cos(h),j=Math.sin(h),l=Math.cos(n),m=Math.sin(n),k=d.end-h<Math.PI?0:1;return[e,f+c*i,g+c*j,"A",c,c,0,k,1,f+c*l,g+c*m,b,f+a*l,g+a*m,"A",a,a,0,k,0,f+a*i,g+a*j,"Z"]}},clipRect:function(g,h,f,e){var b,d=j+C++,c=this.createElement("clipPath").attr({id:d});a(this.defs).append(c.element);b=this.rect(g,h,f,e,0).add(c);b.id=d;b.clipPath=c;return b},gradientCache:{},_parsegradientcolor:function(g){var j=this,b=[],d,i,a,h,e,f,c,k;if(j.gradientCache[g])return j.gradientCache[g];for(a=0,f=g.length;a<f;a++){d={};i=g[a].match(/^([^:]*):?([\d\.]*)/);d.color=Raphael.getRGB(i[1]);if(d.color.error)return null;d.color=d.color.hex;if(i[2])d.offset=i[2]+"%";b.push(d)}for(a=1,f=b.length-1;a<f;a++)if(!b[a].offset){h=parseFloat(b[a-1].offset||0);e=0;for(c=a+1;c<f;c++)if(b[c].offset){e=b[c].offset;break}if(!e){e=100;c=f}e=parseFloat(e);k=(e-h)/(c-a+1);for(;a<c;a++){h+=k;b[a].offset=h+"%"}}j.gradientCache[g]=b;return b},color:function(d,z,A){var o=this,e="color",k=.5,c=.5,l=o.gradients,g,m,t,v,u,w,s,b,q,r,p=d,i,h,n;if(x.test(d))e="linear";else d=d.replace(y,function(f,b,d){e="radial";if(b&&d){k=parseFloat(b);c=parseFloat(d);var a=(c>.5)*2-1;if(Math.pow(k-.5,2)+Math.pow(c-.5,2)>.25&&(c=Math.sqrt(.25-Math.pow(k-.5,2))*a+.5)&&c!==.5)c=c.toFixed(5)-1e-5*a}return""});if(e==="linear"||e==="radial"){m=d.split(/\s*\-\s*/);if(e==="linear"){h=m.shift();h=-parseFloat(h);if(isNaN(h))return d;b=[0,0,Math.cos(Raphael.rad(h)),Math.sin(Raphael.rad(h))];q=1/(Math.max(Math.abs(b[2]),Math.abs(b[3]))||1);b[2]*=q;b[3]*=q;if(b[2]<0){b[0]=-b[2];b[2]=0}if(b[3]<0){b[1]=-b[3];b[3]=0}t=b[0];v=b[1];u=b[2];w=b[3]}if(l[p])i=f(l[p].element,"id");else{n=this._parsegradientcolor(m);a.each(n,function(b,a){a.offset=a.offset?a.offset:b?"100%":"0%"});i=j+C++;g=o.createElement(e+"Gradient").attr(e==="radial"?{id:i,fx:k,fy:c}:{id:i,x1:t,y1:v,x2:u,y2:w});a(this.defs).append(g.element);g.stops=[];a.each(n,function(c,b){var a;s=b.color;r=1;a=o.createElement("stop").attr({offset:b.offset,"stop-color":s,"stop-opacity":r}).add(g);g.stops.push(a)});l[p]=g}return"url(#"+i+")"}else{z.removeAttribute(A+"-opacity");return d}}};a.chartRender=l;if(!D){q=function(){};q.prototype=a.extend(true,{},m.prototype,{init:function(d,a){var b=["<",a,' filled="f" stroked="f"'],c=["position: ",A,";"];(a==="shape"||a===g)&&c.push("left:0;top:0;width:10px;height:10px;");h&&c.push("visibility: ",a===g?n:r);b.push(' style="',c.join(""),'"/>');if(a){b=a===g||a==="span"||a==="img"?b.join(""):d.prepVML(b);this.element=z(b)}this.renderer=d},add:function(a){var b=this,e=b.renderer,d=b.element,g=e.box,f=a&&a.inverted,c=a?a.element||a:g;f&&e.invertChild(d,c);h&&c.gVis===n&&k(d,{visibility:n});c.appendChild(d);b.added=true;return b},attr:function(j,z){var m,b,c,l=this,e=l.element||{},x=e.style,y=e.nodeName,A=l.symbolName,C=l.renderer,s,u,t=l.shadows,o,n,q=l;if(j===undefined)return q;if(i(j)&&d(z)){m=j;j={};j[m]=z}if(i(j)){m=j;if(m==="strokeWidth"||m==="stroke-width")q=l.strokeweight;else q=l[m]}else j&&a.each(j,function(a,d){b=d;o=false;if(A&&/^(x|y|r|start|end|width|height|innerR)/.test(a)){if(!u){l.symbolAttr(j);u=true}o=true}else if(a==="d"){b=b||[];l.d=b.join(" ");c=b.length;n=[];while(c--)if(B(b[c]))n[c]=Math.round(b[c]*10)-5;else if(b[c]==="Z")n[c]="x";else n[c]=b[c];b=n.join(" ")||"x";e.path=b;if(t){c=t.length;while(c--)t[c].path=b}o=true}else if(a==="zIndex"||a===p){if(h&&a===p&&y===g){e.gVis=b;s=e.childNodes;c=s.length;while(c--)k(s[c],{visibility:b});if(b===r)b=null}if(b)x[a]=b;o=true}else if(a==="class")e.className=b;else if(a==="stroke")a="strokecolor";else if(a==="stroke-width"||a==="strokeWidth"){e.stroked=b?true:false;a="strokeweight";l[a]=b;if(B(b))b+=w}else if(a==="fill")if(y==="SPAN")x.color=b;else{e.filled=b!==v?true:false;b=C.color(b,e,a);a="fillcolor"}if(!o){if(a==="opacity")a="fill-opacity";if(h)e[a]=b;else f(e,a,b)}});return q},scale:function(c,d){var a=this,b=a.attr("stroke-width")||0;a.css({filter:"progid:DXImageTransform.Microsoft.Matrix(M11="+c+",, M12=0, M21=0, M22="+d+", Dx=0, Dy=0, sizingmethod='auto expand')"}).attr("stroke-width",b)},clip:function(b){var a=this,c=b.members;c.push(a);return a.css(b.getCSS(a.inverted))},css:function(c){var b=this,e=b.element,d=c&&e.tagName==="SPAN"&&c.width;if(d){delete c.width;b.textWidth=d}b.styles=a.extend(b.styles,c);k(b.element,c);return b},destroy:function(){var a=this;a.destroyClip&&a.destroyClip();return m.prototype.destroy.apply(a)},empty:function(){var e=this.element,c=e.childNodes,d=c.length,b;while(d--){b=c[d];b.parentNode.removeChild(b);a(b).remove()}},getBBox:function(){var c=this,a=c.element,b=c.bBox;if(!b){if(a.nodeName==="text")a.style.position=A;b=c.bBox={x:a.offsetLeft,y:a.offsetTop,width:a.offsetWidth,height:a.offsetHeight}}return b}});o=function(){this.init.apply(this,arguments)};o.prototype=a.extend(true,{},l.prototype,{Element:q,isIE8:a.browser.msie&&a.browser.version===8,init:function(e,h,f){var d=this,b;if(a(e).hasClass("vmlcontainer")){d.box=e;b=new this.Element;b.element=e;b.render=this;d.boxWrapper=b}else{b=d.createElement(g);e.appendChild(b.element);d.box=b.element;d.boxWrapper=b;d.setSize(h,f)}if(!c.namespaces.v){c.namespaces.add("v","urn:schemas-microsoft-com:vml");c.createStyleSheet().cssText="v\\:fill, v\\:path, v\\:shape, v\\:stroke{ behavior:url(#default#VML); display: inline-block; } "}},clipRect:function(e,f,d,c){var b=this.createElement();return a.extend(b,{members:[],left:e,top:f,width:d,height:c,getCSS:function(b){var c=this,g=c.top,f=c.left,e=f+c.width,d=g+c.height,i={clip:"rect("+Math.round(b?f:g)+"px,"+Math.round(b?d:e)+"px,"+Math.round(b?e:d)+"px,"+Math.round(b?g:f)+"px)"};!b&&h&&a.extend(i,{width:e+w,height:d+w});return i},updateClipping:function(){t(b.members,function(c,a){a.css(b.getCSS(a.inverted))})}})},color:function(c,m,q){var i,o=this,b="color",g,f,j,k,h=[],p,e,n,l,d=0;if(x.test(c))b="linear";else{c=c.replace(y,function(d,c,a){b="radial";if(c&&a){c=parseFloat(c);a=parseFloat(a);if(Math.pow(c-.5,2)+Math.pow(a-.5,2)>.25)a=Math.sqrt(.25-Math.pow(c-.5,2))*((a>.5)*2-1)+.5;n=c+" "+a}return""});b="radial"}if(b==="linear"||b==="radial"){g=c.split(/\s*\-\s*/);if(b==="linear"){d=g.shift();d=-parseFloat(d)}l=o._parsegradientcolor(g);a.each(l,function(b,a){a.offset=a.offset?a.offset:b?"100%":"0%";h.push(a.offset+" "+a.color);f=a.color;if(!b)j=f;else k=f});if(b==="radial")i=['<fill colors="',h.join(),'" angle="0"','" focusposition="',n,'" color="',j,'" color2="',k,'" focussize="0 0"',' type="gradientTitle" focus="100%" method="none" />'];else i=['<fill colors="',h.join(),'" angle="',d,'" type="gradient" focus="100%" method="sigma" />'];p=z(o.prepVML(i));a(m).append(p)}else{e=m.getElementsByTagName(q);if(e.length)e[0].opacity=1;return c}},prepVML:function(a){var b="display:inline-block;behavior:url(#default#VML);",c=this.isIE8;a=a.join("");if(c){a=a.replace("/>",' xmlns="urn:schemas-microsoft-com:vml" />');if(a.indexOf('style="')===-1)a=a.replace("/>",' style="'+b+'" />');else a=a.replace('style="','style="'+b)}else a=a.replace("<","<v:");return a},path:function(a){return this.createElement("shape").attr({coordsize:"100 100",d:a})},g:function(a){var c,b;if(a)b={className:j+a,"class":j+a};c=this.createElement(g).attr(b);return c},text:function(d,e,h){var c=this.createElement("span"),b=c.element,g,f;b.innerHTML=h;a(b).appendTo("body");g=a(b).width();f=a(b).height();d-=g/2;e-=f/2;c.x=d;c.y=e;a(b).css({position:"absolute","white-space":"nowrap","font-family":"Arial","font-size":"10",left:d+"px",top:e+"px"});return c},symbols:{arc:function(c,d,b,h){var e=h.start,f=h.end,k=Math.cos(e),l=Math.sin(e),g=Math.cos(f),m=Math.sin(f),a=h.innerR,i=.07/b,j=a&&.1/a||0;if(f-e===0)return["x"];else if(2*Math.PI-f+e<i)g=-i;else if(f-e<j)g=Math.cos(e+j);return["wa",c-b,d-b,c+b,d+b,c+b*k,d+b*l,c+b*g,d+b*m,"at",c-a,d-a,c+a,d+a,c+a*g,d+a*m,c+a*k,d+a*l,"x","e"]},circle:function(b,c,a){return["wa",b-a,c-a,b+a,c+a,b+a,c,b+a,c,"e"]},rect:function(c,f,a,i){if(!d(i))return[];var k=i.width,j=i.height,h=c+k,g=f+j;a=Math.min(a,k,j);return[e,c+a,f,b,h-a,f,"wa",h-2*a,f,h,f+2*a,h-a,f,h,f+a,b,h,g-a,"wa",h-2*a,g-2*a,h,g,h,g-a,h-a,g,b,c+a,g,"wa",c,g-2*a,c+2*a,g,c+a,g,c,g-a,b,c,f+a,"wa",c,f,c+2*a,f+2*a,c,f+a,c+a,f,"x","e"]}}});a.chartRender=o}})(jQuery);