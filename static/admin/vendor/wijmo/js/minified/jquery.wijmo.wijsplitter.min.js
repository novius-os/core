/*
 *
 * Wijmo Library 2.3.7
 * http://wijmo.com/
 *
 * Copyright(c) GrapeCity, Inc.  All rights reserved.
 * 
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * licensing@wijmo.com
 * http://wijmo.com/widgets/license/
 *
 **/
(function(a){"use strict";var j="wijmo-wijsplitter-",t=j+"wrapper",m=j+"horizontal",n=j+"vertical",c=j+"h-",b=j+"v-",o="-content",d={panel1:{n:"panel1",content:"panel1"+o},panel2:{n:"panel2",content:"panel2"+o}},v="bar",s="expander",r="ui-widget-header",g="ui-widget-content",q="ui-state-default",h="ui-state-hover",l="ui-state-active",e="ui-corner-",u="ui-icon",k="ui-icon-triangle-1-",i="collapsed",f="expanded",p="resize-helper";a.widget("wijmo.wijsplitter",{options:{sizing:null,sized:null,expand:null,collapse:null,expanded:null,collapsed:null,barZIndex:-1,showExpander:true,splitterDistance:100,orientation:"vertical",fullSplit:false,resizeSettings:{animationOptions:{duration:100,easing:"swing",disabled:false},ghost:false},panel1:{minSize:1,collapsed:false,scrollBars:"auto"},panel2:{minSize:1,collapsed:false,scrollBars:"auto"},collapsingPanel:"panel1"},_setOption:function(c,d){var b=this,f=b.options,e,g=a.extend({},f[c]);if(c==="fullSplit")b._setFullSplit(d);else if(a.isPlainObject(f[c])){if(c==="panel1"&&d.collapsed!==undefined)b._setPanel1Collapsed(d.collapsed);else c==="panel2"&&d.collapsed!==undefined&&b._setPanel2Collapsed(d.collapsed);f[c]=a.extend(true,f[c],d);return}a.Widget.prototype._setOption.apply(b,arguments);if(g!==d)if(c==="orientation")b.refresh();else if(c==="collapsingPanel")b.refresh();else if(c==="fullSplit")b.refresh(true,false);else if(c==="splitterDistance"){b.refresh(false,false);b._trigger("sized")}else if(c==="showExpander"){e=b._fields.expander;e&&e.length&&e.css("display",d?"":"none")}c==="disabled"&&b._handleDisabledOption(d,b.element)},_create:function(){var b=this,e=b.element,c=b.options,d;if(window.wijmoApplyWijTouchUtilEvents)a=window.wijmoApplyWijTouchUtilEvents(a);if(c.splitterDistance==100){d=this.element.width()-c.panel2.minSize;if(c.panel1.minSize>c.splitterDistance)c.splitterDistance=c.panel1.minSize;else if(d<c.splitterDistance)c.splitterDistance=d}b._fields={width:e.width(),height:e.height()};c.fullSplit&&b._setFullSplit(true);b._splitterify();b._updateElementsCss();b._updateElements();b._bindEvents();b._initResizer();c.disabled&&b.disable();b.element.wijAddVisibilityObserver&&b.element.wijAddVisibilityObserver(function(){if(c.fullSplit){b._updateElements();b._initResizer()}},"wijsplitter");b._trigger("load",null,b)},_handleDisabledOption:function(b,c){var a=this;if(b){if(!a.disabledDiv)a.disabledDiv=a._createDisabledDiv(c);a.disabledDiv.appendTo("body")}else if(a.disabledDiv){a.disabledDiv.remove();a.disabledDiv=null}},_createDisabledDiv:function(d){var h=this,b=d?d:h.element,c=b.offset(),g=b.outerWidth(),f=b.outerHeight(),e={"z-index":"99999",position:"absolute",width:g,height:f,left:c.left,top:c.top};a.browser.msie&&a.extend(e,{"background-color":"#fff",opacity:.1});return a("<div></div>").addClass("ui-disabled").css(e)},destroy:function(){var e=this,j=e.element,d=e._fields,s=d.wrapper,r=d.expander,t=d.bar,f=d.panel1,q=d.panel2,p=d.originalStyle,k=e.widgetName,h=d.oriPnl1Content,i=d.oriPnl2Content,l=d.oriPnl1ContentStyle,o=d.oriPnl2ContentStyle;f&&f.n.is(":ui-resizable")&&f.n.resizable("destroy");if(h){h.removeClass(b+f.contentCss+" "+c+f.contentCss+" "+g);if(l===undefined)h.removeAttr("style");else h.attr("style",l);h.appendTo(j)}if(i){i.removeClass(b+q.contentCss+" "+c+q.contentCss+" "+g);if(o===undefined)i.removeAttr("style");else i.attr("style",o);i.appendTo(j)}f.n.unbind("."+k);r.unbind("."+k);t.unbind("."+k);a(window).unbind("."+k);s.remove();j.removeClass(n+" "+m);if(p===undefined)j.removeAttr("style");else j.attr("style",p);if(e.disabledDiv){e.disabledDiv.remove();e.disabledDiv=null}e._fields=null},refresh:function(e,d){var a=this,c=a._fields,b=c.panel1;if(c._isResizing)return;(d||d===undefined)&&a._updateElementsCss();a._updateElements();if(e||e===undefined){b&&b.n.is(":ui-resizable")&&b.n.resizable("destroy");a._initResizer()}},_splitterify:function(){var i=this,f=i.element,k=i.options,b=i._fields,e,g,h,j,c={n:null,content:f.find(">div:eq(0)")},d={n:null,content:f.find(">div:eq(1)")};b.originalStyle=f.attr("style");e=a("<div></div>").appendTo(f);c.n=a("<div></div>").appendTo(e);if(c.content.length===0)c.content=a("<div></div>");else{b.oriPnl1Content=c.content;b.oriPnl1ContentStyle=c.content.attr("style")}c.content.appendTo(c.n);g=a("<div></div>").appendTo(e);k.barZIndex!==-1&&g.css("z-index",k.barZIndex);h=a("<div></div>").appendTo(g).attr("role","button");j=a("<span></span>").appendTo(h);d.n=a("<div></div>").appendTo(e);if(d.content.length===0)d.content=a("<div></div>");else{b.oriPnl2Content=d.content;b.oriPnl2ContentStyle=d.content.attr("style")}d.content.appendTo(d.n);b.wrapper=e;b.panel1=c;b.panel2=d;b.bar=g;b.expander=h;b.icon=j},_updateElementsCss:function(){var j=this,p=j.element,l=j.options,f=l.orientation==="vertical",i=j._fields,w=i.wrapper,a=l.collapsingPanel,h=l.collapsingPanel==="panel1"?"panel2":"panel1",y=i.bar,o=i.expander,x=i.icon;p.removeClass(n+" "+m).addClass(f?n:m);w.attr("class",t);i[a].n.removeClass(b+d[a].n+" "+c+d[a].n).addClass((f?b:c)+d[a].n);i[a].content.removeClass(b+d[a].content+" "+c+d[a].content+" "+g).addClass((f?b:c)+d[a].content+" "+g);y.attr("class",(f?b:c)+v+" "+r).css("width","").css("height","");o.attr("class",e+(f?"bl "+b:"tr "+c)+s+" "+q).css("left","").css("top","");x.attr("class",u+" "+k+(f?"w":"n"));i[h].n.removeClass(b+d[h].n+" "+c+d[h].n).addClass((f?b:c)+d[h].n);i[h].content.removeClass(b+d[h].content+" "+c+d[h].content+" "+g).addClass((f?b:c)+d[h].content+" "+g);j._updateExpanderCss()},_updateExpanderCss:function(){var t=this,a=t.options,s=t._fields,j=s.expander,l=s.icon,g=a.orientation==="vertical",d=a.collapsingPanel!=="panel1",h=g?b:c,m=(["bl","tr","tr","bl"])[g*2+d],n=(["br","tl"])[+d],q=(["s","n","e","w"])[g*2+d],o=(["tr","bl","bl","tr"])[g*2+d],p=(["tl","br"])[+d],r=(["n","s","w","e"])[g*2+d];j.removeClass(h+a.collapsingPanel+"-"+f+" "+h+a.collapsingPanel+"-"+i+" "+e+m+" "+e+n+" "+e+o+" "+e+p);l.removeClass(k+q+" "+k+r);if(a.panel1.collapsed||a.panel2.collapsed){j.addClass(e+m+" "+e+n+" "+h+a.collapsingPanel+"-"+i);l.addClass(k+q)}else{j.addClass(e+o+" "+e+p+" "+h+a.collapsingPanel+"-"+f);l.addClass(k+r)}},_updateElements:function(){var n=this,p=n.element,h=n.options,d=h.splitterDistance,k=h.collapsingPanel,r=h.collapsingPanel==="panel1"?"panel2":"panel1",a=n._fields,q=a.wrapper,s=a.panel1,t=a.panel2,o=a.bar,g=a.expander,j=p.width(),e=p.height(),m,l;q.height(e);n._setPanelsScrollMode();if(h.orientation==="vertical"){m=o.outerWidth(true);if(d>j-m)d=j-m;q.width(j*2);if(h.panel1.collapsed){k==="panel1"&&g.addClass(b+"panel1-"+i);a.panel1.n.css("display","none");a.panel2.n.css("display","");d=0}else{k==="panel1"&&g.addClass(b+"panel1-"+f);a.panel1.n.css("display","");a.panel2.n.css("display",h.panel2.collapsed?"none":"")}if(h.panel2.collapsed){k==="panel2"&&g.addClass(b+"panel2-"+i);a.panel2.n.css("display","none");d=k==="panel1"?j-m:j}else{k==="panel2"&&g.addClass(b+"panel2-"+f);a.panel2.n.css("display","")}!h.panel1.collapsed&&!h.panel2.collapsed&&g.addClass(b+h.collapsingPanel+"-"+f);if(k==="panel1"){a.panel1.n.height(e).width(d);a.panel2.n.height(e).width(j-d-m)}else{a.panel1.n.height(e).width(d-m);a.panel2.n.height(e).width(j-d);a.panel2.content.width(j-d)}a.panel1.content.outerHeight(e,true);o.outerHeight(e,true);a.panel2.content.outerHeight(e,true);g.css("cursor","pointer").css("top",e/2-g.outerHeight(true)/2)}else{l=o.outerHeight(true);if(d>e-l)d=e-l;if(h.panel1.collapsed){k==="panel1"&&g.addClass(c+"panel1-"+i);a.panel1.n.css("display","none");a.panel2.n.css("display","");d=0}else{k==="panel1"&&g.addClass(c+"panel1-"+f);a.panel1.n.css("display","");a.panel2.n.css("display",h.panel2.collapsed?"none":"")}if(h.panel2.collapsed){k==="panel2"&&g.addClass(c+"panel2-"+i);a.panel2.n.css("display","none");d=k==="panel1"?e-l:e}else{k==="panel2"&&g.addClass(c+"panel2-"+f);a.panel2.n.css("display","")}if(k==="panel1"){a.panel1.n.width(j).height(d);a.panel2.n.width(j).height(e-d-l);a.panel1.content.outerHeight(d,true);a.panel2.content.outerHeight(e-d-l,true)}else{a.panel1.n.width(j).height(d-l);a.panel2.n.width(j).height(e-d);a.panel1.content.outerHeight(d-l,true);a.panel2.content.outerHeight(e-d,true)}g.css("cursor","pointer").css("left",j/2-g.outerWidth(true)/2)}g.css("display",h.showExpander?"":"none")},_setFullSplit:function(b){var c=this,a=c._fields,e=b?"100%":a.width,d=b?"100%":a.height;c.element.css("width",e).css("height",d)},_setPanel1Collapsed:function(d,g){var b=this,c=b.options,f=c.panel1.collapsed,e=a(".ui-resizable-handle",b.element);if(f===d)return;if(c.collapsingPanel==="panel1")if(!b._trigger(f?"expand":"collapse",g,null))return;c.panel1.collapsed=d;if(d){c.panel2.collapsed=false;c.collapsingPanel==="panel2"&&e.hide()}else e.show();b._updateElements();b._updateExpanderCss();c.collapsingPanel==="panel1"&&b._trigger(d?"collapsed":"expanded",g,null)},_setPanel2Collapsed:function(d,g){var b=this,c=b.options,f=c.panel2.collapsed,e=a(".ui-resizable-handle",b.element);if(f===d)return;if(c.collapsingPanel==="panel2")if(!b._trigger(f?"expand":"collapse",g,null))return;c.panel2.collapsed=d;if(d){c.panel1.collapsed=false;c.collapsingPanel==="panel1"&&e.hide()}else e.show();b._updateElements();b._updateExpanderCss();c.collapsingPanel==="panel2"&&b._trigger(d?"collapsed":"expanded",g,null)},_bindEvents:function(){var b=this,c=b.options,g=b._fields,f=g.bar,e=g.expander,d=b.widgetName;e.bind("mouseover."+d,function(){if(c.disabled)return;e.addClass(h)}).bind("mouseout."+d,function(){if(c.disabled)return;e.removeClass(h).removeClass(l)}).bind("mousedown."+d,function(){if(c.disabled)return;e.addClass(l)}).bind("mouseup."+d,function(a){if(c.disabled)return;e.removeClass(l);if(c.collapsingPanel==="panel1")b._setPanel1Collapsed(!c.panel1.collapsed,a);else b._setPanel2Collapsed(!c.panel2.collapsed,a)});f.bind("mouseover."+d,function(){if(c.disabled)return;f.addClass(h)}).bind("mouseout."+d,function(){if(c.disabled)return;f.removeClass(h)});g.panel1.n.bind("animating."+d,function(a){if(c.disabled)return;b._adjustLayout(b);b._trigger("sizing",a,null)}).bind("animated."+d,function(a){if(c.disabled)return;b._adjustLayout(b);b._trigger("sized",a,null)});a(".ui-resizable-handle",b.element).live("mouseover."+d,function(){if(c.disabled)return;f.addClass(h)}).live("mouseout."+d,function(){if(c.disabled)return;f.removeClass(h)});a(window).bind("resize."+d,function(){if(c.disabled)return;if(c.fullSplit&&b.element.is(":visible")){b._updateElements();b._initResizer()}})},_initResizer:function(){var m=this,h=m.element,d=m.options,e=m._fields,u=e.bar,n=d.collapsingPanel,l=d.collapsingPanel==="panel1"?"panel2":"panel1",k=d.resizeSettings,g=k.animationOptions,o=g.disabled?0:g.duration,w=h.width(),v=h.height(),r,t,j,q,s,i,f;if(d.orientation==="vertical"){r=u.outerWidth(true);t=w-r-d[l].minSize;j=d[n].minSize;if(j<2)j=2;e.panel1.n.resizable({wijanimate:true,minWidth:j,maxWidth:t,handles:"e",helper:b+p,animateDuration:o,animateEasing:g.easing,ghost:k.ghost,start:function(){e._isResizing=true},stop:function(){e._isResizing=false}})}else{q=u.outerHeight(true);s=v-q-d[l].minSize;i=d[n].minSize;if(i<2)i=2;e.panel1.n.resizable({wijanimate:true,minHeight:i,maxHeight:s,handles:"s",helper:c+p,animateDuration:o,animateEasing:g.easing,ghost:k.ghost,start:function(){e._isResizing=true},stop:function(){e._isResizing=false}})}f=a(".ui-resizable-handle",h);if(d[l].collapsed)f.hide();else f.show();if(a.browser.msie&&a.browser.version<7)d.orientation==="vertical"&&f.height(h.height())},_adjustLayout:function(a){var b=a.options,e=a._fields,d=e.panel1,c=b.orientation==="vertical"?d.n.width():d.n.height();if(b.splitterDistance===c)return;b.splitterDistance=c;a._updateElements()},_setPanelsScrollMode:function(){var d=this,c=d._fields,e=d.options,b=[e.panel1.scrollBars,e.panel2.scrollBars];a.each([c.panel1,c.panel2],function(a,c){if(b[a]==="auto")c.content.css("overflow","auto");else if(b[a]==="both")c.content.css("overflow","scroll");else if(b[a]==="none")c.content.css("overflow","hidden");else if(b[a]==="horizontal")c.content.css("overflow-x","scroll").css("overflow-y","hidden");else b[a]==="vertical"&&c.content.css("overflow-x","hidden").css("overflow-y","scroll")})}})})(jQuery);(function(a){"use strict";a.ui.plugin.add("resizable","wijanimate",{stop:function(l){var b=a(this).data("resizable"),i=b.options,c=b.element,d=b._proportionallyResizeElements,h=d.length&&/textarea/i.test(d[0].nodeName),j=h&&a.ui.hasScroll(d[0],"left")?0:b.sizeDiff.height,k=h?0:b.sizeDiff.width,g,e,f;c.css("width",b.originalSize.width).css("height",b.originalSize.height);g={width:b.size.width-k,height:b.size.height-j};e=parseInt(c.css("left"),10)+(b.position.left-b.originalPosition.left)||null;f=parseInt(c.css("top"),10)+(b.position.top-b.originalPosition.top)||null;c.animate(a.extend(g,f&&e?{top:f,left:e}:{}),{duration:i.animateDuration,easing:i.animateEasing,step:function(){var e={width:parseInt(c.css("width"),10),height:parseInt(c.css("height"),10),top:parseInt(c.css("top"),10),left:parseInt(c.css("left"),10)};d&&d.length&&a(d[0]).css({width:e.width,height:e.height});b._updateCache(e);b._propagate("resize",l);c.trigger("animating")},complete:function(){c.trigger("animated")}})}})})(jQuery);