/*
 *
 * Wijmo Library 2.3.7
 * http://wijmo.com/
 *
 * Copyright(c) GrapeCity, Inc.  All rights reserved.
 * 
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * licensing@wijmo.com
 * http://wijmo.com/widgets/license/
 *
 **/
(function(a){"use strict";var b=0;a.widget("wijmo.wijradio",{_radiobuttonPre:"wijmo-wijradio",options:{checked:null,changed:null},_create:function(){var c=this,d=c.element,h,e,j,g,f,i;if(window.wijmoApplyWijTouchUtilEvents)a=window.wijmoApplyWijTouchUtilEvents(a);if(d.is(":radio")){if(!d.attr("id")){d.attr("id","wijmo-radio-"+b);b+=1}if(d.parent().is("label")){e=d.parent().wrap("<div class='"+c._radiobuttonPre+"-inputwrapper'></div>").parent().wrap("<div></div>").parent().addClass(c._radiobuttonPre+" ui-widget");j=d.parent();j.attr("for",d.attr("id"));e.find("."+c._radiobuttonPre+"-inputwrapper").append(d);e.append(j)}else e=d.wrap("<div class='"+c._radiobuttonPre+"-inputwrapper'></div>").parent().wrap("<div></div>").parent().addClass(c._radiobuttonPre+" ui-widget");g=a("label[for='"+d.attr("id")+"']");if(g.length>0){e.append(g);g.attr("labelsign","wij")}d.is(":disabled")&&c._setOption("disabled",true);f=a("<div class='"+c._radiobuttonPre+"-box ui-widget "+(c.options.disabled?"ui-state-disabled":"ui-state-default")+" ui-corner-all'><span class='"+c._radiobuttonPre+"-icon'></span></div>");i=f.children("."+c._radiobuttonPre+"-icon");e.append(f);i.addClass("ui-icon ui-icon-radio-on");d.data("iconElement",i);d.data("boxElement",f);d.data("radiobuttonElement",e);f.removeClass(c._radiobuttonPre+"-relative").attr("role","radio").bind("mouseover",function(){d.mouseover()}).bind("mouseout",function(){d.mouseout()});(g.length===0||g.html()==="")&&f.addClass(c._radiobuttonPre+"-relative");c._setDefaul();d.bind("click.radio",function(){if(c.options.disabled)return;h=c.options.checked;c._refresh();h!==c.element.is(":checked")&&c._trigger("changed",null,{checked:c.options.checked})}).bind("focus.radio",function(){if(c.options.disabled)return;f.removeClass("ui-state-default").addClass("ui-state-focus")}).bind("blur.radio",function(){if(c.options.disabled)return;f.removeClass("ui-state-focus").not(".ui-state-hover").addClass("ui-state-default")});e.click(function(){if(c.options.disabled)return;if(g.length===0||g.html()===""){h=c.options.checked;d.attr("checked",true);c._refresh();d.change();h!==c.element.is(":checked")&&c._trigger("changed",null,{checked:c.options.checked})}});e.bind("mouseover.radio",function(){if(c.options.disabled)return;f.removeClass("ui-state-default").addClass("ui-state-hover")}).bind("mouseout.radio",function(){if(c.options.disabled)return;f.removeClass("ui-state-hover").not(".ui-state-focus").addClass("ui-state-default")});e.attr("title",d.attr("title"))}},_setOption:function(e,c){var b=this,d=b.options.checked;a.Widget.prototype._setOption.apply(this,arguments);if(e==="checked"){b.element.attr("checked",c);b._refresh();d!==c&&b._trigger("changed",null,{checked:c})}},_setDefaul:function(){var b=this,a=b.options;a.checked!==undefined&&a.checked!==null&&this.element.attr("checked",a.checked);if(this.element.attr("checked")){this.element.parents(".wijmo-wijradio").find("."+this._radiobuttonPre+"-box").children().removeClass("ui-icon-radio-on ui-icon-radio-off").addClass("ui-icon-radio-off");this.element.data("boxElement").removeClass("ui-state-default").addClass("ui-state-active").attr("aria-checked",true);this.element.data("radiobuttonElement").addClass("ui-state-checked")}},_refresh:function(){var d=this.element.attr("name")||"",b=this,c;if(d==="")return;a("[name='"+d+"']").each(function(e,d){a(d).parents(".wijmo-wijradio").find("."+b._radiobuttonPre+"-box").children().removeClass("ui-icon-radio-on ui-icon-radio-off").addClass("ui-icon-radio-on");a(d).parents(".wijmo-wijradio").find("."+b._radiobuttonPre+"-box").removeClass("ui-state-active").addClass("ui-state-default").attr("aria-checked",false);a(d).parents(".wijmo-wijradio").removeClass("ui-state-checked");c=a(d).parents(".wijmo-wijradio").find(":radio");c.wijradio("option","checked")&&c[0]!==b.element[0]&&c.wijradio("setCheckedOption",false)});if(b.element.is(":checked")){b.element.data("iconElement").removeClass("ui-icon-radio-on").addClass("ui-icon-radio-off");b.element.data("boxElement").removeClass("ui-state-default").addClass("ui-state-active").attr("aria-checked",true);b.element.data("radiobuttonElement").addClass("ui-state-checked")}b.options.checked=b.element.is(":checked")},setCheckedOption:function(a){var c=this,b=c.options;if(b.checked!==null&&b.checked!==a){b.checked=a;c._trigger("changed",null,{checked:a})}},refresh:function(){this._refresh()},destroy:function(){var b=this,c=b.element.parent().parent();c.children("div."+b._radiobuttonPre+"-box").remove();b.element.unwrap();b.element.unwrap();a.Widget.prototype.destroy.apply(b)}})})(jQuery);