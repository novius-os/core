// usage: log('inside coolFunc',this,arguments);
// http://paulirish.com/2009/log-a-lightweight-wrapper-for-consolelog/
window.log = function(){
    log.history = log.history || [];   // store logs to an array for reference
    log.history.push(arguments);
    if(this.console){
        console.log( Array.prototype.slice.call(arguments) );
    }
};
// make it safe to use console.log always
(function(b){function c(){}for(var d="assert,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,markTimeline,profile,profileEnd,time,timeEnd,trace,warn".split(","),a;a=d.pop();)b[a]=b[a]||c})(window.console=window.console||{});
;
/*
 * jQuery Cookie Plugin v1.3.1
 * https://github.com/carhartl/jquery-cookie
 *
 * Copyright 2013 Klaus Hartl
 * Released under the MIT license
 */
(function(a){if(typeof define==="function"&&define.amd){define(["jquery"],a)}else{a(jQuery)}}(function(e){var a=/\+/g;function d(g){return g}function b(g){return decodeURIComponent(g.replace(a," "))}function f(g){if(g.indexOf('"')===0){g=g.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\")}try{return c.json?JSON.parse(g):g}catch(h){}}var c=e.cookie=function(p,o,u){if(o!==undefined){u=e.extend({},c.defaults,u);if(typeof u.expires==="number"){var q=u.expires,s=u.expires=new Date();s.setDate(s.getDate()+q)}o=c.json?JSON.stringify(o):String(o);return(document.cookie=[c.raw?p:encodeURIComponent(p),"=",c.raw?o:encodeURIComponent(o),u.expires?"; expires="+u.expires.toUTCString():"",u.path?"; path="+u.path:"",u.domain?"; domain="+u.domain:"",u.secure?"; secure":""].join(""))}var g=c.raw?d:b;var r=document.cookie.split("; ");var v=p?undefined:{};for(var n=0,k=r.length;n<k;n++){var m=r[n].split("=");var h=g(m.shift());var j=g(m.join("="));if(p&&p===h){v=f(j);break}if(!p){v[h]=f(j)}}return v};c.defaults={};e.removeCookie=function(h,g){if(e.cookie(h)!==undefined){e.cookie(h,"",e.extend(g,{expires:-1}));return true}return false}}));;
/*!
 * Globalize
 *
 * http://github.com/jquery/globalize
 *
 * Copyright Software Freedom Conservancy, Inc.
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 */

(function( window, undefined ) {

var Globalize,
	// private variables
	regexHex,
	regexInfinity,
	regexParseFloat,
	regexTrim,
	// private JavaScript utility functions
	arrayIndexOf,
	endsWith,
	extend,
	isArray,
	isFunction,
	isObject,
	startsWith,
	trim,
	truncate,
	zeroPad,
	// private Globalization utility functions
	appendPreOrPostMatch,
	expandFormat,
	formatDate,
	formatNumber,
	getTokenRegExp,
	getEra,
	getEraYear,
	parseExact,
	parseNegativePattern;

// Global variable (Globalize) or CommonJS module (globalize)
Globalize = function( cultureSelector ) {
	return new Globalize.prototype.init( cultureSelector );
};

if ( typeof require !== "undefined" &&
	typeof exports !== "undefined" &&
	typeof module !== "undefined" ) {
	// Assume CommonJS
	module.exports = Globalize;
} else {
	// Export as global variable
	window.Globalize = Globalize;
}

Globalize.cultures = {};

Globalize.prototype = {
	constructor: Globalize,
	init: function( cultureSelector ) {
		this.cultures = Globalize.cultures;
		this.cultureSelector = cultureSelector;

		return this;
	}
};
Globalize.prototype.init.prototype = Globalize.prototype;

// 1. When defining a culture, all fields are required except the ones stated as optional.
// 2. Each culture should have a ".calendars" object with at least one calendar named "standard"
//    which serves as the default calendar in use by that culture.
// 3. Each culture should have a ".calendar" object which is the current calendar being used,
//    it may be dynamically changed at any time to one of the calendars in ".calendars".
Globalize.cultures[ "default" ] = {
	// A unique name for the culture in the form <language code>-<country/region code>
	name: "en",
	// the name of the culture in the english language
	englishName: "English",
	// the name of the culture in its own language
	nativeName: "English",
	// whether the culture uses right-to-left text
	isRTL: false,
	// "language" is used for so-called "specific" cultures.
	// For example, the culture "es-CL" means "Spanish, in Chili".
	// It represents the Spanish-speaking culture as it is in Chili,
	// which might have different formatting rules or even translations
	// than Spanish in Spain. A "neutral" culture is one that is not
	// specific to a region. For example, the culture "es" is the generic
	// Spanish culture, which may be a more generalized version of the language
	// that may or may not be what a specific culture expects.
	// For a specific culture like "es-CL", the "language" field refers to the
	// neutral, generic culture information for the language it is using.
	// This is not always a simple matter of the string before the dash.
	// For example, the "zh-Hans" culture is netural (Simplified Chinese).
	// And the "zh-SG" culture is Simplified Chinese in Singapore, whose lanugage
	// field is "zh-CHS", not "zh".
	// This field should be used to navigate from a specific culture to it's
	// more general, neutral culture. If a culture is already as general as it
	// can get, the language may refer to itself.
	language: "en",
	// numberFormat defines general number formatting rules, like the digits in
	// each grouping, the group separator, and how negative numbers are displayed.
	numberFormat: {
		// [negativePattern]
		// Note, numberFormat.pattern has no "positivePattern" unlike percent and currency,
		// but is still defined as an array for consistency with them.
		//   negativePattern: one of "(n)|-n|- n|n-|n -"
		pattern: [ "-n" ],
		// number of decimal places normally shown
		decimals: 2,
		// string that separates number groups, as in 1,000,000
		",": ",",
		// string that separates a number from the fractional portion, as in 1.99
		".": ".",
		// array of numbers indicating the size of each number group.
		// TODO: more detailed description and example
		groupSizes: [ 3 ],
		// symbol used for positive numbers
		"+": "+",
		// symbol used for negative numbers
		"-": "-",
		// symbol used for NaN (Not-A-Number)
		"NaN": "NaN",
		// symbol used for Negative Infinity
		negativeInfinity: "-Infinity",
		// symbol used for Positive Infinity
		positiveInfinity: "Infinity",
		percent: {
			// [negativePattern, positivePattern]
			//   negativePattern: one of "-n %|-n%|-%n|%-n|%n-|n-%|n%-|-% n|n %-|% n-|% -n|n- %"
			//   positivePattern: one of "n %|n%|%n|% n"
			pattern: [ "-n %", "n %" ],
			// number of decimal places normally shown
			decimals: 2,
			// array of numbers indicating the size of each number group.
			// TODO: more detailed description and example
			groupSizes: [ 3 ],
			// string that separates number groups, as in 1,000,000
			",": ",",
			// string that separates a number from the fractional portion, as in 1.99
			".": ".",
			// symbol used to represent a percentage
			symbol: "%"
		},
		currency: {
			// [negativePattern, positivePattern]
			//   negativePattern: one of "($n)|-$n|$-n|$n-|(n$)|-n$|n-$|n$-|-n $|-$ n|n $-|$ n-|$ -n|n- $|($ n)|(n $)"
			//   positivePattern: one of "$n|n$|$ n|n $"
			pattern: [ "($n)", "$n" ],
			// number of decimal places normally shown
			decimals: 2,
			// array of numbers indicating the size of each number group.
			// TODO: more detailed description and example
			groupSizes: [ 3 ],
			// string that separates number groups, as in 1,000,000
			",": ",",
			// string that separates a number from the fractional portion, as in 1.99
			".": ".",
			// symbol used to represent currency
			symbol: "$"
		}
	},
	// calendars defines all the possible calendars used by this culture.
	// There should be at least one defined with name "standard", and is the default
	// calendar used by the culture.
	// A calendar contains information about how dates are formatted, information about
	// the calendar's eras, a standard set of the date formats,
	// translations for day and month names, and if the calendar is not based on the Gregorian
	// calendar, conversion functions to and from the Gregorian calendar.
	calendars: {
		standard: {
			// name that identifies the type of calendar this is
			name: "Gregorian_USEnglish",
			// separator of parts of a date (e.g. "/" in 11/05/1955)
			"/": "/",
			// separator of parts of a time (e.g. ":" in 05:44 PM)
			":": ":",
			// the first day of the week (0 = Sunday, 1 = Monday, etc)
			firstDay: 0,
			days: {
				// full day names
				names: [ "Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday" ],
				// abbreviated day names
				namesAbbr: [ "Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat" ],
				// shortest day names
				namesShort: [ "Su", "Mo", "Tu", "We", "Th", "Fr", "Sa" ]
			},
			months: {
				// full month names (13 months for lunar calendards -- 13th month should be "" if not lunar)
				names: [ "January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December", "" ],
				// abbreviated month names
				namesAbbr: [ "Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec", "" ]
			},
			// AM and PM designators in one of these forms:
			// The usual view, and the upper and lower case versions
			//   [ standard, lowercase, uppercase ]
			// The culture does not use AM or PM (likely all standard date formats use 24 hour time)
			//   null
			AM: [ "AM", "am", "AM" ],
			PM: [ "PM", "pm", "PM" ],
			eras: [
				// eras in reverse chronological order.
				// name: the name of the era in this culture (e.g. A.D., C.E.)
				// start: when the era starts in ticks (gregorian, gmt), null if it is the earliest supported era.
				// offset: offset in years from gregorian calendar
				{
					"name": "A.D.",
					"start": null,
					"offset": 0
				}
			],
			// when a two digit year is given, it will never be parsed as a four digit
			// year greater than this year (in the appropriate era for the culture)
			// Set it as a full year (e.g. 2029) or use an offset format starting from
			// the current year: "+19" would correspond to 2029 if the current year 2010.
			twoDigitYearMax: 2029,
			// set of predefined date and time patterns used by the culture
			// these represent the format someone in this culture would expect
			// to see given the portions of the date that are shown.
			patterns: {
				// short date pattern
				d: "M/d/yyyy",
				// long date pattern
				D: "dddd, MMMM dd, yyyy",
				// short time pattern
				t: "h:mm tt",
				// long time pattern
				T: "h:mm:ss tt",
				// long date, short time pattern
				f: "dddd, MMMM dd, yyyy h:mm tt",
				// long date, long time pattern
				F: "dddd, MMMM dd, yyyy h:mm:ss tt",
				// month/day pattern
				M: "MMMM dd",
				// month/year pattern
				Y: "yyyy MMMM",
				// S is a sortable format that does not vary by culture
				S: "yyyy\u0027-\u0027MM\u0027-\u0027dd\u0027T\u0027HH\u0027:\u0027mm\u0027:\u0027ss"
			}
			// optional fields for each calendar:
			/*
			monthsGenitive:
				Same as months but used when the day preceeds the month.
				Omit if the culture has no genitive distinction in month names.
				For an explaination of genitive months, see http://blogs.msdn.com/michkap/archive/2004/12/25/332259.aspx
			convert:
				Allows for the support of non-gregorian based calendars. This convert object is used to
				to convert a date to and from a gregorian calendar date to handle parsing and formatting.
				The two functions:
					fromGregorian( date )
						Given the date as a parameter, return an array with parts [ year, month, day ]
						corresponding to the non-gregorian based year, month, and day for the calendar.
					toGregorian( year, month, day )
						Given the non-gregorian year, month, and day, return a new Date() object
						set to the corresponding date in the gregorian calendar.
			*/
		}
	},
	// For localized strings
	messages: {}
};

Globalize.cultures[ "default" ].calendar = Globalize.cultures[ "default" ].calendars.standard;

Globalize.cultures.en = Globalize.cultures[ "default" ];

Globalize.cultureSelector = "en";

//
// private variables
//

regexHex = /^0x[a-f0-9]+$/i;
regexInfinity = /^[+\-]?infinity$/i;
regexParseFloat = /^[+\-]?\d*\.?\d*(e[+\-]?\d+)?$/;
regexTrim = /^\s+|\s+$/g;

//
// private JavaScript utility functions
//

arrayIndexOf = function( array, item ) {
	if ( array.indexOf ) {
		return array.indexOf( item );
	}
	for ( var i = 0, length = array.length; i < length; i++ ) {
		if ( array[i] === item ) {
			return i;
		}
	}
	return -1;
};

endsWith = function( value, pattern ) {
	return value.substr( value.length - pattern.length ) === pattern;
};

extend = function() {
	var options, name, src, copy, copyIsArray, clone,
		target = arguments[0] || {},
		i = 1,
		length = arguments.length,
		deep = false;

	// Handle a deep copy situation
	if ( typeof target === "boolean" ) {
		deep = target;
		target = arguments[1] || {};
		// skip the boolean and the target
		i = 2;
	}

	// Handle case when target is a string or something (possible in deep copy)
	if ( typeof target !== "object" && !isFunction(target) ) {
		target = {};
	}

	for ( ; i < length; i++ ) {
		// Only deal with non-null/undefined values
		if ( (options = arguments[ i ]) != null ) {
			// Extend the base object
			for ( name in options ) {
				src = target[ name ];
				copy = options[ name ];

				// Prevent never-ending loop
				if ( target === copy ) {
					continue;
				}

				// Recurse if we're merging plain objects or arrays
				if ( deep && copy && ( isObject(copy) || (copyIsArray = isArray(copy)) ) ) {
					if ( copyIsArray ) {
						copyIsArray = false;
						clone = src && isArray(src) ? src : [];

					} else {
						clone = src && isObject(src) ? src : {};
					}

					// Never move original objects, clone them
					target[ name ] = extend( deep, clone, copy );

				// Don't bring in undefined values
				} else if ( copy !== undefined ) {
					target[ name ] = copy;
				}
			}
		}
	}

	// Return the modified object
	return target;
};

isArray = Array.isArray || function( obj ) {
	return Object.prototype.toString.call( obj ) === "[object Array]";
};

isFunction = function( obj ) {
	return Object.prototype.toString.call( obj ) === "[object Function]";
};

isObject = function( obj ) {
	return Object.prototype.toString.call( obj ) === "[object Object]";
};

startsWith = function( value, pattern ) {
	return value.indexOf( pattern ) === 0;
};

trim = function( value ) {
	return ( value + "" ).replace( regexTrim, "" );
};

truncate = function( value ) {
	if ( isNaN( value ) ) {
		return NaN;
	}
	return Math[ value < 0 ? "ceil" : "floor" ]( value );
};

zeroPad = function( str, count, left ) {
	var l;
	for ( l = str.length; l < count; l += 1 ) {
		str = ( left ? ("0" + str) : (str + "0") );
	}
	return str;
};

//
// private Globalization utility functions
//

appendPreOrPostMatch = function( preMatch, strings ) {
	// appends pre- and post- token match strings while removing escaped characters.
	// Returns a single quote count which is used to determine if the token occurs
	// in a string literal.
	var quoteCount = 0,
		escaped = false;
	for ( var i = 0, il = preMatch.length; i < il; i++ ) {
		var c = preMatch.charAt( i );
		switch ( c ) {
			case "\'":
				if ( escaped ) {
					strings.push( "\'" );
				}
				else {
					quoteCount++;
				}
				escaped = false;
				break;
			case "\\":
				if ( escaped ) {
					strings.push( "\\" );
				}
				escaped = !escaped;
				break;
			default:
				strings.push( c );
				escaped = false;
				break;
		}
	}
	return quoteCount;
};

expandFormat = function( cal, format ) {
	// expands unspecified or single character date formats into the full pattern.
	format = format || "F";
	var pattern,
		patterns = cal.patterns,
		len = format.length;
	if ( len === 1 ) {
		pattern = patterns[ format ];
		if ( !pattern ) {
			throw "Invalid date format string \'" + format + "\'.";
		}
		format = pattern;
	}
	else if ( len === 2 && format.charAt(0) === "%" ) {
		// %X escape format -- intended as a custom format string that is only one character, not a built-in format.
		format = format.charAt( 1 );
	}
	return format;
};

formatDate = function( value, format, culture ) {
	var cal = culture.calendar,
		convert = cal.convert,
		ret;

	if ( !format || !format.length || format === "i" ) {
		if ( culture && culture.name.length ) {
			if ( convert ) {
				// non-gregorian calendar, so we cannot use built-in toLocaleString()
				ret = formatDate( value, cal.patterns.F, culture );
			}
			else {
				var eraDate = new Date( value.getTime() ),
					era = getEra( value, cal.eras );
				eraDate.setFullYear( getEraYear(value, cal, era) );
				ret = eraDate.toLocaleString();
			}
		}
		else {
			ret = value.toString();
		}
		return ret;
	}

	var eras = cal.eras,
		sortable = format === "s";
	format = expandFormat( cal, format );

	// Start with an empty string
	ret = [];
	var hour,
		zeros = [ "0", "00", "000" ],
		foundDay,
		checkedDay,
		dayPartRegExp = /([^d]|^)(d|dd)([^d]|$)/g,
		quoteCount = 0,
		tokenRegExp = getTokenRegExp(),
		converted;

	function padZeros( num, c ) {
		var r, s = num + "";
		if ( c > 1 && s.length < c ) {
			r = ( zeros[c - 2] + s);
			return r.substr( r.length - c, c );
		}
		else {
			r = s;
		}
		return r;
	}

	function hasDay() {
		if ( foundDay || checkedDay ) {
			return foundDay;
		}
		foundDay = dayPartRegExp.test( format );
		checkedDay = true;
		return foundDay;
	}

	function getPart( date, part ) {
		if ( converted ) {
			return converted[ part ];
		}
		switch ( part ) {
			case 0:
				return date.getFullYear();
			case 1:
				return date.getMonth();
			case 2:
				return date.getDate();
			default:
				throw "Invalid part value " + part;
		}
	}

	if ( !sortable && convert ) {
		converted = convert.fromGregorian( value );
	}

	for ( ; ; ) {
		// Save the current index
		var index = tokenRegExp.lastIndex,
			// Look for the next pattern
			ar = tokenRegExp.exec( format );

		// Append the text before the pattern (or the end of the string if not found)
		var preMatch = format.slice( index, ar ? ar.index : format.length );
		quoteCount += appendPreOrPostMatch( preMatch, ret );

		if ( !ar ) {
			break;
		}

		// do not replace any matches that occur inside a string literal.
		if ( quoteCount % 2 ) {
			ret.push( ar[0] );
			continue;
		}

		var current = ar[ 0 ],
			clength = current.length;

		switch ( current ) {
			case "ddd":
				//Day of the week, as a three-letter abbreviation
			case "dddd":
				// Day of the week, using the full name
				var names = ( clength === 3 ) ? cal.days.namesAbbr : cal.days.names;
				ret.push( names[value.getDay()] );
				break;
			case "d":
				// Day of month, without leading zero for single-digit days
			case "dd":
				// Day of month, with leading zero for single-digit days
				foundDay = true;
				ret.push(
					padZeros( getPart(value, 2), clength )
				);
				break;
			case "MMM":
				// Month, as a three-letter abbreviation
			case "MMMM":
				// Month, using the full name
				var part = getPart( value, 1 );
				ret.push(
					( cal.monthsGenitive && hasDay() ) ?
					( cal.monthsGenitive[ clength === 3 ? "namesAbbr" : "names" ][ part ] ) :
					( cal.months[ clength === 3 ? "namesAbbr" : "names" ][ part ] )
				);
				break;
			case "M":
				// Month, as digits, with no leading zero for single-digit months
			case "MM":
				// Month, as digits, with leading zero for single-digit months
				ret.push(
					padZeros( getPart(value, 1) + 1, clength )
				);
				break;
			case "y":
				// Year, as two digits, but with no leading zero for years less than 10
			case "yy":
				// Year, as two digits, with leading zero for years less than 10
			case "yyyy":
				// Year represented by four full digits
				part = converted ? converted[ 0 ] : getEraYear( value, cal, getEra(value, eras), sortable );
				if ( clength < 4 ) {
					part = part % 100;
				}
				ret.push(
					padZeros( part, clength )
				);
				break;
			case "h":
				// Hours with no leading zero for single-digit hours, using 12-hour clock
			case "hh":
				// Hours with leading zero for single-digit hours, using 12-hour clock
				hour = value.getHours() % 12;
				if ( hour === 0 ) hour = 12;
				ret.push(
					padZeros( hour, clength )
				);
				break;
			case "H":
				// Hours with no leading zero for single-digit hours, using 24-hour clock
			case "HH":
				// Hours with leading zero for single-digit hours, using 24-hour clock
				ret.push(
					padZeros( value.getHours(), clength )
				);
				break;
			case "m":
				// Minutes with no leading zero for single-digit minutes
			case "mm":
				// Minutes with leading zero for single-digit minutes
				ret.push(
					padZeros( value.getMinutes(), clength )
				);
				break;
			case "s":
				// Seconds with no leading zero for single-digit seconds
			case "ss":
				// Seconds with leading zero for single-digit seconds
				ret.push(
					padZeros( value.getSeconds(), clength )
				);
				break;
			case "t":
				// One character am/pm indicator ("a" or "p")
			case "tt":
				// Multicharacter am/pm indicator
				part = value.getHours() < 12 ? ( cal.AM ? cal.AM[0] : " " ) : ( cal.PM ? cal.PM[0] : " " );
				ret.push( clength === 1 ? part.charAt(0) : part );
				break;
			case "f":
				// Deciseconds
			case "ff":
				// Centiseconds
			case "fff":
				// Milliseconds
				ret.push(
					padZeros( value.getMilliseconds(), 3 ).substr( 0, clength )
				);
				break;
			case "z":
				// Time zone offset, no leading zero
			case "zz":
				// Time zone offset with leading zero
				hour = value.getTimezoneOffset() / 60;
				ret.push(
					( hour <= 0 ? "+" : "-" ) + padZeros( Math.floor(Math.abs(hour)), clength )
				);
				break;
			case "zzz":
				// Time zone offset with leading zero
				hour = value.getTimezoneOffset() / 60;
				ret.push(
					( hour <= 0 ? "+" : "-" ) + padZeros( Math.floor(Math.abs(hour)), 2 ) +
					// Hard coded ":" separator, rather than using cal.TimeSeparator
					// Repeated here for consistency, plus ":" was already assumed in date parsing.
					":" + padZeros( Math.abs(value.getTimezoneOffset() % 60), 2 )
				);
				break;
			case "g":
			case "gg":
				if ( cal.eras ) {
					ret.push(
						cal.eras[ getEra(value, eras) ].name
					);
				}
				break;
		case "/":
			ret.push( cal["/"] );
			break;
		default:
			throw "Invalid date format pattern \'" + current + "\'.";
		}
	}
	return ret.join( "" );
};

// formatNumber
(function() {
	var expandNumber;

	expandNumber = function( number, precision, formatInfo ) {
		var groupSizes = formatInfo.groupSizes,
			curSize = groupSizes[ 0 ],
			curGroupIndex = 1,
			factor = Math.pow( 10, precision ),
			rounded = Math.round( number * factor ) / factor;

		if ( !isFinite(rounded) ) {
			rounded = number;
		}
		number = rounded;

		var numberString = number+"",
			right = "",
			split = numberString.split( /e/i ),
			exponent = split.length > 1 ? parseInt( split[1], 10 ) : 0;
		numberString = split[ 0 ];
		split = numberString.split( "." );
		numberString = split[ 0 ];
		right = split.length > 1 ? split[ 1 ] : "";

		var l;
		if ( exponent > 0 ) {
			right = zeroPad( right, exponent, false );
			numberString += right.slice( 0, exponent );
			right = right.substr( exponent );
		}
		else if ( exponent < 0 ) {
			exponent = -exponent;
			numberString = zeroPad( numberString, exponent + 1, true );
			right = numberString.slice( -exponent, numberString.length ) + right;
			numberString = numberString.slice( 0, -exponent );
		}

		if ( precision > 0 ) {
			right = formatInfo[ "." ] +
				( (right.length > precision) ? right.slice(0, precision) : zeroPad(right, precision) );
		}
		else {
			right = "";
		}

		var stringIndex = numberString.length - 1,
			sep = formatInfo[ "," ],
			ret = "";

		while ( stringIndex >= 0 ) {
			if ( curSize === 0 || curSize > stringIndex ) {
				return numberString.slice( 0, stringIndex + 1 ) + ( ret.length ? (sep + ret + right) : right );
			}
			ret = numberString.slice( stringIndex - curSize + 1, stringIndex + 1 ) + ( ret.length ? (sep + ret) : "" );

			stringIndex -= curSize;

			if ( curGroupIndex < groupSizes.length ) {
				curSize = groupSizes[ curGroupIndex ];
				curGroupIndex++;
			}
		}

		return numberString.slice( 0, stringIndex + 1 ) + sep + ret + right;
	};

	formatNumber = function( value, format, culture ) {
		if ( !isFinite(value) ) {
			if ( value === Infinity ) {
				return culture.numberFormat.positiveInfinity;
			}
			if ( value === -Infinity ) {
				return culture.numberFormat.negativeInfinity;
			}
			return culture.numberFormat.NaN;
		}
		if ( !format || format === "i" ) {
			return culture.name.length ? value.toLocaleString() : value.toString();
		}
		format = format || "D";

		var nf = culture.numberFormat,
			number = Math.abs( value ),
			precision = -1,
			pattern;
		if ( format.length > 1 ) precision = parseInt( format.slice(1), 10 );

		var current = format.charAt( 0 ).toUpperCase(),
			formatInfo;

		switch ( current ) {
			case "D":
				pattern = "n";
				number = truncate( number );
				if ( precision !== -1 ) {
					number = zeroPad( "" + number, precision, true );
				}
				if ( value < 0 ) number = "-" + number;
				break;
			case "N":
				formatInfo = nf;
				/* falls through */
			case "C":
				formatInfo = formatInfo || nf.currency;
				/* falls through */
			case "P":
				formatInfo = formatInfo || nf.percent;
				pattern = value < 0 ? formatInfo.pattern[ 0 ] : ( formatInfo.pattern[1] || "n" );
				if ( precision === -1 ) precision = formatInfo.decimals;
				number = expandNumber( number * (current === "P" ? 100 : 1), precision, formatInfo );
				break;
			default:
				throw "Bad number format specifier: " + current;
		}

		var patternParts = /n|\$|-|%/g,
			ret = "";
		for ( ; ; ) {
			var index = patternParts.lastIndex,
				ar = patternParts.exec( pattern );

			ret += pattern.slice( index, ar ? ar.index : pattern.length );

			if ( !ar ) {
				break;
			}

			switch ( ar[0] ) {
				case "n":
					ret += number;
					break;
				case "$":
					ret += nf.currency.symbol;
					break;
				case "-":
					// don't make 0 negative
					if ( /[1-9]/.test(number) ) {
						ret += nf[ "-" ];
					}
					break;
				case "%":
					ret += nf.percent.symbol;
					break;
			}
		}

		return ret;
	};

}());

getTokenRegExp = function() {
	// regular expression for matching date and time tokens in format strings.
	return (/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g);
};

getEra = function( date, eras ) {
	if ( !eras ) return 0;
	var start, ticks = date.getTime();
	for ( var i = 0, l = eras.length; i < l; i++ ) {
		start = eras[ i ].start;
		if ( start === null || ticks >= start ) {
			return i;
		}
	}
	return 0;
};

getEraYear = function( date, cal, era, sortable ) {
	var year = date.getFullYear();
	if ( !sortable && cal.eras ) {
		// convert normal gregorian year to era-shifted gregorian
		// year by subtracting the era offset
		year -= cal.eras[ era ].offset;
	}
	return year;
};

// parseExact
(function() {
	var expandYear,
		getDayIndex,
		getMonthIndex,
		getParseRegExp,
		outOfRange,
		toUpper,
		toUpperArray;

	expandYear = function( cal, year ) {
		// expands 2-digit year into 4 digits.
		if ( year < 100 ) {
			var now = new Date(),
				era = getEra( now ),
				curr = getEraYear( now, cal, era ),
				twoDigitYearMax = cal.twoDigitYearMax;
			twoDigitYearMax = typeof twoDigitYearMax === "string" ? new Date().getFullYear() % 100 + parseInt( twoDigitYearMax, 10 ) : twoDigitYearMax;
			year += curr - ( curr % 100 );
			if ( year > twoDigitYearMax ) {
				year -= 100;
			}
		}
		return year;
	};

	getDayIndex = function	( cal, value, abbr ) {
		var ret,
			days = cal.days,
			upperDays = cal._upperDays;
		if ( !upperDays ) {
			cal._upperDays = upperDays = [
				toUpperArray( days.names ),
				toUpperArray( days.namesAbbr ),
				toUpperArray( days.namesShort )
			];
		}
		value = toUpper( value );
		if ( abbr ) {
			ret = arrayIndexOf( upperDays[1], value );
			if ( ret === -1 ) {
				ret = arrayIndexOf( upperDays[2], value );
			}
		}
		else {
			ret = arrayIndexOf( upperDays[0], value );
		}
		return ret;
	};

	getMonthIndex = function( cal, value, abbr ) {
		var months = cal.months,
			monthsGen = cal.monthsGenitive || cal.months,
			upperMonths = cal._upperMonths,
			upperMonthsGen = cal._upperMonthsGen;
		if ( !upperMonths ) {
			cal._upperMonths = upperMonths = [
				toUpperArray( months.names ),
				toUpperArray( months.namesAbbr )
			];
			cal._upperMonthsGen = upperMonthsGen = [
				toUpperArray( monthsGen.names ),
				toUpperArray( monthsGen.namesAbbr )
			];
		}
		value = toUpper( value );
		var i = arrayIndexOf( abbr ? upperMonths[1] : upperMonths[0], value );
		if ( i < 0 ) {
			i = arrayIndexOf( abbr ? upperMonthsGen[1] : upperMonthsGen[0], value );
		}
		return i;
	};

	getParseRegExp = function( cal, format ) {
		// converts a format string into a regular expression with groups that
		// can be used to extract date fields from a date string.
		// check for a cached parse regex.
		var re = cal._parseRegExp;
		if ( !re ) {
			cal._parseRegExp = re = {};
		}
		else {
			var reFormat = re[ format ];
			if ( reFormat ) {
				return reFormat;
			}
		}

		// expand single digit formats, then escape regular expression characters.
		var expFormat = expandFormat( cal, format ).replace( /([\^\$\.\*\+\?\|\[\]\(\)\{\}])/g, "\\\\$1" ),
			regexp = [ "^" ],
			groups = [],
			index = 0,
			quoteCount = 0,
			tokenRegExp = getTokenRegExp(),
			match;

		// iterate through each date token found.
		while ( (match = tokenRegExp.exec(expFormat)) !== null ) {
			var preMatch = expFormat.slice( index, match.index );
			index = tokenRegExp.lastIndex;

			// don't replace any matches that occur inside a string literal.
			quoteCount += appendPreOrPostMatch( preMatch, regexp );
			if ( quoteCount % 2 ) {
				regexp.push( match[0] );
				continue;
			}

			// add a regex group for the token.
			var m = match[ 0 ],
				len = m.length,
				add;
			switch ( m ) {
				case "dddd": case "ddd":
				case "MMMM": case "MMM":
				case "gg": case "g":
					add = "(\\D+)";
					break;
				case "tt": case "t":
					add = "(\\D*)";
					break;
				case "yyyy":
				case "fff":
				case "ff":
				case "f":
					add = "(\\d{" + len + "})";
					break;
				case "dd": case "d":
				case "MM": case "M":
				case "yy": case "y":
				case "HH": case "H":
				case "hh": case "h":
				case "mm": case "m":
				case "ss": case "s":
					add = "(\\d\\d?)";
					break;
				case "zzz":
					add = "([+-]?\\d\\d?:\\d{2})";
					break;
				case "zz": case "z":
					add = "([+-]?\\d\\d?)";
					break;
				case "/":
					add = "(\\/)";
					break;
				default:
					throw "Invalid date format pattern \'" + m + "\'.";
			}
			if ( add ) {
				regexp.push( add );
			}
			groups.push( match[0] );
		}
		appendPreOrPostMatch( expFormat.slice(index), regexp );
		regexp.push( "$" );

		// allow whitespace to differ when matching formats.
		var regexpStr = regexp.join( "" ).replace( /\s+/g, "\\s+" ),
			parseRegExp = { "regExp": regexpStr, "groups": groups };

		// cache the regex for this format.
		return re[ format ] = parseRegExp;
	};

	outOfRange = function( value, low, high ) {
		return value < low || value > high;
	};

	toUpper = function( value ) {
		// "he-IL" has non-breaking space in weekday names.
		return value.split( "\u00A0" ).join( " " ).toUpperCase();
	};

	toUpperArray = function( arr ) {
		var results = [];
		for ( var i = 0, l = arr.length; i < l; i++ ) {
			results[ i ] = toUpper( arr[i] );
		}
		return results;
	};

	parseExact = function( value, format, culture ) {
		// try to parse the date string by matching against the format string
		// while using the specified culture for date field names.
		value = trim( value );
		var cal = culture.calendar,
			// convert date formats into regular expressions with groupings.
			// use the regexp to determine the input format and extract the date fields.
			parseInfo = getParseRegExp( cal, format ),
			match = new RegExp( parseInfo.regExp ).exec( value );
		if ( match === null ) {
			return null;
		}
		// found a date format that matches the input.
		var groups = parseInfo.groups,
			era = null, year = null, month = null, date = null, weekDay = null,
			hour = 0, hourOffset, min = 0, sec = 0, msec = 0, tzMinOffset = null,
			pmHour = false;
		// iterate the format groups to extract and set the date fields.
		for ( var j = 0, jl = groups.length; j < jl; j++ ) {
			var matchGroup = match[ j + 1 ];
			if ( matchGroup ) {
				var current = groups[ j ],
					clength = current.length,
					matchInt = parseInt( matchGroup, 10 );
				switch ( current ) {
					case "dd": case "d":
						// Day of month.
						date = matchInt;
						// check that date is generally in valid range, also checking overflow below.
						if ( outOfRange(date, 1, 31) ) return null;
						break;
					case "MMM": case "MMMM":
						month = getMonthIndex( cal, matchGroup, clength === 3 );
						if ( outOfRange(month, 0, 11) ) return null;
						break;
					case "M": case "MM":
						// Month.
						month = matchInt - 1;
						if ( outOfRange(month, 0, 11) ) return null;
						break;
					case "y": case "yy":
					case "yyyy":
						year = clength < 4 ? expandYear( cal, matchInt ) : matchInt;
						if ( outOfRange(year, 0, 9999) ) return null;
						break;
					case "h": case "hh":
						// Hours (12-hour clock).
						hour = matchInt;
						if ( hour === 12 ) hour = 0;
						if ( outOfRange(hour, 0, 11) ) return null;
						break;
					case "H": case "HH":
						// Hours (24-hour clock).
						hour = matchInt;
						if ( outOfRange(hour, 0, 23) ) return null;
						break;
					case "m": case "mm":
						// Minutes.
						min = matchInt;
						if ( outOfRange(min, 0, 59) ) return null;
						break;
					case "s": case "ss":
						// Seconds.
						sec = matchInt;
						if ( outOfRange(sec, 0, 59) ) return null;
						break;
					case "tt": case "t":
						// AM/PM designator.
						// see if it is standard, upper, or lower case PM. If not, ensure it is at least one of
						// the AM tokens. If not, fail the parse for this format.
						pmHour = cal.PM && ( matchGroup === cal.PM[0] || matchGroup === cal.PM[1] || matchGroup === cal.PM[2] );
						if (
							!pmHour && (
								!cal.AM || ( matchGroup !== cal.AM[0] && matchGroup !== cal.AM[1] && matchGroup !== cal.AM[2] )
							)
						) return null;
						break;
					case "f":
						// Deciseconds.
					case "ff":
						// Centiseconds.
					case "fff":
						// Milliseconds.
						msec = matchInt * Math.pow( 10, 3 - clength );
						if ( outOfRange(msec, 0, 999) ) return null;
						break;
					case "ddd":
						// Day of week.
					case "dddd":
						// Day of week.
						weekDay = getDayIndex( cal, matchGroup, clength === 3 );
						if ( outOfRange(weekDay, 0, 6) ) return null;
						break;
					case "zzz":
						// Time zone offset in +/- hours:min.
						var offsets = matchGroup.split( /:/ );
						if ( offsets.length !== 2 ) return null;
						hourOffset = parseInt( offsets[0], 10 );
						if ( outOfRange(hourOffset, -12, 13) ) return null;
						var minOffset = parseInt( offsets[1], 10 );
						if ( outOfRange(minOffset, 0, 59) ) return null;
						tzMinOffset = ( hourOffset * 60 ) + ( startsWith(matchGroup, "-") ? -minOffset : minOffset );
						break;
					case "z": case "zz":
						// Time zone offset in +/- hours.
						hourOffset = matchInt;
						if ( outOfRange(hourOffset, -12, 13) ) return null;
						tzMinOffset = hourOffset * 60;
						break;
					case "g": case "gg":
						var eraName = matchGroup;
						if ( !eraName || !cal.eras ) return null;
						eraName = trim( eraName.toLowerCase() );
						for ( var i = 0, l = cal.eras.length; i < l; i++ ) {
							if ( eraName === cal.eras[i].name.toLowerCase() ) {
								era = i;
								break;
							}
						}
						// could not find an era with that name
						if ( era === null ) return null;
						break;
				}
			}
		}
		var result = new Date(), defaultYear, convert = cal.convert;
		defaultYear = convert ? convert.fromGregorian( result )[ 0 ] : result.getFullYear();
		if ( year === null ) {
			year = defaultYear;
		}
		else if ( cal.eras ) {
			// year must be shifted to normal gregorian year
			// but not if year was not specified, its already normal gregorian
			// per the main if clause above.
			year += cal.eras[( era || 0 )].offset;
		}
		// set default day and month to 1 and January, so if unspecified, these are the defaults
		// instead of the current day/month.
		if ( month === null ) {
			month = 0;
		}
		if ( date === null ) {
			date = 1;
		}
		// now have year, month, and date, but in the culture's calendar.
		// convert to gregorian if necessary
		if ( convert ) {
			result = convert.toGregorian( year, month, date );
			// conversion failed, must be an invalid match
			if ( result === null ) return null;
		}
		else {
			// have to set year, month and date together to avoid overflow based on current date.
			result.setFullYear( year, month, date );
			// check to see if date overflowed for specified month (only checked 1-31 above).
			if ( result.getDate() !== date ) return null;
			// invalid day of week.
			if ( weekDay !== null && result.getDay() !== weekDay ) {
				return null;
			}
		}
		// if pm designator token was found make sure the hours fit the 24-hour clock.
		if ( pmHour && hour < 12 ) {
			hour += 12;
		}
		result.setHours( hour, min, sec, msec );
		if ( tzMinOffset !== null ) {
			// adjust timezone to utc before applying local offset.
			var adjustedMin = result.getMinutes() - ( tzMinOffset + result.getTimezoneOffset() );
			// Safari limits hours and minutes to the range of -127 to 127.  We need to use setHours
			// to ensure both these fields will not exceed this range.	adjustedMin will range
			// somewhere between -1440 and 1500, so we only need to split this into hours.
			result.setHours( result.getHours() + parseInt(adjustedMin / 60, 10), adjustedMin % 60 );
		}
		return result;
	};
}());

parseNegativePattern = function( value, nf, negativePattern ) {
	var neg = nf[ "-" ],
		pos = nf[ "+" ],
		ret;
	switch ( negativePattern ) {
		case "n -":
			neg = " " + neg;
			pos = " " + pos;
			/* falls through */
		case "n-":
			if ( endsWith(value, neg) ) {
				ret = [ "-", value.substr(0, value.length - neg.length) ];
			}
			else if ( endsWith(value, pos) ) {
				ret = [ "+", value.substr(0, value.length - pos.length) ];
			}
			break;
		case "- n":
			neg += " ";
			pos += " ";
			/* falls through */
		case "-n":
			if ( startsWith(value, neg) ) {
				ret = [ "-", value.substr(neg.length) ];
			}
			else if ( startsWith(value, pos) ) {
				ret = [ "+", value.substr(pos.length) ];
			}
			break;
		case "(n)":
			if ( startsWith(value, "(") && endsWith(value, ")") ) {
				ret = [ "-", value.substr(1, value.length - 2) ];
			}
			break;
	}
	return ret || [ "", value ];
};

//
// public instance functions
//

Globalize.prototype.findClosestCulture = function( cultureSelector ) {
	return Globalize.findClosestCulture.call( this, cultureSelector );
};

Globalize.prototype.format = function( value, format, cultureSelector ) {
	return Globalize.format.call( this, value, format, cultureSelector );
};

Globalize.prototype.localize = function( key, cultureSelector ) {
	return Globalize.localize.call( this, key, cultureSelector );
};

Globalize.prototype.parseInt = function( value, radix, cultureSelector ) {
	return Globalize.parseInt.call( this, value, radix, cultureSelector );
};

Globalize.prototype.parseFloat = function( value, radix, cultureSelector ) {
	return Globalize.parseFloat.call( this, value, radix, cultureSelector );
};

Globalize.prototype.culture = function( cultureSelector ) {
	return Globalize.culture.call( this, cultureSelector );
};

//
// public singleton functions
//

Globalize.addCultureInfo = function( cultureName, baseCultureName, info ) {

	var base = {},
		isNew = false;

	if ( typeof cultureName !== "string" ) {
		// cultureName argument is optional string. If not specified, assume info is first
		// and only argument. Specified info deep-extends current culture.
		info = cultureName;
		cultureName = this.culture().name;
		base = this.cultures[ cultureName ];
	} else if ( typeof baseCultureName !== "string" ) {
		// baseCultureName argument is optional string. If not specified, assume info is second
		// argument. Specified info deep-extends specified culture.
		// If specified culture does not exist, create by deep-extending default
		info = baseCultureName;
		isNew = ( this.cultures[ cultureName ] == null );
		base = this.cultures[ cultureName ] || this.cultures[ "default" ];
	} else {
		// cultureName and baseCultureName specified. Assume a new culture is being created
		// by deep-extending an specified base culture
		isNew = true;
		base = this.cultures[ baseCultureName ];
	}

	this.cultures[ cultureName ] = extend(true, {},
		base,
		info
	);
	// Make the standard calendar the current culture if it's a new culture
	if ( isNew ) {
		this.cultures[ cultureName ].calendar = this.cultures[ cultureName ].calendars.standard;
	}
};

Globalize.findClosestCulture = function( name ) {
	var match;
	if ( !name ) {
		return this.findClosestCulture( this.cultureSelector ) || this.cultures[ "default" ];
	}
	if ( typeof name === "string" ) {
		name = name.split( "," );
	}
	if ( isArray(name) ) {
		var lang,
			cultures = this.cultures,
			list = name,
			i, l = list.length,
			prioritized = [];
		for ( i = 0; i < l; i++ ) {
			name = trim( list[i] );
			var pri, parts = name.split( ";" );
			lang = trim( parts[0] );
			if ( parts.length === 1 ) {
				pri = 1;
			}
			else {
				name = trim( parts[1] );
				if ( name.indexOf("q=") === 0 ) {
					name = name.substr( 2 );
					pri = parseFloat( name );
					pri = isNaN( pri ) ? 0 : pri;
				}
				else {
					pri = 1;
				}
			}
			prioritized.push({ lang: lang, pri: pri });
		}
		prioritized.sort(function( a, b ) {
			if ( a.pri < b.pri ) {
				return 1;
			} else if ( a.pri > b.pri ) {
				return -1;
			}
			return 0;
		});
		// exact match
		for ( i = 0; i < l; i++ ) {
			lang = prioritized[ i ].lang;
			match = cultures[ lang ];
			if ( match ) {
				return match;
			}
		}

		// neutral language match
		for ( i = 0; i < l; i++ ) {
			lang = prioritized[ i ].lang;
			do {
				var index = lang.lastIndexOf( "-" );
				if ( index === -1 ) {
					break;
				}
				// strip off the last part. e.g. en-US => en
				lang = lang.substr( 0, index );
				match = cultures[ lang ];
				if ( match ) {
					return match;
				}
			}
			while ( 1 );
		}

		// last resort: match first culture using that language
		for ( i = 0; i < l; i++ ) {
			lang = prioritized[ i ].lang;
			for ( var cultureKey in cultures ) {
				var culture = cultures[ cultureKey ];
				if ( culture.language == lang ) {
					return culture;
				}
			}
		}
	}
	else if ( typeof name === "object" ) {
		return name;
	}
	return match || null;
};

Globalize.format = function( value, format, cultureSelector ) {
	var culture = this.findClosestCulture( cultureSelector );
	if ( value instanceof Date ) {
		value = formatDate( value, format, culture );
	}
	else if ( typeof value === "number" ) {
		value = formatNumber( value, format, culture );
	}
	return value;
};

Globalize.localize = function( key, cultureSelector ) {
	return this.findClosestCulture( cultureSelector ).messages[ key ] ||
		this.cultures[ "default" ].messages[ key ];
};

Globalize.parseDate = function( value, formats, culture ) {
	culture = this.findClosestCulture( culture );

	var date, prop, patterns;
	if ( formats ) {
		if ( typeof formats === "string" ) {
			formats = [ formats ];
		}
		if ( formats.length ) {
			for ( var i = 0, l = formats.length; i < l; i++ ) {
				var format = formats[ i ];
				if ( format ) {
					date = parseExact( value, format, culture );
					if ( date ) {
						break;
					}
				}
			}
		}
	} else {
		patterns = culture.calendar.patterns;
		for ( prop in patterns ) {
			date = parseExact( value, patterns[prop], culture );
			if ( date ) {
				break;
			}
		}
	}

	return date || null;
};

Globalize.parseInt = function( value, radix, cultureSelector ) {
	return truncate( Globalize.parseFloat(value, radix, cultureSelector) );
};

Globalize.parseFloat = function( value, radix, cultureSelector ) {
	// radix argument is optional
	if ( typeof radix !== "number" ) {
		cultureSelector = radix;
		radix = 10;
	}

	var culture = this.findClosestCulture( cultureSelector );
	var ret = NaN,
		nf = culture.numberFormat;

	if ( value.indexOf(culture.numberFormat.currency.symbol) > -1 ) {
		// remove currency symbol
		value = value.replace( culture.numberFormat.currency.symbol, "" );
		// replace decimal seperator
		value = value.replace( culture.numberFormat.currency["."], culture.numberFormat["."] );
	}

	//Remove percentage character from number string before parsing
	if ( value.indexOf(culture.numberFormat.percent.symbol) > -1){
		value = value.replace( culture.numberFormat.percent.symbol, "" );
	}

	// remove spaces: leading, trailing and between - and number. Used for negative currency pt-BR
	value = value.replace( / /g, "" );

	// allow infinity or hexidecimal
	if ( regexInfinity.test(value) ) {
		ret = parseFloat( value );
	}
	else if ( !radix && regexHex.test(value) ) {
		ret = parseInt( value, 16 );
	}
	else {

		// determine sign and number
		var signInfo = parseNegativePattern( value, nf, nf.pattern[0] ),
			sign = signInfo[ 0 ],
			num = signInfo[ 1 ];

		// #44 - try parsing as "(n)"
		if ( sign === "" && nf.pattern[0] !== "(n)" ) {
			signInfo = parseNegativePattern( value, nf, "(n)" );
			sign = signInfo[ 0 ];
			num = signInfo[ 1 ];
		}

		// try parsing as "-n"
		if ( sign === "" && nf.pattern[0] !== "-n" ) {
			signInfo = parseNegativePattern( value, nf, "-n" );
			sign = signInfo[ 0 ];
			num = signInfo[ 1 ];
		}

		sign = sign || "+";

		// determine exponent and number
		var exponent,
			intAndFraction,
			exponentPos = num.indexOf( "e" );
		if ( exponentPos < 0 ) exponentPos = num.indexOf( "E" );
		if ( exponentPos < 0 ) {
			intAndFraction = num;
			exponent = null;
		}
		else {
			intAndFraction = num.substr( 0, exponentPos );
			exponent = num.substr( exponentPos + 1 );
		}
		// determine decimal position
		var integer,
			fraction,
			decSep = nf[ "." ],
			decimalPos = intAndFraction.indexOf( decSep );
		if ( decimalPos < 0 ) {
			integer = intAndFraction;
			fraction = null;
		}
		else {
			integer = intAndFraction.substr( 0, decimalPos );
			fraction = intAndFraction.substr( decimalPos + decSep.length );
		}
		// handle groups (e.g. 1,000,000)
		var groupSep = nf[ "," ];
		integer = integer.split( groupSep ).join( "" );
		var altGroupSep = groupSep.replace( /\u00A0/g, " " );
		if ( groupSep !== altGroupSep ) {
			integer = integer.split( altGroupSep ).join( "" );
		}
		// build a natively parsable number string
		var p = sign + integer;
		if ( fraction !== null ) {
			p += "." + fraction;
		}
		if ( exponent !== null ) {
			// exponent itself may have a number patternd
			var expSignInfo = parseNegativePattern( exponent, nf, "-n" );
			p += "e" + ( expSignInfo[0] || "+" ) + expSignInfo[ 1 ];
		}
		if ( regexParseFloat.test(p) ) {
			ret = parseFloat( p );
		}
	}
	return ret;
};

Globalize.culture = function( cultureSelector ) {
	// setter
	if ( typeof cultureSelector !== "undefined" ) {
		this.cultureSelector = cultureSelector;
	}
	// getter
	return this.findClosestCulture( cultureSelector ) || this.cultures[ "default" ];
};

}( this ));
;
(function(a,b){var c;if(typeof require!=="undefined"&&typeof exports!=="undefined"&&typeof module!=="undefined"){c=require("globalize")}else{c=a.Globalize}c.addCultureInfo("en-GB","default",{name:"en-GB",englishName:"English (United Kingdom)",nativeName:"English (United Kingdom)",numberFormat:{currency:{pattern:["-$n","$n"],symbol:"£"}},calendars:{standard:{firstDay:1,patterns:{d:"dd/MM/yyyy",D:"dd MMMM yyyy",t:"HH:mm",T:"HH:mm:ss",f:"dd MMMM yyyy HH:mm",F:"dd MMMM yyyy HH:mm:ss",M:"dd MMMM",Y:"MMMM yyyy"}}}});c.addCultureInfo("fr-FR","default",{name:"fr-FR",englishName:"French (France)",nativeName:"français (France)",language:"fr",numberFormat:{",":" ",".":",","NaN":"Non Numérique",negativeInfinity:"-Infini",positiveInfinity:"+Infini",percent:{",":" ",".":","},currency:{pattern:["-n $","n $"],",":" ",".":",",symbol:"€"}},calendars:{standard:{firstDay:1,days:{names:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],namesAbbr:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],namesShort:["di","lu","ma","me","je","ve","sa"]},months:{names:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre",""],namesAbbr:["janv.","févr.","mars","avr.","mai","juin","juil.","août","sept.","oct.","nov.","déc.",""]},AM:null,PM:null,eras:[{name:"ap. J.-C.",start:null,offset:0}],patterns:{d:"dd/MM/yyyy",D:"dddd d MMMM yyyy",t:"HH:mm",T:"HH:mm:ss",f:"dddd d MMMM yyyy HH:mm",F:"dddd d MMMM yyyy HH:mm:ss",M:"d MMMM",Y:"MMMM yyyy"}}}});c.addCultureInfo("ja-JP","default",{name:"ja-JP",englishName:"Japanese (Japan)",nativeName:"日本語 (日本)",language:"ja",numberFormat:{"NaN":"NaN (非数値)",negativeInfinity:"-∞",positiveInfinity:"+∞",percent:{pattern:["-n%","n%"]},currency:{pattern:["-$n","$n"],decimals:0,symbol:"¥"}},calendars:{standard:{days:{names:["日曜日","月曜日","火曜日","水曜日","木曜日","金曜日","土曜日"],namesAbbr:["日","月","火","水","木","金","土"],namesShort:["日","月","火","水","木","金","土"]},months:{names:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月",""],namesAbbr:["1","2","3","4","5","6","7","8","9","10","11","12",""]},AM:["午前","午前","午前"],PM:["午後","午後","午後"],eras:[{name:"西暦",start:null,offset:0}],patterns:{d:"yyyy/MM/dd",D:"yyyy'年'M'月'd'日'",t:"H:mm",T:"H:mm:ss",f:"yyyy'年'M'月'd'日' H:mm",F:"yyyy'年'M'月'd'日' H:mm:ss",M:"M'月'd'日'",Y:"yyyy'年'M'月'"}},Japanese:{name:"Japanese",days:{names:["日曜日","月曜日","火曜日","水曜日","木曜日","金曜日","土曜日"],namesAbbr:["日","月","火","水","木","金","土"],namesShort:["日","月","火","水","木","金","土"]},months:{names:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月",""],namesAbbr:["1","2","3","4","5","6","7","8","9","10","11","12",""]},AM:["午前","午前","午前"],PM:["午後","午後","午後"],eras:[{name:"平成",start:null,offset:1867},{name:"昭和",start:-1812153600000,offset:1911},{name:"大正",start:-1357603200000,offset:1925},{name:"明治",start:60022080000,offset:1988}],twoDigitYearMax:99,patterns:{d:"gg y/M/d",D:"gg y'年'M'月'd'日'",t:"H:mm",T:"H:mm:ss",f:"gg y'年'M'月'd'日' H:mm",F:"gg y'年'M'月'd'日' H:mm:ss",M:"M'月'd'日'",Y:"gg y'年'M'月'"}}}})}(this));;
/*! Copyright (c) 2011 Brandon Aaron (http://brandonaaron.net)
 * Licensed under the MIT License (LICENSE.txt).
 *
 * Thanks to: http://adomas.org/javascript-mouse-wheel/ for some pointers.
 * Thanks to: Mathias Bank(http://www.mathias-bank.de) for a scope bug fix.
 * Thanks to: Seamus Leahy for adding deltaX and deltaY
 *
 * Version: 3.0.6
 * 
 * Requires: 1.2.2+
 */
(function(a){function d(b){var c=b||window.event,d=[].slice.call(arguments,1),e=0,f=!0,g=0,h=0;return b=a.event.fix(c),b.type="mousewheel",c.wheelDelta&&(e=c.wheelDelta/120),c.detail&&(e=-c.detail/3),h=e,c.axis!==undefined&&c.axis===c.HORIZONTAL_AXIS&&(h=0,g=-1*e),c.wheelDeltaY!==undefined&&(h=c.wheelDeltaY/120),c.wheelDeltaX!==undefined&&(g=-1*c.wheelDeltaX/120),d.unshift(b,e,g,h),(a.event.dispatch||a.event.handle).apply(this,d)}var b=["DOMMouseScroll","mousewheel"];if(a.event.fixHooks)for(var c=b.length;c;)a.event.fixHooks[b[--c]]=a.event.mouseHooks;a.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var a=b.length;a;)this.addEventListener(b[--a],d,!1);else this.onmousewheel=d},teardown:function(){if(this.removeEventListener)for(var a=b.length;a;)this.removeEventListener(b[--a],d,!1);else this.onmousewheel=null}},a.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function(a){return this.unbind("mousewheel",a)}})})(jQuery)
;
/*
 * jQuery Form Plugin
 * version: 3.27.0-2013.02.06
 * @requires jQuery v1.5 or later
 *
 * Examples and documentation at: http://malsup.com/jquery/form/
 * Project repository: https://github.com/malsup/form
 * Dual licensed under the MIT and GPL licenses:
 *    http://malsup.github.com/mit-license.txt
 *    http://malsup.github.com/gpl-license-v2.txt
 */
(function(e){var c={};c.fileapi=e("<input type='file'/>").get(0).files!==undefined;c.formdata=window.FormData!==undefined;e.fn.ajaxSubmit=function(h){if(!this.length){d("ajaxSubmit: skipping submit process - no element selected");return this}var g,y,j,m=this;if(typeof h=="function"){h={success:h}}g=this.attr("method");y=this.attr("action");j=(typeof y==="string")?e.trim(y):"";j=j||window.location.href||"";if(j){j=(j.match(/^([^#]+)/)||[])[1]}h=e.extend(true,{url:j,success:e.ajaxSettings.success,type:g||"GET",iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},h);var s={};this.trigger("form-pre-serialize",[this,h,s]);if(s.veto){d("ajaxSubmit: submit vetoed via form-pre-serialize trigger");return this}if(h.beforeSerialize&&h.beforeSerialize(this,h)===false){d("ajaxSubmit: submit aborted via beforeSerialize callback");return this}var l=h.traditional;if(l===undefined){l=e.ajaxSettings.traditional}var p=[];var B,C=this.formToArray(h.semantic,p);if(h.data){h.extraData=h.data;B=e.param(h.data,l)}if(h.beforeSubmit&&h.beforeSubmit(C,this,h)===false){d("ajaxSubmit: submit aborted via beforeSubmit callback");return this}this.trigger("form-submit-validate",[C,this,h,s]);if(s.veto){d("ajaxSubmit: submit vetoed via form-submit-validate trigger");return this}var w=e.param(C,l);if(B){w=(w?(w+"&"+B):B)}if(h.type.toUpperCase()=="GET"){h.url+=(h.url.indexOf("?")>=0?"&":"?")+w;h.data=null}else{h.data=w}var E=[];if(h.resetForm){E.push(function(){m.resetForm()})}if(h.clearForm){E.push(function(){m.clearForm(h.includeHidden)})}if(!h.dataType&&h.target){var i=h.success||function(){};E.push(function(q){var k=h.replaceTarget?"replaceWith":"html";e(h.target)[k](q).each(i,arguments)})}else{if(h.success){E.push(h.success)}}h.success=function(H,q,I){var G=h.context||this;for(var F=0,k=E.length;F<k;F++){E[F].apply(G,[H,q,I||m,m])}};var A=e('input[type=file]:enabled[value!=""]',this);var n=A.length>0;var z="multipart/form-data";var v=(m.attr("enctype")==z||m.attr("encoding")==z);var u=c.fileapi&&c.formdata;d("fileAPI :"+u);var o=(n||v)&&!u;var t;if(h.iframe!==false&&(h.iframe||o)){if(h.closeKeepAlive){e.get(h.closeKeepAlive,function(){t=D(C)})}else{t=D(C)}}else{if((n||v)&&u){t=r(C)}else{t=e.ajax(h)}}m.removeData("jqxhr").data("jqxhr",t);for(var x=0;x<p.length;x++){p[x]=null}this.trigger("form-submit-notify",[this,h]);return this;function f(H){var I=e.param(H).split("&");var q=I.length;var k=[];var G,F;for(G=0;G<q;G++){I[G]=I[G].replace(/\+/g," ");F=I[G].split("=");k.push([decodeURIComponent(F[0]),decodeURIComponent(F[1])])}return k}function r(q){var k=new FormData();for(var F=0;F<q.length;F++){k.append(q[F].name,q[F].value)}if(h.extraData){var I=f(h.extraData);for(F=0;F<I.length;F++){if(I[F]){k.append(I[F][0],I[F][1])}}}h.data=null;var H=e.extend(true,{},e.ajaxSettings,h,{contentType:false,processData:false,cache:false,type:g||"POST"});if(h.uploadProgress){H.xhr=function(){var J=jQuery.ajaxSettings.xhr();if(J.upload){J.upload.addEventListener("progress",function(N){var M=0;var K=N.loaded||N.position;var L=N.total;if(N.lengthComputable){M=Math.ceil(K/L*100)}h.uploadProgress(N,K,L,M)},false)}return J}}H.data=null;var G=H.beforeSend;H.beforeSend=function(K,J){J.data=k;if(G){G.call(this,K,J)}};return e.ajax(H)}function D(ad){var I=m[0],H,Z,T,ab,W,K,O,M,N,X,aa,R;var L=!!e.fn.prop;var ag=e.Deferred();if(ad){for(Z=0;Z<p.length;Z++){H=e(p[Z]);if(L){H.prop("disabled",false)}else{H.removeAttr("disabled")}}}T=e.extend(true,{},e.ajaxSettings,h);T.context=T.context||T;W="jqFormIO"+(new Date().getTime());if(T.iframeTarget){K=e(T.iframeTarget);X=K.attr("name");if(!X){K.attr("name",W)}else{W=X}}else{K=e('<iframe name="'+W+'" src="'+T.iframeSrc+'" />');K.css({position:"absolute",top:"-1000px",left:"-1000px"})}O=K[0];M={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(ah){var ai=(ah==="timeout"?"timeout":"aborted");d("aborting upload... "+ai);this.aborted=1;try{if(O.contentWindow.document.execCommand){O.contentWindow.document.execCommand("Stop")}}catch(aj){}K.attr("src",T.iframeSrc);M.error=ai;if(T.error){T.error.call(T.context,M,ai,ah)}if(ab){e.event.trigger("ajaxError",[M,T,ai])}if(T.complete){T.complete.call(T.context,M,ai)}}};ab=T.global;if(ab&&0===e.active++){e.event.trigger("ajaxStart")}if(ab){e.event.trigger("ajaxSend",[M,T])}if(T.beforeSend&&T.beforeSend.call(T.context,M,T)===false){if(T.global){e.active--}ag.reject();return ag}if(M.aborted){ag.reject();return ag}N=I.clk;if(N){X=N.name;if(X&&!N.disabled){T.extraData=T.extraData||{};T.extraData[X]=N.value;if(N.type=="image"){T.extraData[X+".x"]=I.clk_x;T.extraData[X+".y"]=I.clk_y}}}var S=1;var P=2;function Q(ai){var ah=ai.contentWindow?ai.contentWindow.document:ai.contentDocument?ai.contentDocument:ai.document;return ah}var G=e("meta[name=csrf-token]").attr("content");var F=e("meta[name=csrf-param]").attr("content");if(F&&G){T.extraData=T.extraData||{};T.extraData[F]=G}function Y(){var aj=m.attr("target"),ah=m.attr("action");I.setAttribute("target",W);if(!g){I.setAttribute("method","POST")}if(ah!=T.url){I.setAttribute("action",T.url)}if(!T.skipEncodingOverride&&(!g||/post/i.test(g))){m.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"})}if(T.timeout){R=setTimeout(function(){aa=true;V(S)},T.timeout)}function ak(){try{var an=Q(O).readyState;d("state = "+an);if(an&&an.toLowerCase()=="uninitialized"){setTimeout(ak,50)}}catch(ao){d("Server abort: ",ao," (",ao.name,")");V(P);if(R){clearTimeout(R)}R=undefined}}var ai=[];try{if(T.extraData){for(var am in T.extraData){if(T.extraData.hasOwnProperty(am)){if(e.isPlainObject(T.extraData[am])&&T.extraData[am].hasOwnProperty("name")&&T.extraData[am].hasOwnProperty("value")){ai.push(e('<input type="hidden" name="'+T.extraData[am].name+'">').val(T.extraData[am].value).appendTo(I)[0])}else{ai.push(e('<input type="hidden" name="'+am+'">').val(T.extraData[am]).appendTo(I)[0])}}}}if(!T.iframeTarget){K.appendTo("body");if(O.attachEvent){O.attachEvent("onload",V)}else{O.addEventListener("load",V,false)}}setTimeout(ak,15);var al=document.createElement("form").submit;al.apply(I)}finally{I.setAttribute("action",ah);if(aj){I.setAttribute("target",aj)}else{m.removeAttr("target")}e(ai).remove()}}if(T.forceSync){Y()}else{setTimeout(Y,10)}var ae,af,ac=50,J;function V(am){if(M.aborted||J){return}try{af=Q(O)}catch(ap){d("cannot access response document: ",ap);am=P}if(am===S&&M){M.abort("timeout");ag.reject(M,"timeout");return}else{if(am==P&&M){M.abort("server abort");ag.reject(M,"error","server abort");return}}if(!af||af.location.href==T.iframeSrc){if(!aa){return}}if(O.detachEvent){O.detachEvent("onload",V)}else{O.removeEventListener("load",V,false)}var ak="success",ao;try{if(aa){throw"timeout"}var aj=T.dataType=="xml"||af.XMLDocument||e.isXMLDoc(af);d("isXml="+aj);if(!aj&&window.opera&&(af.body===null||!af.body.innerHTML)){if(--ac){d("requeing onLoad callback, DOM not available");setTimeout(V,250);return}}var aq=af.body?af.body:af.documentElement;M.responseText=aq?aq.innerHTML:null;M.responseXML=af.XMLDocument?af.XMLDocument:af;if(aj){T.dataType="xml"}M.getResponseHeader=function(au){var at={"content-type":T.dataType};return at[au]};if(aq){M.status=Number(aq.getAttribute("status"))||M.status;M.statusText=aq.getAttribute("statusText")||M.statusText}var ah=(T.dataType||"").toLowerCase();var an=/(json|script|text)/.test(ah);if(an||T.textarea){var al=af.getElementsByTagName("textarea")[0];if(al){M.responseText=al.value;M.status=Number(al.getAttribute("status"))||M.status;M.statusText=al.getAttribute("statusText")||M.statusText}else{if(an){var ai=af.getElementsByTagName("pre")[0];var ar=af.getElementsByTagName("body")[0];if(ai){M.responseText=ai.textContent?ai.textContent:ai.innerText}else{if(ar){M.responseText=ar.textContent?ar.textContent:ar.innerText}}}}}else{if(ah=="xml"&&!M.responseXML&&M.responseText){M.responseXML=U(M.responseText)}}try{ae=k(M,ah,T)}catch(am){ak="parsererror";M.error=ao=(am||ak)}}catch(am){d("error caught: ",am);ak="error";M.error=ao=(am||ak)}if(M.aborted){d("upload aborted");ak=null}if(M.status){ak=(M.status>=200&&M.status<300||M.status===304)?"success":"error"}if(ak==="success"){if(T.success){T.success.call(T.context,ae,"success",M)}ag.resolve(M.responseText,"success",M);if(ab){e.event.trigger("ajaxSuccess",[M,T])}}else{if(ak){if(ao===undefined){ao=M.statusText}if(T.error){T.error.call(T.context,M,ak,ao)}ag.reject(M,"error",ao);if(ab){e.event.trigger("ajaxError",[M,T,ao])}}}if(ab){e.event.trigger("ajaxComplete",[M,T])}if(ab&&!--e.active){e.event.trigger("ajaxStop")}if(T.complete){T.complete.call(T.context,M,ak)}J=true;if(T.timeout){clearTimeout(R)}setTimeout(function(){if(!T.iframeTarget){K.remove()}M.responseXML=null},100)}var U=e.parseXML||function(ah,ai){if(window.ActiveXObject){ai=new ActiveXObject("Microsoft.XMLDOM");ai.async="false";ai.loadXML(ah)}else{ai=(new DOMParser()).parseFromString(ah,"text/xml")}return(ai&&ai.documentElement&&ai.documentElement.nodeName!="parsererror")?ai:null};var q=e.parseJSON||function(ah){return window["eval"]("("+ah+")")};var k=function(am,ak,aj){var ai=am.getResponseHeader("content-type")||"",ah=ak==="xml"||!ak&&ai.indexOf("xml")>=0,al=ah?am.responseXML:am.responseText;if(ah&&al.documentElement.nodeName==="parsererror"){if(e.error){e.error("parsererror")}}if(aj&&aj.dataFilter){al=aj.dataFilter(al,ak)}if(typeof al==="string"){if(ak==="json"||!ak&&ai.indexOf("json")>=0){al=q(al)}else{if(ak==="script"||!ak&&ai.indexOf("javascript")>=0){e.globalEval(al)}}}return al};return ag}};e.fn.ajaxForm=function(f){f=f||{};f.delegation=f.delegation&&e.isFunction(e.fn.on);if(!f.delegation&&this.length===0){var g={s:this.selector,c:this.context};if(!e.isReady&&g.s){d("DOM not ready, queuing ajaxForm");e(function(){e(g.s,g.c).ajaxForm(f)});return this}d("terminating; zero elements found by selector"+(e.isReady?"":" (DOM not ready)"));return this}if(f.delegation){e(document).off("submit.form-plugin",this.selector,b).off("click.form-plugin",this.selector,a).on("submit.form-plugin",this.selector,f,b).on("click.form-plugin",this.selector,f,a);return this}return this.ajaxFormUnbind().bind("submit.form-plugin",f,b).bind("click.form-plugin",f,a)};function b(g){var f=g.data;if(!g.isDefaultPrevented()){g.preventDefault();e(this).ajaxSubmit(f)}}function a(j){var i=j.target;var g=e(i);if(!(g.is("[type=submit],[type=image]"))){var f=g.closest("[type=submit]");if(f.length===0){return}i=f[0]}var h=this;h.clk=i;if(i.type=="image"){if(j.offsetX!==undefined){h.clk_x=j.offsetX;h.clk_y=j.offsetY}else{if(typeof e.fn.offset=="function"){var k=g.offset();h.clk_x=j.pageX-k.left;h.clk_y=j.pageY-k.top}else{h.clk_x=j.pageX-i.offsetLeft;h.clk_y=j.pageY-i.offsetTop}}}setTimeout(function(){h.clk=h.clk_x=h.clk_y=null},100)}e.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")};e.fn.formToArray=function(w,f){var u=[];if(this.length===0){return u}var k=this[0];var o=w?k.getElementsByTagName("*"):k.elements;if(!o){return u}var q,p,m,x,l,s,h;for(q=0,s=o.length;q<s;q++){l=o[q];m=l.name;if(!m){continue}if(w&&k.clk&&l.type=="image"){if(!l.disabled&&k.clk==l){u.push({name:m,value:e(l).val(),type:l.type});u.push({name:m+".x",value:k.clk_x},{name:m+".y",value:k.clk_y})}continue}x=e.fieldValue(l,true);if(x&&x.constructor==Array){if(f){f.push(l)}for(p=0,h=x.length;p<h;p++){u.push({name:m,value:x[p]})}}else{if(c.fileapi&&l.type=="file"&&!l.disabled){if(f){f.push(l)}var g=l.files;if(g.length){for(p=0;p<g.length;p++){u.push({name:m,value:g[p],type:l.type})}}else{u.push({name:m,value:"",type:l.type})}}else{if(x!==null&&typeof x!="undefined"){if(f){f.push(l)}u.push({name:m,value:x,type:l.type,required:l.required})}}}}if(!w&&k.clk){var r=e(k.clk),t=r[0];m=t.name;if(m&&!t.disabled&&t.type=="image"){u.push({name:m,value:r.val()});u.push({name:m+".x",value:k.clk_x},{name:m+".y",value:k.clk_y})}}return u};e.fn.formSerialize=function(f){return e.param(this.formToArray(f))};e.fn.fieldSerialize=function(g){var f=[];this.each(function(){var l=this.name;if(!l){return}var j=e.fieldValue(this,g);if(j&&j.constructor==Array){for(var k=0,h=j.length;k<h;k++){f.push({name:l,value:j[k]})}}else{if(j!==null&&typeof j!="undefined"){f.push({name:this.name,value:j})}}});return e.param(f)};e.fn.fieldValue=function(l){for(var k=[],h=0,f=this.length;h<f;h++){var j=this[h];var g=e.fieldValue(j,l);if(g===null||typeof g=="undefined"||(g.constructor==Array&&!g.length)){continue}if(g.constructor==Array){e.merge(k,g)}else{k.push(g)}}return k};e.fieldValue=function(f,m){var h=f.name,s=f.type,u=f.tagName.toLowerCase();if(m===undefined){m=true}if(m&&(!h||f.disabled||s=="reset"||s=="button"||(s=="checkbox"||s=="radio")&&!f.checked||(s=="submit"||s=="image")&&f.form&&f.form.clk!=f||u=="select"&&f.selectedIndex==-1)){return null}if(u=="select"){var o=f.selectedIndex;if(o<0){return null}var q=[],g=f.options;var k=(s=="select-one");var p=(k?o+1:g.length);for(var j=(k?o:0);j<p;j++){var l=g[j];if(l.selected){var r=l.value;if(!r){r=(l.attributes&&l.attributes.value&&!(l.attributes.value.specified))?l.text:l.value}if(k){return r}q.push(r)}}return q}return e(f).val()};e.fn.clearForm=function(f){return this.each(function(){e("input,select,textarea",this).clearFields(f)})};e.fn.clearFields=e.fn.clearInputs=function(f){var g=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var i=this.type,h=this.tagName.toLowerCase();if(g.test(i)||h=="textarea"){this.value=""}else{if(i=="checkbox"||i=="radio"){this.checked=false}else{if(h=="select"){this.selectedIndex=-1}else{if(i=="file"){if(/MSIE/.test(navigator.userAgent)){e(this).replaceWith(e(this).clone())}else{e(this).val("")}}else{if(f){if((f===true&&/hidden/.test(i))||(typeof f=="string"&&e(this).is(f))){this.value=""}}}}}}})};e.fn.resetForm=function(){return this.each(function(){if(typeof this.reset=="function"||(typeof this.reset=="object"&&!this.reset.nodeType)){this.reset()}})};e.fn.enable=function(f){if(f===undefined){f=true}return this.each(function(){this.disabled=!f})};e.fn.selected=function(f){if(f===undefined){f=true}return this.each(function(){var g=this.type;if(g=="checkbox"||g=="radio"){this.checked=f}else{if(this.tagName.toLowerCase()=="option"){var h=e(this).parent("select");if(f&&h[0]&&h[0].type=="select-one"){h.find("option").selected(false)}this.selected=f}}})};e.fn.ajaxSubmit.debug=false;function d(){if(!e.fn.ajaxSubmit.debug){return}var f="[jquery.form] "+Array.prototype.join.call(arguments,"");if(window.console&&window.console.log){window.console.log(f)}else{if(window.opera&&window.opera.postError){window.opera.postError(f)}}}})(jQuery);;
/*! jQuery UI - v1.9.2 - 2013-02-15
* http://jqueryui.com
* Includes: jquery.ui.core.js
* Copyright 2013 jQuery Foundation and other contributors; Licensed MIT */
(function(e,t){function i(t,n){var r,i,o,u=t.nodeName.toLowerCase();return"area"===u?(r=t.parentNode,i=r.name,!t.href||!i||r.nodeName.toLowerCase()!=="map"?!1:(o=e("img[usemap=#"+i+"]")[0],!!o&&s(o))):(/input|select|textarea|button|object/.test(u)?!t.disabled:"a"===u?t.href||n:n)&&s(t)}function s(t){return e.expr.filters.visible(t)&&!e(t).parents().andSelf().filter(function(){return e.css(this,"visibility")==="hidden"}).length}var n=0,r=/^ui-id-\d+$/;e.ui=e.ui||{};if(e.ui.version)return;e.extend(e.ui,{version:"1.9.2",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({_focus:e.fn.focus,focus:function(t,n){return typeof t=="number"?this.each(function(){var r=this;setTimeout(function(){e(r).focus(),n&&n.call(r)},t)}):this._focus.apply(this,arguments)},scrollParent:function(){var t;return e.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?t=this.parents().filter(function(){return/(relative|absolute|fixed)/.test(e.css(this,"position"))&&/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0):t=this.parents().filter(function(){return/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!t.length?e(document):t},zIndex:function(n){if(n!==t)return this.css("zIndex",n);if(this.length){var r=e(this[0]),i,s;while(r.length&&r[0]!==document){i=r.css("position");if(i==="absolute"||i==="relative"||i==="fixed"){s=parseInt(r.css("zIndex"),10);if(!isNaN(s)&&s!==0)return s}r=r.parent()}}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++n)})},removeUniqueId:function(){return this.each(function(){r.test(this.id)&&e(this).removeAttr("id")})}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(n){return!!e.data(n,t)}}):function(t,n,r){return!!e.data(t,r[3])},focusable:function(t){return i(t,!isNaN(e.attr(t,"tabindex")))},tabbable:function(t){var n=e.attr(t,"tabindex"),r=isNaN(n);return(r||n>=0)&&i(t,!r)}}),e(function(){var t=document.body,n=t.appendChild(n=document.createElement("div"));n.offsetHeight,e.extend(n.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0}),e.support.minHeight=n.offsetHeight===100,e.support.selectstart="onselectstart"in n,t.removeChild(n).style.display="none"}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(n,r){function u(t,n,r,s){return e.each(i,function(){n-=parseFloat(e.css(t,"padding"+this))||0,r&&(n-=parseFloat(e.css(t,"border"+this+"Width"))||0),s&&(n-=parseFloat(e.css(t,"margin"+this))||0)}),n}var i=r==="Width"?["Left","Right"]:["Top","Bottom"],s=r.toLowerCase(),o={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+r]=function(n){return n===t?o["inner"+r].call(this):this.each(function(){e(this).css(s,u(this,n)+"px")})},e.fn["outer"+r]=function(t,n){return typeof t!="number"?o["outer"+r].call(this,t):this.each(function(){e(this).css(s,u(this,t,!0,n)+"px")})}}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=function(t){return function(n){return arguments.length?t.call(this,e.camelCase(n)):t.call(this)}}(e.fn.removeData)),function(){var t=/msie ([\w.]+)/.exec(navigator.userAgent.toLowerCase())||[];e.ui.ie=t.length?!0:!1,e.ui.ie6=parseFloat(t[1],10)===6}(),e.fn.extend({disableSelection:function(){return this.bind((e.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(e){e.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),e.extend(e.ui,{plugin:{add:function(t,n,r){var i,s=e.ui[t].prototype;for(i in r)s.plugins[i]=s.plugins[i]||[],s.plugins[i].push([n,r[i]])},call:function(e,t,n){var r,i=e.plugins[t];if(!i||!e.element[0].parentNode||e.element[0].parentNode.nodeType===11)return;for(r=0;r<i.length;r++)e.options[i[r][0]]&&i[r][1].apply(e.element,n)}},contains:e.contains,hasScroll:function(t,n){if(e(t).css("overflow")==="hidden")return!1;var r=n&&n==="left"?"scrollLeft":"scrollTop",i=!1;return t[r]>0?!0:(t[r]=1,i=t[r]>0,t[r]=0,i)},isOverAxis:function(e,t,n){return e>t&&e<t+n},isOver:function(t,n,r,i,s,o){return e.ui.isOverAxis(t,r,s)&&e.ui.isOverAxis(n,i,o)}})})(jQuery);;
/*! jQuery UI - v1.9.2 - 2013-02-15
* http://jqueryui.com
* Includes: jquery.ui.widget.js
* Copyright 2013 jQuery Foundation and other contributors; Licensed MIT */
(function(e,t){var n=0,r=Array.prototype.slice,i=e.cleanData;e.cleanData=function(t){for(var n=0,r;(r=t[n])!=null;n++)try{e(r).triggerHandler("remove")}catch(s){}i(t)},e.widget=function(t,n,r){var i,s,o,u,a=t.split(".")[0];t=t.split(".")[1],i=a+"-"+t,r||(r=n,n=e.Widget),e.expr[":"][i.toLowerCase()]=function(t){return!!e.data(t,i)},e[a]=e[a]||{},s=e[a][t],o=e[a][t]=function(e,t){if(!this._createWidget)return new o(e,t);arguments.length&&this._createWidget(e,t)},e.extend(o,s,{version:r.version,_proto:e.extend({},r),_childConstructors:[]}),u=new n,u.options=e.widget.extend({},u.options),e.each(r,function(t,i){e.isFunction(i)&&(r[t]=function(){var e=function(){return n.prototype[t].apply(this,arguments)},r=function(e){return n.prototype[t].apply(this,e)};return function(){var t=this._super,n=this._superApply,s;return this._super=e,this._superApply=r,s=i.apply(this,arguments),this._super=t,this._superApply=n,s}}())}),o.prototype=e.widget.extend(u,{widgetEventPrefix:s?u.widgetEventPrefix:t},r,{constructor:o,namespace:a,widgetName:t,widgetBaseClass:i,widgetFullName:i}),s?(e.each(s._childConstructors,function(t,n){var r=n.prototype;e.widget(r.namespace+"."+r.widgetName,o,n._proto)}),delete s._childConstructors):n._childConstructors.push(o),e.widget.bridge(t,o)},e.widget.extend=function(n){var i=r.call(arguments,1),s=0,o=i.length,u,a;for(;s<o;s++)for(u in i[s])a=i[s][u],i[s].hasOwnProperty(u)&&a!==t&&(e.isPlainObject(a)?n[u]=e.isPlainObject(n[u])?e.widget.extend({},n[u],a):e.widget.extend({},a):n[u]=a);return n},e.widget.bridge=function(n,i){var s=i.prototype.widgetFullName||n;e.fn[n]=function(o){var u=typeof o=="string",a=r.call(arguments,1),f=this;return o=!u&&a.length?e.widget.extend.apply(null,[o].concat(a)):o,u?this.each(function(){var r,i=e.data(this,s);if(!i)return e.error("cannot call methods on "+n+" prior to initialization; "+"attempted to call method '"+o+"'");if(!e.isFunction(i[o])||o.charAt(0)==="_")return e.error("no such method '"+o+"' for "+n+" widget instance");r=i[o].apply(i,a);if(r!==i&&r!==t)return f=r&&r.jquery?f.pushStack(r.get()):r,!1}):this.each(function(){var t=e.data(this,s);t?t.option(o||{})._init():e.data(this,s,new i(o,this))}),f}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,r){r=e(r||this.defaultElement||this)[0],this.element=e(r),this.uuid=n++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this.bindings=e(),this.hoverable=e(),this.focusable=e(),r!==this&&(e.data(r,this.widgetName,this),e.data(r,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===r&&this.destroy()}}),this.document=e(r.style?r.ownerDocument:r.document||r),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled "+"ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(n,r){var i=n,s,o,u;if(arguments.length===0)return e.widget.extend({},this.options);if(typeof n=="string"){i={},s=n.split("."),n=s.shift();if(s.length){o=i[n]=e.widget.extend({},this.options[n]);for(u=0;u<s.length-1;u++)o[s[u]]=o[s[u]]||{},o=o[s[u]];n=s.pop();if(r===t)return o[n]===t?null:o[n];o[n]=r}else{if(r===t)return this.options[n]===t?null:this.options[n];i[n]=r}}return this._setOptions(i),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,e==="disabled"&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!t).attr("aria-disabled",t),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(t,n,r){var i,s=this;typeof t!="boolean"&&(r=n,n=t,t=!1),r?(n=i=e(n),this.bindings=this.bindings.add(n)):(r=n,n=this.element,i=this.widget()),e.each(r,function(r,o){function u(){if(!t&&(s.options.disabled===!0||e(this).hasClass("ui-state-disabled")))return;return(typeof o=="string"?s[o]:o).apply(s,arguments)}typeof o!="string"&&(u.guid=o.guid=o.guid||u.guid||e.guid++);var a=r.match(/^(\w+)\s*(.*)$/),f=a[1]+s.eventNamespace,l=a[2];l?i.delegate(l,f,u):n.bind(f,u)})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(t).undelegate(t)},_delay:function(e,t){function n(){return(typeof e=="string"?r[e]:e).apply(r,arguments)}var r=this;return setTimeout(n,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,n,r){var i,s,o=this.options[t];r=r||{},n=e.Event(n),n.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),n.target=this.element[0],s=n.originalEvent;if(s)for(i in s)i in n||(n[i]=s[i]);return this.element.trigger(n,r),!(e.isFunction(o)&&o.apply(this.element[0],[n].concat(r))===!1||n.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,n){e.Widget.prototype["_"+t]=function(r,i,s){typeof i=="string"&&(i={effect:i});var o,u=i?i===!0||typeof i=="number"?n:i.effect||n:t;i=i||{},typeof i=="number"&&(i={duration:i}),o=!e.isEmptyObject(i),i.complete=s,i.delay&&r.delay(i.delay),o&&e.effects&&(e.effects.effect[u]||e.uiBackCompat!==!1&&e.effects[u])?r[t](i):u!==t&&r[u]?r[u](i.duration,i.easing,s):r.queue(function(n){e(this)[t](),s&&s.call(r[0]),n()})}}),e.uiBackCompat!==!1&&(e.Widget.prototype._getCreateOptions=function(){return e.metadata&&e.metadata.get(this.element[0])[this.widgetName]})})(jQuery);;
/*! jQuery UI - v1.9.2 - 2013-02-15
* http://jqueryui.com
* Includes: jquery.ui.position.js
* Copyright 2013 jQuery Foundation and other contributors; Licensed MIT */
(function(e,t){function h(e,t,n){return[parseInt(e[0],10)*(l.test(e[0])?t/100:1),parseInt(e[1],10)*(l.test(e[1])?n/100:1)]}function p(t,n){return parseInt(e.css(t,n),10)||0}e.ui=e.ui||{};var n,r=Math.max,i=Math.abs,s=Math.round,o=/left|center|right/,u=/top|center|bottom/,a=/[\+\-]\d+%?/,f=/^\w+/,l=/%$/,c=e.fn.position;e.position={scrollbarWidth:function(){if(n!==t)return n;var r,i,s=e("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),o=s.children()[0];return e("body").append(s),r=o.offsetWidth,s.css("overflow","scroll"),i=o.offsetWidth,r===i&&(i=s[0].clientWidth),s.remove(),n=r-i},getScrollInfo:function(t){var n=t.isWindow?"":t.element.css("overflow-x"),r=t.isWindow?"":t.element.css("overflow-y"),i=n==="scroll"||n==="auto"&&t.width<t.element[0].scrollWidth,s=r==="scroll"||r==="auto"&&t.height<t.element[0].scrollHeight;return{width:i?e.position.scrollbarWidth():0,height:s?e.position.scrollbarWidth():0}},getWithinInfo:function(t){var n=e(t||window),r=e.isWindow(n[0]);return{element:n,isWindow:r,offset:n.offset()||{left:0,top:0},scrollLeft:n.scrollLeft(),scrollTop:n.scrollTop(),width:r?n.width():n.outerWidth(),height:r?n.height():n.outerHeight()}}},e.fn.position=function(t){if(!t||!t.of)return c.apply(this,arguments);t=e.extend({},t);var n,l,d,v,m,g=e(t.of),y=e.position.getWithinInfo(t.within),b=e.position.getScrollInfo(y),w=g[0],E=(t.collision||"flip").split(" "),S={};return w.nodeType===9?(l=g.width(),d=g.height(),v={top:0,left:0}):e.isWindow(w)?(l=g.width(),d=g.height(),v={top:g.scrollTop(),left:g.scrollLeft()}):w.preventDefault?(t.at="left top",l=d=0,v={top:w.pageY,left:w.pageX}):(l=g.outerWidth(),d=g.outerHeight(),v=g.offset()),m=e.extend({},v),e.each(["my","at"],function(){var e=(t[this]||"").split(" "),n,r;e.length===1&&(e=o.test(e[0])?e.concat(["center"]):u.test(e[0])?["center"].concat(e):["center","center"]),e[0]=o.test(e[0])?e[0]:"center",e[1]=u.test(e[1])?e[1]:"center",n=a.exec(e[0]),r=a.exec(e[1]),S[this]=[n?n[0]:0,r?r[0]:0],t[this]=[f.exec(e[0])[0],f.exec(e[1])[0]]}),E.length===1&&(E[1]=E[0]),t.at[0]==="right"?m.left+=l:t.at[0]==="center"&&(m.left+=l/2),t.at[1]==="bottom"?m.top+=d:t.at[1]==="center"&&(m.top+=d/2),n=h(S.at,l,d),m.left+=n[0],m.top+=n[1],this.each(function(){var o,u,a=e(this),f=a.outerWidth(),c=a.outerHeight(),w=p(this,"marginLeft"),x=p(this,"marginTop"),T=f+w+p(this,"marginRight")+b.width,N=c+x+p(this,"marginBottom")+b.height,C=e.extend({},m),k=h(S.my,a.outerWidth(),a.outerHeight());t.my[0]==="right"?C.left-=f:t.my[0]==="center"&&(C.left-=f/2),t.my[1]==="bottom"?C.top-=c:t.my[1]==="center"&&(C.top-=c/2),C.left+=k[0],C.top+=k[1],e.support.offsetFractions||(C.left=s(C.left),C.top=s(C.top)),o={marginLeft:w,marginTop:x},e.each(["left","top"],function(r,i){e.ui.position[E[r]]&&e.ui.position[E[r]][i](C,{targetWidth:l,targetHeight:d,elemWidth:f,elemHeight:c,collisionPosition:o,collisionWidth:T,collisionHeight:N,offset:[n[0]+k[0],n[1]+k[1]],my:t.my,at:t.at,within:y,elem:a})}),e.fn.bgiframe&&a.bgiframe(),t.using&&(u=function(e){var n=v.left-C.left,s=n+l-f,o=v.top-C.top,u=o+d-c,h={target:{element:g,left:v.left,top:v.top,width:l,height:d},element:{element:a,left:C.left,top:C.top,width:f,height:c},horizontal:s<0?"left":n>0?"right":"center",vertical:u<0?"top":o>0?"bottom":"middle"};l<f&&i(n+s)<l&&(h.horizontal="center"),d<c&&i(o+u)<d&&(h.vertical="middle"),r(i(n),i(s))>r(i(o),i(u))?h.important="horizontal":h.important="vertical",t.using.call(this,e,h)}),a.offset(e.extend(C,{using:u}))})},e.ui.position={fit:{left:function(e,t){var n=t.within,i=n.isWindow?n.scrollLeft:n.offset.left,s=n.width,o=e.left-t.collisionPosition.marginLeft,u=i-o,a=o+t.collisionWidth-s-i,f;t.collisionWidth>s?u>0&&a<=0?(f=e.left+u+t.collisionWidth-s-i,e.left+=u-f):a>0&&u<=0?e.left=i:u>a?e.left=i+s-t.collisionWidth:e.left=i:u>0?e.left+=u:a>0?e.left-=a:e.left=r(e.left-o,e.left)},top:function(e,t){var n=t.within,i=n.isWindow?n.scrollTop:n.offset.top,s=t.within.height,o=e.top-t.collisionPosition.marginTop,u=i-o,a=o+t.collisionHeight-s-i,f;t.collisionHeight>s?u>0&&a<=0?(f=e.top+u+t.collisionHeight-s-i,e.top+=u-f):a>0&&u<=0?e.top=i:u>a?e.top=i+s-t.collisionHeight:e.top=i:u>0?e.top+=u:a>0?e.top-=a:e.top=r(e.top-o,e.top)}},flip:{left:function(e,t){var n=t.within,r=n.offset.left+n.scrollLeft,s=n.width,o=n.isWindow?n.scrollLeft:n.offset.left,u=e.left-t.collisionPosition.marginLeft,a=u-o,f=u+t.collisionWidth-s-o,l=t.my[0]==="left"?-t.elemWidth:t.my[0]==="right"?t.elemWidth:0,c=t.at[0]==="left"?t.targetWidth:t.at[0]==="right"?-t.targetWidth:0,h=-2*t.offset[0],p,d;if(a<0){p=e.left+l+c+h+t.collisionWidth-s-r;if(p<0||p<i(a))e.left+=l+c+h}else if(f>0){d=e.left-t.collisionPosition.marginLeft+l+c+h-o;if(d>0||i(d)<f)e.left+=l+c+h}},top:function(e,t){var n=t.within,r=n.offset.top+n.scrollTop,s=n.height,o=n.isWindow?n.scrollTop:n.offset.top,u=e.top-t.collisionPosition.marginTop,a=u-o,f=u+t.collisionHeight-s-o,l=t.my[1]==="top",c=l?-t.elemHeight:t.my[1]==="bottom"?t.elemHeight:0,h=t.at[1]==="top"?t.targetHeight:t.at[1]==="bottom"?-t.targetHeight:0,p=-2*t.offset[1],d,v;a<0?(v=e.top+c+h+p+t.collisionHeight-s-r,e.top+c+h+p>a&&(v<0||v<i(a))&&(e.top+=c+h+p)):f>0&&(d=e.top-t.collisionPosition.marginTop+c+h+p-o,e.top+c+h+p>f&&(d>0||i(d)<f)&&(e.top+=c+h+p))}},flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments),e.ui.position.fit.left.apply(this,arguments)},top:function(){e.ui.position.flip.top.apply(this,arguments),e.ui.position.fit.top.apply(this,arguments)}}},function(){var t,n,r,i,s,o=document.getElementsByTagName("body")[0],u=document.createElement("div");t=document.createElement(o?"div":"body"),r={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},o&&e.extend(r,{position:"absolute",left:"-1000px",top:"-1000px"});for(s in r)t.style[s]=r[s];t.appendChild(u),n=o||document.documentElement,n.insertBefore(t,n.firstChild),u.style.cssText="position: absolute; left: 10.7432222px;",i=e(u).offset().left,e.support.offsetFractions=i>10&&i<11,t.innerHTML="",n.removeChild(t)}(),e.uiBackCompat!==!1&&function(e){var n=e.fn.position;e.fn.position=function(r){if(!r||!r.offset)return n.call(this,r);var i=r.offset.split(" "),s=r.at.split(" ");return i.length===1&&(i[1]=i[0]),/^\d/.test(i[0])&&(i[0]="+"+i[0]),/^\d/.test(i[1])&&(i[1]="+"+i[1]),s.length===1&&(/left|center|right/.test(s[0])?s[1]="center":(s[1]=s[0],s[0]="center")),n.call(this,e.extend(r,{at:s[0]+i[0]+" "+s[1]+i[1],offset:t}))}}(jQuery)})(jQuery);;
/*! jQuery UI - v1.9.2 - 2013-02-15
* http://jqueryui.com
* Includes: jquery.ui.mouse.js
* Copyright 2013 jQuery Foundation and other contributors; Licensed MIT */
(function(e,t){var n=!1;e(document).mouseup(function(e){n=!1}),e.widget("ui.mouse",{version:"1.9.2",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).bind("click."+this.widgetName,function(n){if(!0===e.data(n.target,t.widgetName+".preventClickEvent"))return e.removeData(n.target,t.widgetName+".preventClickEvent"),n.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(t){if(n)return;this._mouseStarted&&this._mouseUp(t),this._mouseDownEvent=t;var r=this,i=t.which===1,s=typeof this.options.cancel=="string"&&t.target.nodeName?e(t.target).closest(this.options.cancel).length:!1;if(!i||s||!this._mouseCapture(t))return!0;this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){r.mouseDelayMet=!0},this.options.delay));if(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)){this._mouseStarted=this._mouseStart(t)!==!1;if(!this._mouseStarted)return t.preventDefault(),!0}return!0===e.data(t.target,this.widgetName+".preventClickEvent")&&e.removeData(t.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return r._mouseMove(e)},this._mouseUpDelegate=function(e){return r._mouseUp(e)},e(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),t.preventDefault(),n=!0,!0},_mouseMove:function(t){return!e.ui.ie||document.documentMode>=9||!!t.button?this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==!1,this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted):this._mouseUp(t)},_mouseUp:function(t){return e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&e.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(e){return this.mouseDelayMet},_mouseStart:function(e){},_mouseDrag:function(e){},_mouseStop:function(e){},_mouseCapture:function(e){return!0}})})(jQuery);;
/*! jQuery UI - v1.9.2 - 2013-02-15
* http://jqueryui.com
* Includes: jquery.ui.draggable.js
* Copyright 2013 jQuery Foundation and other contributors; Licensed MIT */
(function(e,t){e.widget("ui.draggable",e.ui.mouse,{version:"1.9.2",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1},_create:function(){this.options.helper=="original"&&!/^(?:r|a|f)/.test(this.element.css("position"))&&(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy()},_mouseCapture:function(t){var n=this.options;return this.helper||n.disabled||e(t.target).is(".ui-resizable-handle")?!1:(this.handle=this._getHandle(t),this.handle?(e(n.iframeFix===!0?"iframe":n.iframeFix).each(function(){e('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(e(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(t){var n=this.options;return this.helper=this._createHelper(t),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),e.ui.ddmanager&&(e.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,n.cursorAt&&this._adjustOffsetFromHelper(n.cursorAt),n.containment&&this._setContainment(),this._trigger("start",t)===!1?(this._clear(),!1):(this._cacheHelperProportions(),e.ui.ddmanager&&!n.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this._mouseDrag(t,!0),e.ui.ddmanager&&e.ui.ddmanager.dragStart(this,t),!0)},_mouseDrag:function(t,n){this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute");if(!n){var r=this._uiHash();if(this._trigger("drag",t,r)===!1)return this._mouseUp({}),!1;this.position=r.position}if(!this.options.axis||this.options.axis!="y")this.helper[0].style.left=this.position.left+"px";if(!this.options.axis||this.options.axis!="x")this.helper[0].style.top=this.position.top+"px";return e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var n=!1;e.ui.ddmanager&&!this.options.dropBehaviour&&(n=e.ui.ddmanager.drop(this,t)),this.dropped&&(n=this.dropped,this.dropped=!1);var r=this.element[0],i=!1;while(r&&(r=r.parentNode))r==document&&(i=!0);if(!i&&this.options.helper==="original")return!1;if(this.options.revert=="invalid"&&!n||this.options.revert=="valid"&&n||this.options.revert===!0||e.isFunction(this.options.revert)&&this.options.revert.call(this.element,n)){var s=this;e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){s._trigger("stop",t)!==!1&&s._clear()})}else this._trigger("stop",t)!==!1&&this._clear();return!1},_mouseUp:function(t){return e("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),e.ui.ddmanager&&e.ui.ddmanager.dragStop(this,t),e.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(t){var n=!this.options.handle||!e(this.options.handle,this.element).length?!0:!1;return e(this.options.handle,this.element).find("*").andSelf().each(function(){this==t.target&&(n=!0)}),n},_createHelper:function(t){var n=this.options,r=e.isFunction(n.helper)?e(n.helper.apply(this.element[0],[t])):n.helper=="clone"?this.element.clone().removeAttr("id"):this.element;return r.parents("body").length||r.appendTo(n.appendTo=="parent"?this.element[0].parentNode:n.appendTo),r[0]!=this.element[0]&&!/(fixed|absolute)/.test(r.css("position"))&&r.css("position","absolute"),r},_adjustOffsetFromHelper:function(t){typeof t=="string"&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop());if(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&e.ui.ie)t={top:0,left:0};return{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var e=this.element.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t=this.options;t.containment=="parent"&&(t.containment=this.helper[0].parentNode);if(t.containment=="document"||t.containment=="window")this.containment=[t.containment=="document"?0:e(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,t.containment=="document"?0:e(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,(t.containment=="document"?0:e(window).scrollLeft())+e(t.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(t.containment=="document"?0:e(window).scrollTop())+(e(t.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];if(!/^(document|window|parent)$/.test(t.containment)&&t.containment.constructor!=Array){var n=e(t.containment),r=n[0];if(!r)return;var i=n.offset(),s=e(r).css("overflow")!="hidden";this.containment=[(parseInt(e(r).css("borderLeftWidth"),10)||0)+(parseInt(e(r).css("paddingLeft"),10)||0),(parseInt(e(r).css("borderTopWidth"),10)||0)+(parseInt(e(r).css("paddingTop"),10)||0),(s?Math.max(r.scrollWidth,r.offsetWidth):r.offsetWidth)-(parseInt(e(r).css("borderLeftWidth"),10)||0)-(parseInt(e(r).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(s?Math.max(r.scrollHeight,r.offsetHeight):r.offsetHeight)-(parseInt(e(r).css("borderTopWidth"),10)||0)-(parseInt(e(r).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=n}else t.containment.constructor==Array&&(this.containment=t.containment)},_convertPositionTo:function(t,n){n||(n=this.position);var r=t=="absolute"?1:-1,i=this.options,s=this.cssPosition!="absolute"||this.scrollParent[0]!=document&&!!e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(s[0].tagName);return{top:n.top+this.offset.relative.top*r+this.offset.parent.top*r-(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():o?0:s.scrollTop())*r,left:n.left+this.offset.relative.left*r+this.offset.parent.left*r-(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():o?0:s.scrollLeft())*r}},_generatePosition:function(t){var n=this.options,r=this.cssPosition!="absolute"||this.scrollParent[0]!=document&&!!e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,i=/(html|body)/i.test(r[0].tagName),s=t.pageX,o=t.pageY;if(this.originalPosition){var u;if(this.containment){if(this.relative_container){var a=this.relative_container.offset();u=[this.containment[0]+a.left,this.containment[1]+a.top,this.containment[2]+a.left,this.containment[3]+a.top]}else u=this.containment;t.pageX-this.offset.click.left<u[0]&&(s=u[0]+this.offset.click.left),t.pageY-this.offset.click.top<u[1]&&(o=u[1]+this.offset.click.top),t.pageX-this.offset.click.left>u[2]&&(s=u[2]+this.offset.click.left),t.pageY-this.offset.click.top>u[3]&&(o=u[3]+this.offset.click.top)}if(n.grid){var f=n.grid[1]?this.originalPageY+Math.round((o-this.originalPageY)/n.grid[1])*n.grid[1]:this.originalPageY;o=u?f-this.offset.click.top<u[1]||f-this.offset.click.top>u[3]?f-this.offset.click.top<u[1]?f+n.grid[1]:f-n.grid[1]:f:f;var l=n.grid[0]?this.originalPageX+Math.round((s-this.originalPageX)/n.grid[0])*n.grid[0]:this.originalPageX;s=u?l-this.offset.click.left<u[0]||l-this.offset.click.left>u[2]?l-this.offset.click.left<u[0]?l+n.grid[0]:l-n.grid[0]:l:l}}return{top:o-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():i?0:r.scrollTop()),left:s-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():i?0:r.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]!=this.element[0]&&!this.cancelHelperRemoval&&this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(t,n,r){return r=r||this._uiHash(),e.ui.plugin.call(this,t,[n,r]),t=="drag"&&(this.positionAbs=this._convertPositionTo("absolute")),e.Widget.prototype._trigger.call(this,t,n,r)},plugins:{},_uiHash:function(e){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),e.ui.plugin.add("draggable","connectToSortable",{start:function(t,n){var r=e(this).data("draggable"),i=r.options,s=e.extend({},n,{item:r.element});r.sortables=[],e(i.connectToSortable).each(function(){var n=e.data(this,"sortable");n&&!n.options.disabled&&(r.sortables.push({instance:n,shouldRevert:n.options.revert}),n.refreshPositions(),n._trigger("activate",t,s))})},stop:function(t,n){var r=e(this).data("draggable"),i=e.extend({},n,{item:r.element});e.each(r.sortables,function(){this.instance.isOver?(this.instance.isOver=0,r.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=!0),this.instance._mouseStop(t),this.instance.options.helper=this.instance.options._helper,r.options.helper=="original"&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",t,i))})},drag:function(t,n){var r=e(this).data("draggable"),i=this,s=function(t){var n=this.offset.click.top,r=this.offset.click.left,i=this.positionAbs.top,s=this.positionAbs.left,o=t.height,u=t.width,a=t.top,f=t.left;return e.ui.isOver(i+n,s+r,a,f,o,u)};e.each(r.sortables,function(s){var o=!1,u=this;this.instance.positionAbs=r.positionAbs,this.instance.helperProportions=r.helperProportions,this.instance.offset.click=r.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(o=!0,e.each(r.sortables,function(){return this.instance.positionAbs=r.positionAbs,this.instance.helperProportions=r.helperProportions,this.instance.offset.click=r.offset.click,this!=u&&this.instance._intersectsWith(this.instance.containerCache)&&e.ui.contains(u.instance.element[0],this.instance.element[0])&&(o=!1),o})),o?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=e(i).clone().removeAttr("id").appendTo(this.instance.element).data("sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return n.helper[0]},t.target=this.instance.currentItem[0],this.instance._mouseCapture(t,!0),this.instance._mouseStart(t,!0,!0),this.instance.offset.click.top=r.offset.click.top,this.instance.offset.click.left=r.offset.click.left,this.instance.offset.parent.left-=r.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=r.offset.parent.top-this.instance.offset.parent.top,r._trigger("toSortable",t),r.dropped=this.instance.element,r.currentItem=r.element,this.instance.fromOutside=r),this.instance.currentItem&&this.instance._mouseDrag(t)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",t,this.instance._uiHash(this.instance)),this.instance._mouseStop(t,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),r._trigger("fromSortable",t),r.dropped=!1)})}}),e.ui.plugin.add("draggable","cursor",{start:function(t,n){var r=e("body"),i=e(this).data("draggable").options;r.css("cursor")&&(i._cursor=r.css("cursor")),r.css("cursor",i.cursor)},stop:function(t,n){var r=e(this).data("draggable").options;r._cursor&&e("body").css("cursor",r._cursor)}}),e.ui.plugin.add("draggable","opacity",{start:function(t,n){var r=e(n.helper),i=e(this).data("draggable").options;r.css("opacity")&&(i._opacity=r.css("opacity")),r.css("opacity",i.opacity)},stop:function(t,n){var r=e(this).data("draggable").options;r._opacity&&e(n.helper).css("opacity",r._opacity)}}),e.ui.plugin.add("draggable","scroll",{start:function(t,n){var r=e(this).data("draggable");r.scrollParent[0]!=document&&r.scrollParent[0].tagName!="HTML"&&(r.overflowOffset=r.scrollParent.offset())},drag:function(t,n){var r=e(this).data("draggable"),i=r.options,s=!1;if(r.scrollParent[0]!=document&&r.scrollParent[0].tagName!="HTML"){if(!i.axis||i.axis!="x")r.overflowOffset.top+r.scrollParent[0].offsetHeight-t.pageY<i.scrollSensitivity?r.scrollParent[0].scrollTop=s=r.scrollParent[0].scrollTop+i.scrollSpeed:t.pageY-r.overflowOffset.top<i.scrollSensitivity&&(r.scrollParent[0].scrollTop=s=r.scrollParent[0].scrollTop-i.scrollSpeed);if(!i.axis||i.axis!="y")r.overflowOffset.left+r.scrollParent[0].offsetWidth-t.pageX<i.scrollSensitivity?r.scrollParent[0].scrollLeft=s=r.scrollParent[0].scrollLeft+i.scrollSpeed:t.pageX-r.overflowOffset.left<i.scrollSensitivity&&(r.scrollParent[0].scrollLeft=s=r.scrollParent[0].scrollLeft-i.scrollSpeed)}else{if(!i.axis||i.axis!="x")t.pageY-e(document).scrollTop()<i.scrollSensitivity?s=e(document).scrollTop(e(document).scrollTop()-i.scrollSpeed):e(window).height()-(t.pageY-e(document).scrollTop())<i.scrollSensitivity&&(s=e(document).scrollTop(e(document).scrollTop()+i.scrollSpeed));if(!i.axis||i.axis!="y")t.pageX-e(document).scrollLeft()<i.scrollSensitivity?s=e(document).scrollLeft(e(document).scrollLeft()-i.scrollSpeed):e(window).width()-(t.pageX-e(document).scrollLeft())<i.scrollSensitivity&&(s=e(document).scrollLeft(e(document).scrollLeft()+i.scrollSpeed))}s!==!1&&e.ui.ddmanager&&!i.dropBehaviour&&e.ui.ddmanager.prepareOffsets(r,t)}}),e.ui.plugin.add("draggable","snap",{start:function(t,n){var r=e(this).data("draggable"),i=r.options;r.snapElements=[],e(i.snap.constructor!=String?i.snap.items||":data(draggable)":i.snap).each(function(){var t=e(this),n=t.offset();this!=r.element[0]&&r.snapElements.push({item:this,width:t.outerWidth(),height:t.outerHeight(),top:n.top,left:n.left})})},drag:function(t,n){var r=e(this).data("draggable"),i=r.options,s=i.snapTolerance,o=n.offset.left,u=o+r.helperProportions.width,a=n.offset.top,f=a+r.helperProportions.height;for(var l=r.snapElements.length-1;l>=0;l--){var c=r.snapElements[l].left,h=c+r.snapElements[l].width,p=r.snapElements[l].top,d=p+r.snapElements[l].height;if(!(c-s<o&&o<h+s&&p-s<a&&a<d+s||c-s<o&&o<h+s&&p-s<f&&f<d+s||c-s<u&&u<h+s&&p-s<a&&a<d+s||c-s<u&&u<h+s&&p-s<f&&f<d+s)){r.snapElements[l].snapping&&r.options.snap.release&&r.options.snap.release.call(r.element,t,e.extend(r._uiHash(),{snapItem:r.snapElements[l].item})),r.snapElements[l].snapping=!1;continue}if(i.snapMode!="inner"){var v=Math.abs(p-f)<=s,m=Math.abs(d-a)<=s,g=Math.abs(c-u)<=s,y=Math.abs(h-o)<=s;v&&(n.position.top=r._convertPositionTo("relative",{top:p-r.helperProportions.height,left:0}).top-r.margins.top),m&&(n.position.top=r._convertPositionTo("relative",{top:d,left:0}).top-r.margins.top),g&&(n.position.left=r._convertPositionTo("relative",{top:0,left:c-r.helperProportions.width}).left-r.margins.left),y&&(n.position.left=r._convertPositionTo("relative",{top:0,left:h}).left-r.margins.left)}var b=v||m||g||y;if(i.snapMode!="outer"){var v=Math.abs(p-a)<=s,m=Math.abs(d-f)<=s,g=Math.abs(c-o)<=s,y=Math.abs(h-u)<=s;v&&(n.position.top=r._convertPositionTo("relative",{top:p,left:0}).top-r.margins.top),m&&(n.position.top=r._convertPositionTo("relative",{top:d-r.helperProportions.height,left:0}).top-r.margins.top),g&&(n.position.left=r._convertPositionTo("relative",{top:0,left:c}).left-r.margins.left),y&&(n.position.left=r._convertPositionTo("relative",{top:0,left:h-r.helperProportions.width}).left-r.margins.left)}!r.snapElements[l].snapping&&(v||m||g||y||b)&&r.options.snap.snap&&r.options.snap.snap.call(r.element,t,e.extend(r._uiHash(),{snapItem:r.snapElements[l].item})),r.snapElements[l].snapping=v||m||g||y||b}}}),e.ui.plugin.add("draggable","stack",{start:function(t,n){var r=e(this).data("draggable").options,i=e.makeArray(e(r.stack)).sort(function(t,n){return(parseInt(e(t).css("zIndex"),10)||0)-(parseInt(e(n).css("zIndex"),10)||0)});if(!i.length)return;var s=parseInt(i[0].style.zIndex)||0;e(i).each(function(e){this.style.zIndex=s+e}),this[0].style.zIndex=s+i.length}}),e.ui.plugin.add("draggable","zIndex",{start:function(t,n){var r=e(n.helper),i=e(this).data("draggable").options;r.css("zIndex")&&(i._zIndex=r.css("zIndex")),r.css("zIndex",i.zIndex)},stop:function(t,n){var r=e(this).data("draggable").options;r._zIndex&&e(n.helper).css("zIndex",r._zIndex)}})})(jQuery);;
/*! jQuery UI - v1.9.2 - 2013-02-15
* http://jqueryui.com
* Includes: jquery.ui.droppable.js
* Copyright 2013 jQuery Foundation and other contributors; Licensed MIT */
(function(e,t){e.widget("ui.droppable",{version:"1.9.2",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect"},_create:function(){var t=this.options,n=t.accept;this.isover=0,this.isout=1,this.accept=e.isFunction(n)?n:function(e){return e.is(n)},this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight},e.ui.ddmanager.droppables[t.scope]=e.ui.ddmanager.droppables[t.scope]||[],e.ui.ddmanager.droppables[t.scope].push(this),t.addClasses&&this.element.addClass("ui-droppable")},_destroy:function(){var t=e.ui.ddmanager.droppables[this.options.scope];for(var n=0;n<t.length;n++)t[n]==this&&t.splice(n,1);this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(t,n){t=="accept"&&(this.accept=e.isFunction(n)?n:function(e){return e.is(n)}),e.Widget.prototype._setOption.apply(this,arguments)},_activate:function(t){var n=e.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),n&&this._trigger("activate",t,this.ui(n))},_deactivate:function(t){var n=e.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),n&&this._trigger("deactivate",t,this.ui(n))},_over:function(t){var n=e.ui.ddmanager.current;if(!n||(n.currentItem||n.element)[0]==this.element[0])return;this.accept.call(this.element[0],n.currentItem||n.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",t,this.ui(n)))},_out:function(t){var n=e.ui.ddmanager.current;if(!n||(n.currentItem||n.element)[0]==this.element[0])return;this.accept.call(this.element[0],n.currentItem||n.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",t,this.ui(n)))},_drop:function(t,n){var r=n||e.ui.ddmanager.current;if(!r||(r.currentItem||r.element)[0]==this.element[0])return!1;var i=!1;return this.element.find(":data(droppable)").not(".ui-draggable-dragging").each(function(){var t=e.data(this,"droppable");if(t.options.greedy&&!t.options.disabled&&t.options.scope==r.options.scope&&t.accept.call(t.element[0],r.currentItem||r.element)&&e.ui.intersect(r,e.extend(t,{offset:t.element.offset()}),t.options.tolerance))return i=!0,!1}),i?!1:this.accept.call(this.element[0],r.currentItem||r.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",t,this.ui(r)),this.element):!1},ui:function(e){return{draggable:e.currentItem||e.element,helper:e.helper,position:e.position,offset:e.positionAbs}}}),e.ui.intersect=function(t,n,r){if(!n.offset)return!1;var i=(t.positionAbs||t.position.absolute).left,s=i+t.helperProportions.width,o=(t.positionAbs||t.position.absolute).top,u=o+t.helperProportions.height,a=n.offset.left,f=a+n.proportions.width,l=n.offset.top,c=l+n.proportions.height;switch(r){case"fit":return a<=i&&s<=f&&l<=o&&u<=c;case"intersect":return a<i+t.helperProportions.width/2&&s-t.helperProportions.width/2<f&&l<o+t.helperProportions.height/2&&u-t.helperProportions.height/2<c;case"pointer":var h=(t.positionAbs||t.position.absolute).left+(t.clickOffset||t.offset.click).left,p=(t.positionAbs||t.position.absolute).top+(t.clickOffset||t.offset.click).top,d=e.ui.isOver(p,h,l,a,n.proportions.height,n.proportions.width);return d;case"touch":return(o>=l&&o<=c||u>=l&&u<=c||o<l&&u>c)&&(i>=a&&i<=f||s>=a&&s<=f||i<a&&s>f);default:return!1}},e.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(t,n){var r=e.ui.ddmanager.droppables[t.options.scope]||[],i=n?n.type:null,s=(t.currentItem||t.element).find(":data(droppable)").andSelf();e:for(var o=0;o<r.length;o++){if(r[o].options.disabled||t&&!r[o].accept.call(r[o].element[0],t.currentItem||t.element))continue;for(var u=0;u<s.length;u++)if(s[u]==r[o].element[0]){r[o].proportions.height=0;continue e}r[o].visible=r[o].element.css("display")!="none";if(!r[o].visible)continue;i=="mousedown"&&r[o]._activate.call(r[o],n),r[o].offset=r[o].element.offset(),r[o].proportions={width:r[o].element[0].offsetWidth,height:r[o].element[0].offsetHeight}}},drop:function(t,n){var r=!1;return e.each(e.ui.ddmanager.droppables[t.options.scope]||[],function(){if(!this.options)return;!this.options.disabled&&this.visible&&e.ui.intersect(t,this,this.options.tolerance)&&(r=this._drop.call(this,n)||r),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.isout=1,this.isover=0,this._deactivate.call(this,n))}),r},dragStart:function(t,n){t.element.parentsUntil("body").bind("scroll.droppable",function(){t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,n)})},drag:function(t,n){t.options.refreshPositions&&e.ui.ddmanager.prepareOffsets(t,n),e.each(e.ui.ddmanager.droppables[t.options.scope]||[],function(){if(this.options.disabled||this.greedyChild||!this.visible)return;var r=e.ui.intersect(t,this,this.options.tolerance),i=!r&&this.isover==1?"isout":r&&this.isover==0?"isover":null;if(!i)return;var s;if(this.options.greedy){var o=this.options.scope,u=this.element.parents(":data(droppable)").filter(function(){return e.data(this,"droppable").options.scope===o});u.length&&(s=e.data(u[0],"droppable"),s.greedyChild=i=="isover"?1:0)}s&&i=="isover"&&(s.isover=0,s.isout=1,s._out.call(s,n)),this[i]=1,this[i=="isout"?"isover":"isout"]=0,this[i=="isover"?"_over":"_out"].call(this,n),s&&i=="isout"&&(s.isout=0,s.isover=1,s._over.call(s,n))})},dragStop:function(t,n){t.element.parentsUntil("body").unbind("scroll.droppable"),t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,n)}}})(jQuery);;
/*! jQuery UI - v1.9.2 - 2013-02-15
* http://jqueryui.com
* Includes: jquery.ui.resizable.js
* Copyright 2013 jQuery Foundation and other contributors; Licensed MIT */
(function(e,t){e.widget("ui.resizable",e.ui.mouse,{version:"1.9.2",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:1e3},_create:function(){var t=this,n=this.options;this.element.addClass("ui-resizable"),e.extend(this,{_aspectRatio:!!n.aspectRatio,aspectRatio:n.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:n.helper||n.ghost||n.animate?n.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(e('<div class="ui-wrapper" style="overflow: hidden;"></div>').css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("resizable",this.element.data("resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=n.handles||(e(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se");if(this.handles.constructor==String){this.handles=="all"&&(this.handles="n,e,s,w,se,sw,ne,nw");var r=this.handles.split(",");this.handles={};for(var i=0;i<r.length;i++){var s=e.trim(r[i]),o="ui-resizable-"+s,u=e('<div class="ui-resizable-handle '+o+'"></div>');u.css({zIndex:n.zIndex}),"se"==s&&u.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[s]=".ui-resizable-"+s,this.element.append(u)}}this._renderAxis=function(t){t=t||this.element;for(var n in this.handles){this.handles[n].constructor==String&&(this.handles[n]=e(this.handles[n],this.element).show());if(this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)){var r=e(this.handles[n],this.element),i=0;i=/sw|ne|nw|se|n|s/.test(n)?r.outerHeight():r.outerWidth();var s=["padding",/ne|nw|n/.test(n)?"Top":/se|sw|s/.test(n)?"Bottom":/^e$/.test(n)?"Right":"Left"].join("");t.css(s,i),this._proportionallyResize()}if(!e(this.handles[n]).length)continue}},this._renderAxis(this.element),this._handles=e(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){if(!t.resizing){if(this.className)var e=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i);t.axis=e&&e[1]?e[1]:"se"}}),n.autoHide&&(this._handles.hide(),e(this.element).addClass("ui-resizable-autohide").mouseenter(function(){if(n.disabled)return;e(this).removeClass("ui-resizable-autohide"),t._handles.show()}).mouseleave(function(){if(n.disabled)return;t.resizing||(e(this).addClass("ui-resizable-autohide"),t._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var t=function(t){e(t).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};if(this.elementIsWrapper){t(this.element);var n=this.element;this.originalElement.css({position:n.css("position"),width:n.outerWidth(),height:n.outerHeight(),top:n.css("top"),left:n.css("left")}).insertAfter(n),n.remove()}return this.originalElement.css("resize",this.originalResizeStyle),t(this.originalElement),this},_mouseCapture:function(t){var n=!1;for(var r in this.handles)e(this.handles[r])[0]==t.target&&(n=!0);return!this.options.disabled&&n},_mouseStart:function(t){var r=this.options,i=this.element.position(),s=this.element;this.resizing=!0,this.documentScroll={top:e(document).scrollTop(),left:e(document).scrollLeft()},(s.is(".ui-draggable")||/absolute/.test(s.css("position")))&&s.css({position:"absolute",top:i.top,left:i.left}),this._renderProxy();var o=n(this.helper.css("left")),u=n(this.helper.css("top"));r.containment&&(o+=e(r.containment).scrollLeft()||0,u+=e(r.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:o,top:u},this.size=this._helper?{width:s.outerWidth(),height:s.outerHeight()}:{width:s.width(),height:s.height()},this.originalSize=this._helper?{width:s.outerWidth(),height:s.outerHeight()}:{width:s.width(),height:s.height()},this.originalPosition={left:o,top:u},this.sizeDiff={width:s.outerWidth()-s.width(),height:s.outerHeight()-s.height()},this.originalMousePosition={left:t.pageX,top:t.pageY},this.aspectRatio=typeof r.aspectRatio=="number"?r.aspectRatio:this.originalSize.width/this.originalSize.height||1;var a=e(".ui-resizable-"+this.axis).css("cursor");return e("body").css("cursor",a=="auto"?this.axis+"-resize":a),s.addClass("ui-resizable-resizing"),this._propagate("start",t),!0},_mouseDrag:function(e){var t=this.helper,n=this.options,r={},i=this,s=this.originalMousePosition,o=this.axis,u=e.pageX-s.left||0,a=e.pageY-s.top||0,f=this._change[o];if(!f)return!1;var l=f.apply(this,[e,u,a]);this._updateVirtualBoundaries(e.shiftKey);if(this._aspectRatio||e.shiftKey)l=this._updateRatio(l,e);return l=this._respectSize(l,e),this._propagate("resize",e),t.css({top:this.position.top+"px",left:this.position.left+"px",width:this.size.width+"px",height:this.size.height+"px"}),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),this._updateCache(l),this._trigger("resize",e,this.ui()),!1},_mouseStop:function(t){this.resizing=!1;var n=this.options,r=this;if(this._helper){var i=this._proportionallyResizeElements,s=i.length&&/textarea/i.test(i[0].nodeName),o=s&&e.ui.hasScroll(i[0],"left")?0:r.sizeDiff.height,u=s?0:r.sizeDiff.width,a={width:r.helper.width()-u,height:r.helper.height()-o},f=parseInt(r.element.css("left"),10)+(r.position.left-r.originalPosition.left)||null,l=parseInt(r.element.css("top"),10)+(r.position.top-r.originalPosition.top)||null;n.animate||this.element.css(e.extend(a,{top:l,left:f})),r.helper.height(r.size.height),r.helper.width(r.size.width),this._helper&&!n.animate&&this._proportionallyResize()}return e("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(e){var t=this.options,n,i,s,o,u;u={minWidth:r(t.minWidth)?t.minWidth:0,maxWidth:r(t.maxWidth)?t.maxWidth:Infinity,minHeight:r(t.minHeight)?t.minHeight:0,maxHeight:r(t.maxHeight)?t.maxHeight:Infinity};if(this._aspectRatio||e)n=u.minHeight*this.aspectRatio,s=u.minWidth/this.aspectRatio,i=u.maxHeight*this.aspectRatio,o=u.maxWidth/this.aspectRatio,n>u.minWidth&&(u.minWidth=n),s>u.minHeight&&(u.minHeight=s),i<u.maxWidth&&(u.maxWidth=i),o<u.maxHeight&&(u.maxHeight=o);this._vBoundaries=u},_updateCache:function(e){var t=this.options;this.offset=this.helper.offset(),r(e.left)&&(this.position.left=e.left),r(e.top)&&(this.position.top=e.top),r(e.height)&&(this.size.height=e.height),r(e.width)&&(this.size.width=e.width)},_updateRatio:function(e,t){var n=this.options,i=this.position,s=this.size,o=this.axis;return r(e.height)?e.width=e.height*this.aspectRatio:r(e.width)&&(e.height=e.width/this.aspectRatio),o=="sw"&&(e.left=i.left+(s.width-e.width),e.top=null),o=="nw"&&(e.top=i.top+(s.height-e.height),e.left=i.left+(s.width-e.width)),e},_respectSize:function(e,t){var n=this.helper,i=this._vBoundaries,s=this._aspectRatio||t.shiftKey,o=this.axis,u=r(e.width)&&i.maxWidth&&i.maxWidth<e.width,a=r(e.height)&&i.maxHeight&&i.maxHeight<e.height,f=r(e.width)&&i.minWidth&&i.minWidth>e.width,l=r(e.height)&&i.minHeight&&i.minHeight>e.height;f&&(e.width=i.minWidth),l&&(e.height=i.minHeight),u&&(e.width=i.maxWidth),a&&(e.height=i.maxHeight);var c=this.originalPosition.left+this.originalSize.width,h=this.position.top+this.size.height,p=/sw|nw|w/.test(o),d=/nw|ne|n/.test(o);f&&p&&(e.left=c-i.minWidth),u&&p&&(e.left=c-i.maxWidth),l&&d&&(e.top=h-i.minHeight),a&&d&&(e.top=h-i.maxHeight);var v=!e.width&&!e.height;return v&&!e.left&&e.top?e.top=null:v&&!e.top&&e.left&&(e.left=null),e},_proportionallyResize:function(){var t=this.options;if(!this._proportionallyResizeElements.length)return;var n=this.helper||this.element;for(var r=0;r<this._proportionallyResizeElements.length;r++){var i=this._proportionallyResizeElements[r];if(!this.borderDif){var s=[i.css("borderTopWidth"),i.css("borderRightWidth"),i.css("borderBottomWidth"),i.css("borderLeftWidth")],o=[i.css("paddingTop"),i.css("paddingRight"),i.css("paddingBottom"),i.css("paddingLeft")];this.borderDif=e.map(s,function(e,t){var n=parseInt(e,10)||0,r=parseInt(o[t],10)||0;return n+r})}i.css({height:n.height()-this.borderDif[0]-this.borderDif[2]||0,width:n.width()-this.borderDif[1]-this.borderDif[3]||0})}},_renderProxy:function(){var t=this.element,n=this.options;this.elementOffset=t.offset();if(this._helper){this.helper=this.helper||e('<div style="overflow:hidden;"></div>');var r=e.ui.ie6?1:0,i=e.ui.ie6?2:-1;this.helper.addClass(this._helper).css({width:this.element.outerWidth()+i,height:this.element.outerHeight()+i,position:"absolute",left:this.elementOffset.left-r+"px",top:this.elementOffset.top-r+"px",zIndex:++n.zIndex}),this.helper.appendTo("body").disableSelection()}else this.helper=this.element},_change:{e:function(e,t,n){return{width:this.originalSize.width+t}},w:function(e,t,n){var r=this.options,i=this.originalSize,s=this.originalPosition;return{left:s.left+t,width:i.width-t}},n:function(e,t,n){var r=this.options,i=this.originalSize,s=this.originalPosition;return{top:s.top+n,height:i.height-n}},s:function(e,t,n){return{height:this.originalSize.height+n}},se:function(t,n,r){return e.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,n,r]))},sw:function(t,n,r){return e.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,n,r]))},ne:function(t,n,r){return e.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,n,r]))},nw:function(t,n,r){return e.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,n,r]))}},_propagate:function(t,n){e.ui.plugin.call(this,t,[n,this.ui()]),t!="resize"&&this._trigger(t,n,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),e.ui.plugin.add("resizable","alsoResize",{start:function(t,n){var r=e(this).data("resizable"),i=r.options,s=function(t){e(t).each(function(){var t=e(this);t.data("resizable-alsoresize",{width:parseInt(t.width(),10),height:parseInt(t.height(),10),left:parseInt(t.css("left"),10),top:parseInt(t.css("top"),10)})})};typeof i.alsoResize=="object"&&!i.alsoResize.parentNode?i.alsoResize.length?(i.alsoResize=i.alsoResize[0],s(i.alsoResize)):e.each(i.alsoResize,function(e){s(e)}):s(i.alsoResize)},resize:function(t,n){var r=e(this).data("resizable"),i=r.options,s=r.originalSize,o=r.originalPosition,u={height:r.size.height-s.height||0,width:r.size.width-s.width||0,top:r.position.top-o.top||0,left:r.position.left-o.left||0},a=function(t,r){e(t).each(function(){var t=e(this),i=e(this).data("resizable-alsoresize"),s={},o=r&&r.length?r:t.parents(n.originalElement[0]).length?["width","height"]:["width","height","top","left"];e.each(o,function(e,t){var n=(i[t]||0)+(u[t]||0);n&&n>=0&&(s[t]=n||null)}),t.css(s)})};typeof i.alsoResize=="object"&&!i.alsoResize.nodeType?e.each(i.alsoResize,function(e,t){a(e,t)}):a(i.alsoResize)},stop:function(t,n){e(this).removeData("resizable-alsoresize")}}),e.ui.plugin.add("resizable","animate",{stop:function(t,n){var r=e(this).data("resizable"),i=r.options,s=r._proportionallyResizeElements,o=s.length&&/textarea/i.test(s[0].nodeName),u=o&&e.ui.hasScroll(s[0],"left")?0:r.sizeDiff.height,a=o?0:r.sizeDiff.width,f={width:r.size.width-a,height:r.size.height-u},l=parseInt(r.element.css("left"),10)+(r.position.left-r.originalPosition.left)||null,c=parseInt(r.element.css("top"),10)+(r.position.top-r.originalPosition.top)||null;r.element.animate(e.extend(f,c&&l?{top:c,left:l}:{}),{duration:i.animateDuration,easing:i.animateEasing,step:function(){var n={width:parseInt(r.element.css("width"),10),height:parseInt(r.element.css("height"),10),top:parseInt(r.element.css("top"),10),left:parseInt(r.element.css("left"),10)};s&&s.length&&e(s[0]).css({width:n.width,height:n.height}),r._updateCache(n),r._propagate("resize",t)}})}}),e.ui.plugin.add("resizable","containment",{start:function(t,r){var i=e(this).data("resizable"),s=i.options,o=i.element,u=s.containment,a=u instanceof e?u.get(0):/parent/.test(u)?o.parent().get(0):u;if(!a)return;i.containerElement=e(a);if(/document/.test(u)||u==document)i.containerOffset={left:0,top:0},i.containerPosition={left:0,top:0},i.parentData={element:e(document),left:0,top:0,width:e(document).width(),height:e(document).height()||document.body.parentNode.scrollHeight};else{var f=e(a),l=[];e(["Top","Right","Left","Bottom"]).each(function(e,t){l[e]=n(f.css("padding"+t))}),i.containerOffset=f.offset(),i.containerPosition=f.position(),i.containerSize={height:f.innerHeight()-l[3],width:f.innerWidth()-l[1]};var c=i.containerOffset,h=i.containerSize.height,p=i.containerSize.width,d=e.ui.hasScroll(a,"left")?a.scrollWidth:p,v=e.ui.hasScroll(a)?a.scrollHeight:h;i.parentData={element:a,left:c.left,top:c.top,width:d,height:v}}},resize:function(t,n){var r=e(this).data("resizable"),i=r.options,s=r.containerSize,o=r.containerOffset,u=r.size,a=r.position,f=r._aspectRatio||t.shiftKey,l={top:0,left:0},c=r.containerElement;c[0]!=document&&/static/.test(c.css("position"))&&(l=o),a.left<(r._helper?o.left:0)&&(r.size.width=r.size.width+(r._helper?r.position.left-o.left:r.position.left-l.left),f&&(r.size.height=r.size.width/r.aspectRatio),r.position.left=i.helper?o.left:0),a.top<(r._helper?o.top:0)&&(r.size.height=r.size.height+(r._helper?r.position.top-o.top:r.position.top),f&&(r.size.width=r.size.height*r.aspectRatio),r.position.top=r._helper?o.top:0),r.offset.left=r.parentData.left+r.position.left,r.offset.top=r.parentData.top+r.position.top;var h=Math.abs((r._helper?r.offset.left-l.left:r.offset.left-l.left)+r.sizeDiff.width),p=Math.abs((r._helper?r.offset.top-l.top:r.offset.top-o.top)+r.sizeDiff.height),d=r.containerElement.get(0)==r.element.parent().get(0),v=/relative|absolute/.test(r.containerElement.css("position"));d&&v&&(h-=r.parentData.left),h+r.size.width>=r.parentData.width&&(r.size.width=r.parentData.width-h,f&&(r.size.height=r.size.width/r.aspectRatio)),p+r.size.height>=r.parentData.height&&(r.size.height=r.parentData.height-p,f&&(r.size.width=r.size.height*r.aspectRatio))},stop:function(t,n){var r=e(this).data("resizable"),i=r.options,s=r.position,o=r.containerOffset,u=r.containerPosition,a=r.containerElement,f=e(r.helper),l=f.offset(),c=f.outerWidth()-r.sizeDiff.width,h=f.outerHeight()-r.sizeDiff.height;r._helper&&!i.animate&&/relative/.test(a.css("position"))&&e(this).css({left:l.left-u.left-o.left,width:c,height:h}),r._helper&&!i.animate&&/static/.test(a.css("position"))&&e(this).css({left:l.left-u.left-o.left,width:c,height:h})}}),e.ui.plugin.add("resizable","ghost",{start:function(t,n){var r=e(this).data("resizable"),i=r.options,s=r.size;r.ghost=r.originalElement.clone(),r.ghost.css({opacity:.25,display:"block",position:"relative",height:s.height,width:s.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass(typeof i.ghost=="string"?i.ghost:""),r.ghost.appendTo(r.helper)},resize:function(t,n){var r=e(this).data("resizable"),i=r.options;r.ghost&&r.ghost.css({position:"relative",height:r.size.height,width:r.size.width})},stop:function(t,n){var r=e(this).data("resizable"),i=r.options;r.ghost&&r.helper&&r.helper.get(0).removeChild(r.ghost.get(0))}}),e.ui.plugin.add("resizable","grid",{resize:function(t,n){var r=e(this).data("resizable"),i=r.options,s=r.size,o=r.originalSize,u=r.originalPosition,a=r.axis,f=i._aspectRatio||t.shiftKey;i.grid=typeof i.grid=="number"?[i.grid,i.grid]:i.grid;var l=Math.round((s.width-o.width)/(i.grid[0]||1))*(i.grid[0]||1),c=Math.round((s.height-o.height)/(i.grid[1]||1))*(i.grid[1]||1);/^(se|s|e)$/.test(a)?(r.size.width=o.width+l,r.size.height=o.height+c):/^(ne)$/.test(a)?(r.size.width=o.width+l,r.size.height=o.height+c,r.position.top=u.top-c):/^(sw)$/.test(a)?(r.size.width=o.width+l,r.size.height=o.height+c,r.position.left=u.left-l):(r.size.width=o.width+l,r.size.height=o.height+c,r.position.top=u.top-c,r.position.left=u.left-l)}});var n=function(e){return parseInt(e,10)||0},r=function(e){return!isNaN(parseInt(e,10))}})(jQuery);;
/*! jQuery UI - v1.9.2 - 2013-02-15
* http://jqueryui.com
* Includes: jquery.ui.sortable.js
* Copyright 2013 jQuery Foundation and other contributors; Licensed MIT */
(function(e,t){e.widget("ui.sortable",e.ui.mouse,{version:"1.9.2",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3},_create:function(){var e=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=this.items.length?e.axis==="x"||/left|right/.test(this.items[0].item.css("float"))||/inline|table-cell/.test(this.items[0].item.css("display")):!1,this.offset=this.element.offset(),this._mouseInit(),this.ready=!0},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled"),this._mouseDestroy();for(var e=this.items.length-1;e>=0;e--)this.items[e].item.removeData(this.widgetName+"-item");return this},_setOption:function(t,n){t==="disabled"?(this.options[t]=n,this.widget().toggleClass("ui-sortable-disabled",!!n)):e.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(t,n){var r=this;if(this.reverting)return!1;if(this.options.disabled||this.options.type=="static")return!1;this._refreshItems(t);var i=null,s=e(t.target).parents().each(function(){if(e.data(this,r.widgetName+"-item")==r)return i=e(this),!1});e.data(t.target,r.widgetName+"-item")==r&&(i=e(t.target));if(!i)return!1;if(this.options.handle&&!n){var o=!1;e(this.options.handle,i).find("*").andSelf().each(function(){this==t.target&&(o=!0)});if(!o)return!1}return this.currentItem=i,this._removeCurrentsFromItems(),!0},_mouseStart:function(t,n,r){var i=this.options;this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!=this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),i.containment&&this._setContainment(),i.cursor&&(e("body").css("cursor")&&(this._storedCursor=e("body").css("cursor")),e("body").css("cursor",i.cursor)),i.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",i.opacity)),i.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",i.zIndex)),this.scrollParent[0]!=document&&this.scrollParent[0].tagName!="HTML"&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions();if(!r)for(var s=this.containers.length-1;s>=0;s--)this.containers[s]._trigger("activate",t,this._uiHash(this));return e.ui.ddmanager&&(e.ui.ddmanager.current=this),e.ui.ddmanager&&!i.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs);if(this.options.scroll){var n=this.options,r=!1;this.scrollParent[0]!=document&&this.scrollParent[0].tagName!="HTML"?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<n.scrollSensitivity?this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop+n.scrollSpeed:t.pageY-this.overflowOffset.top<n.scrollSensitivity&&(this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop-n.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<n.scrollSensitivity?this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft+n.scrollSpeed:t.pageX-this.overflowOffset.left<n.scrollSensitivity&&(this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft-n.scrollSpeed)):(t.pageY-e(document).scrollTop()<n.scrollSensitivity?r=e(document).scrollTop(e(document).scrollTop()-n.scrollSpeed):e(window).height()-(t.pageY-e(document).scrollTop())<n.scrollSensitivity&&(r=e(document).scrollTop(e(document).scrollTop()+n.scrollSpeed)),t.pageX-e(document).scrollLeft()<n.scrollSensitivity?r=e(document).scrollLeft(e(document).scrollLeft()-n.scrollSpeed):e(window).width()-(t.pageX-e(document).scrollLeft())<n.scrollSensitivity&&(r=e(document).scrollLeft(e(document).scrollLeft()+n.scrollSpeed))),r!==!1&&e.ui.ddmanager&&!n.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t)}this.positionAbs=this._convertPositionTo("absolute");if(!this.options.axis||this.options.axis!="y")this.helper[0].style.left=this.position.left+"px";if(!this.options.axis||this.options.axis!="x")this.helper[0].style.top=this.position.top+"px";for(var i=this.items.length-1;i>=0;i--){var s=this.items[i],o=s.item[0],u=this._intersectsWithPointer(s);if(!u)continue;if(s.instance!==this.currentContainer)continue;if(o!=this.currentItem[0]&&this.placeholder[u==1?"next":"prev"]()[0]!=o&&!e.contains(this.placeholder[0],o)&&(this.options.type=="semi-dynamic"?!e.contains(this.element[0],o):!0)){this.direction=u==1?"down":"up";if(this.options.tolerance!="pointer"&&!this._intersectsWithSides(s))break;this._rearrange(t,s),this._trigger("change",t,this._uiHash());break}}return this._contactContainers(t),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,n){if(!t)return;e.ui.ddmanager&&!this.options.dropBehaviour&&e.ui.ddmanager.drop(this,t);if(this.options.revert){var r=this,i=this.placeholder.offset();this.reverting=!0,e(this.helper).animate({left:i.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollLeft),top:i.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollTop)},parseInt(this.options.revert,10)||500,function(){r._clear(t)})}else this._clear(t,n);return!1},cancel:function(){if(this.dragging){this._mouseUp({target:null}),this.options.helper=="original"?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var t=this.containers.length-1;t>=0;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.options.helper!="original"&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),e.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?e(this.domPosition.prev).after(this.currentItem):e(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var n=this._getItemsAsjQuery(t&&t.connected),r=[];return t=t||{},e(n).each(function(){var n=(e(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[-=_](.+)/);n&&r.push((t.key||n[1]+"[]")+"="+(t.key&&t.expression?n[1]:n[2]))}),!r.length&&t.key&&r.push(t.key+"="),r.join("&")},toArray:function(t){var n=this._getItemsAsjQuery(t&&t.connected),r=[];return t=t||{},n.each(function(){r.push(e(t.item||this).attr(t.attribute||"id")||"")}),r},_intersectsWith:function(e){var t=this.positionAbs.left,n=t+this.helperProportions.width,r=this.positionAbs.top,i=r+this.helperProportions.height,s=e.left,o=s+e.width,u=e.top,a=u+e.height,f=this.offset.click.top,l=this.offset.click.left,c=r+f>u&&r+f<a&&t+l>s&&t+l<o;return this.options.tolerance=="pointer"||this.options.forcePointerForContainers||this.options.tolerance!="pointer"&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?c:s<t+this.helperProportions.width/2&&n-this.helperProportions.width/2<o&&u<r+this.helperProportions.height/2&&i-this.helperProportions.height/2<a},_intersectsWithPointer:function(t){var n=this.options.axis==="x"||e.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height),r=this.options.axis==="y"||e.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width),i=n&&r,s=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return i?this.floating?o&&o=="right"||s=="down"?2:1:s&&(s=="down"?2:1):!1},_intersectsWithSides:function(t){var n=e.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),r=e.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),i=this._getDragVerticalDirection(),s=this._getDragHorizontalDirection();return this.floating&&s?s=="right"&&r||s=="left"&&!r:i&&(i=="down"&&n||i=="up"&&!n)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return e!=0&&(e>0?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return e!=0&&(e>0?"right":"left")},refresh:function(e){return this._refreshItems(e),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor==String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(t){var n=[],r=[],i=this._connectWith();if(i&&t)for(var s=i.length-1;s>=0;s--){var o=e(i[s]);for(var u=o.length-1;u>=0;u--){var a=e.data(o[u],this.widgetName);a&&a!=this&&!a.options.disabled&&r.push([e.isFunction(a.options.items)?a.options.items.call(a.element):e(a.options.items,a.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),a])}}r.push([e.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):e(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);for(var s=r.length-1;s>=0;s--)r[s][0].each(function(){n.push(this)});return e(n)},_removeCurrentsFromItems:function(){var t=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=e.grep(this.items,function(e){for(var n=0;n<t.length;n++)if(t[n]==e.item[0])return!1;return!0})},_refreshItems:function(t){this.items=[],this.containers=[this];var n=this.items,r=[[e.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):e(this.options.items,this.element),this]],i=this._connectWith();if(i&&this.ready)for(var s=i.length-1;s>=0;s--){var o=e(i[s]);for(var u=o.length-1;u>=0;u--){var a=e.data(o[u],this.widgetName);a&&a!=this&&!a.options.disabled&&(r.push([e.isFunction(a.options.items)?a.options.items.call(a.element[0],t,{item:this.currentItem}):e(a.options.items,a.element),a]),this.containers.push(a))}}for(var s=r.length-1;s>=0;s--){var f=r[s][1],l=r[s][0];for(var u=0,c=l.length;u<c;u++){var h=e(l[u]);h.data(this.widgetName+"-item",f),n.push({item:h,instance:f,width:0,height:0,left:0,top:0})}}},refreshPositions:function(t){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());for(var n=this.items.length-1;n>=0;n--){var r=this.items[n];if(r.instance!=this.currentContainer&&this.currentContainer&&r.item[0]!=this.currentItem[0])continue;var i=this.options.toleranceElement?e(this.options.toleranceElement,r.item):r.item;t||(r.width=i.outerWidth(),r.height=i.outerHeight());var s=i.offset();r.left=s.left,r.top=s.top}if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(var n=this.containers.length-1;n>=0;n--){var s=this.containers[n].element.offset();this.containers[n].containerCache.left=s.left,this.containers[n].containerCache.top=s.top,this.containers[n].containerCache.width=this.containers[n].element.outerWidth(),this.containers[n].containerCache.height=this.containers[n].element.outerHeight()}return this},_createPlaceholder:function(t){t=t||this;var n=t.options;if(!n.placeholder||n.placeholder.constructor==String){var r=n.placeholder;n.placeholder={element:function(){var n=e(document.createElement(t.currentItem[0].nodeName)).addClass(r||t.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper")[0];return r||(n.style.visibility="hidden"),n},update:function(e,i){if(r&&!n.forcePlaceholderSize)return;i.height()||i.height(t.currentItem.innerHeight()-parseInt(t.currentItem.css("paddingTop")||0,10)-parseInt(t.currentItem.css("paddingBottom")||0,10)),i.width()||i.width(t.currentItem.innerWidth()-parseInt(t.currentItem.css("paddingLeft")||0,10)-parseInt(t.currentItem.css("paddingRight")||0,10))}}}t.placeholder=e(n.placeholder.element.call(t.element,t.currentItem)),t.currentItem.after(t.placeholder),n.placeholder.update(t,t.placeholder)},_contactContainers:function(t){var n=null,r=null;for(var i=this.containers.length-1;i>=0;i--){if(e.contains(this.currentItem[0],this.containers[i].element[0]))continue;if(this._intersectsWith(this.containers[i].containerCache)){if(n&&e.contains(this.containers[i].element[0],n.element[0]))continue;n=this.containers[i],r=i}else this.containers[i].containerCache.over&&(this.containers[i]._trigger("out",t,this._uiHash(this)),this.containers[i].containerCache.over=0)}if(!n)return;if(this.containers.length===1)this.containers[r]._trigger("over",t,this._uiHash(this)),this.containers[r].containerCache.over=1;else{var s=1e4,o=null,u=this.containers[r].floating?"left":"top",a=this.containers[r].floating?"width":"height",f=this.positionAbs[u]+this.offset.click[u];for(var l=this.items.length-1;l>=0;l--){if(!e.contains(this.containers[r].element[0],this.items[l].item[0]))continue;if(this.items[l].item[0]==this.currentItem[0])continue;var c=this.items[l].item.offset()[u],h=!1;Math.abs(c-f)>Math.abs(c+this.items[l][a]-f)&&(h=!0,c+=this.items[l][a]),Math.abs(c-f)<s&&(s=Math.abs(c-f),o=this.items[l],this.direction=h?"up":"down")}if(!o&&!this.options.dropOnEmpty)return;this.currentContainer=this.containers[r],o?this._rearrange(t,o,null,!0):this._rearrange(t,null,this.containers[r].element,!0),this._trigger("change",t,this._uiHash()),this.containers[r]._trigger("change",t,this._uiHash(this)),this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[r]._trigger("over",t,this._uiHash(this)),this.containers[r].containerCache.over=1}},_createHelper:function(t){var n=this.options,r=e.isFunction(n.helper)?e(n.helper.apply(this.element[0],[t,this.currentItem])):n.helper=="clone"?this.currentItem.clone():this.currentItem;return r.parents("body").length||e(n.appendTo!="parent"?n.appendTo:this.currentItem[0].parentNode)[0].appendChild(r[0]),r[0]==this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(r[0].style.width==""||n.forceHelperSize)&&r.width(this.currentItem.width()),(r[0].style.height==""||n.forceHelperSize)&&r.height(this.currentItem.height()),r},_adjustOffsetFromHelper:function(t){typeof t=="string"&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop());if(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&e.ui.ie)t={top:0,left:0};return{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t=this.options;t.containment=="parent"&&(t.containment=this.helper[0].parentNode);if(t.containment=="document"||t.containment=="window")this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,e(t.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(e(t.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];if(!/^(document|window|parent)$/.test(t.containment)){var n=e(t.containment)[0],r=e(t.containment).offset(),i=e(n).css("overflow")!="hidden";this.containment=[r.left+(parseInt(e(n).css("borderLeftWidth"),10)||0)+(parseInt(e(n).css("paddingLeft"),10)||0)-this.margins.left,r.top+(parseInt(e(n).css("borderTopWidth"),10)||0)+(parseInt(e(n).css("paddingTop"),10)||0)-this.margins.top,r.left+(i?Math.max(n.scrollWidth,n.offsetWidth):n.offsetWidth)-(parseInt(e(n).css("borderLeftWidth"),10)||0)-(parseInt(e(n).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,r.top+(i?Math.max(n.scrollHeight,n.offsetHeight):n.offsetHeight)-(parseInt(e(n).css("borderTopWidth"),10)||0)-(parseInt(e(n).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}},_convertPositionTo:function(t,n){n||(n=this.position);var r=t=="absolute"?1:-1,i=this.options,s=this.cssPosition!="absolute"||this.scrollParent[0]!=document&&!!e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(s[0].tagName);return{top:n.top+this.offset.relative.top*r+this.offset.parent.top*r-(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():o?0:s.scrollTop())*r,left:n.left+this.offset.relative.left*r+this.offset.parent.left*r-(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():o?0:s.scrollLeft())*r}},_generatePosition:function(t){var n=this.options,r=this.cssPosition!="absolute"||this.scrollParent[0]!=document&&!!e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,i=/(html|body)/i.test(r[0].tagName);this.cssPosition=="relative"&&(this.scrollParent[0]==document||this.scrollParent[0]==this.offsetParent[0])&&(this.offset.relative=this._getRelativeOffset());var s=t.pageX,o=t.pageY;if(this.originalPosition){this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(s=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(o=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(s=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(o=this.containment[3]+this.offset.click.top));if(n.grid){var u=this.originalPageY+Math.round((o-this.originalPageY)/n.grid[1])*n.grid[1];o=this.containment?u-this.offset.click.top<this.containment[1]||u-this.offset.click.top>this.containment[3]?u-this.offset.click.top<this.containment[1]?u+n.grid[1]:u-n.grid[1]:u:u;var a=this.originalPageX+Math.round((s-this.originalPageX)/n.grid[0])*n.grid[0];s=this.containment?a-this.offset.click.left<this.containment[0]||a-this.offset.click.left>this.containment[2]?a-this.offset.click.left<this.containment[0]?a+n.grid[0]:a-n.grid[0]:a:a}}return{top:o-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():i?0:r.scrollTop()),left:s-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():i?0:r.scrollLeft())}},_rearrange:function(e,t,n,r){n?n[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],this.direction=="down"?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var i=this.counter;this._delay(function(){i==this.counter&&this.refreshPositions(!r)})},_clear:function(t,n){this.reverting=!1;var r=[];!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null;if(this.helper[0]==this.currentItem[0]){for(var i in this._storedCSS)if(this._storedCSS[i]=="auto"||this._storedCSS[i]=="static")this._storedCSS[i]="";this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();this.fromOutside&&!n&&r.push(function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))}),(this.fromOutside||this.domPosition.prev!=this.currentItem.prev().not(".ui-sortable-helper")[0]||this.domPosition.parent!=this.currentItem.parent()[0])&&!n&&r.push(function(e){this._trigger("update",e,this._uiHash())}),this!==this.currentContainer&&(n||(r.push(function(e){this._trigger("remove",e,this._uiHash())}),r.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),r.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer))));for(var i=this.containers.length-1;i>=0;i--)n||r.push(function(e){return function(t){e._trigger("deactivate",t,this._uiHash(this))}}.call(this,this.containers[i])),this.containers[i].containerCache.over&&(r.push(function(e){return function(t){e._trigger("out",t,this._uiHash(this))}}.call(this,this.containers[i])),this.containers[i].containerCache.over=0);this._storedCursor&&e("body").css("cursor",this._storedCursor),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex",this._storedZIndex=="auto"?"":this._storedZIndex),this.dragging=!1;if(this.cancelHelperRemoval){if(!n){this._trigger("beforeStop",t,this._uiHash());for(var i=0;i<r.length;i++)r[i].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!1}n||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!=this.currentItem[0]&&this.helper.remove(),this.helper=null;if(!n){for(var i=0;i<r.length;i++)r[i].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){e.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(t){var n=t||this;return{helper:n.helper,placeholder:n.placeholder||e([]),position:n.position,originalPosition:n.originalPosition,offset:n.positionAbs,item:n.currentItem,sender:t?t.element:null}}})})(jQuery);;
/*! jQuery UI - v1.9.2 - 2013-02-15
* http://jqueryui.com
* Includes: jquery.ui.dialog.js
* Copyright 2013 jQuery Foundation and other contributors; Licensed MIT */
(function(e,t){var n="ui-dialog ui-widget ui-widget-content ui-corner-all ",r={buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},i={maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0};e.widget("ui.dialog",{version:"1.9.2",options:{autoOpen:!0,buttons:{},closeOnEscape:!0,closeText:"close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:!1,maxWidth:!1,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(t){var n=e(this).css(t).offset().top;n<0&&e(this).css("top",t.top-n)}},resizable:!0,show:null,stack:!0,title:"",width:300,zIndex:1e3},_create:function(){this.originalTitle=this.element.attr("title"),typeof this.originalTitle!="string"&&(this.originalTitle=""),this.oldPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.options.title=this.options.title||this.originalTitle;var t=this,r=this.options,i=r.title||"&#160;",s,o,u,a,f;s=(this.uiDialog=e("<div>")).addClass(n+r.dialogClass).css({display:"none",outline:0,zIndex:r.zIndex}).attr("tabIndex",-1).keydown(function(n){r.closeOnEscape&&!n.isDefaultPrevented()&&n.keyCode&&n.keyCode===e.ui.keyCode.ESCAPE&&(t.close(n),n.preventDefault())}).mousedown(function(e){t.moveToTop(!1,e)}).appendTo("body"),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(s),o=(this.uiDialogTitlebar=e("<div>")).addClass("ui-dialog-titlebar  ui-widget-header  ui-corner-all  ui-helper-clearfix").bind("mousedown",function(){s.focus()}).prependTo(s),u=e("<a href='#'></a>").addClass("ui-dialog-titlebar-close  ui-corner-all").attr("role","button").click(function(e){e.preventDefault(),t.close(e)}).appendTo(o),(this.uiDialogTitlebarCloseText=e("<span>")).addClass("ui-icon ui-icon-closethick").text(r.closeText).appendTo(u),a=e("<span>").uniqueId().addClass("ui-dialog-title").html(i).prependTo(o),f=(this.uiDialogButtonPane=e("<div>")).addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),(this.uiButtonSet=e("<div>")).addClass("ui-dialog-buttonset").appendTo(f),s.attr({role:"dialog","aria-labelledby":a.attr("id")}),o.find("*").add(o).disableSelection(),this._hoverable(u),this._focusable(u),r.draggable&&e.fn.draggable&&this._makeDraggable(),r.resizable&&e.fn.resizable&&this._makeResizable(),this._createButtons(r.buttons),this._isOpen=!1,e.fn.bgiframe&&s.bgiframe(),this._on(s,{keydown:function(t){if(!r.modal||t.keyCode!==e.ui.keyCode.TAB)return;var n=e(":tabbable",s),i=n.filter(":first"),o=n.filter(":last");if(t.target===o[0]&&!t.shiftKey)return i.focus(1),!1;if(t.target===i[0]&&t.shiftKey)return o.focus(1),!1}})},_init:function(){this.options.autoOpen&&this.open()},_destroy:function(){var e,t=this.oldPosition;this.overlay&&this.overlay.destroy(),this.uiDialog.hide(),this.element.removeClass("ui-dialog-content ui-widget-content").hide().appendTo("body"),this.uiDialog.remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),e=t.parent.children().eq(t.index),e.length&&e[0]!==this.element[0]?e.before(this.element):t.parent.append(this.element)},widget:function(){return this.uiDialog},close:function(t){var n=this,r,i;if(!this._isOpen)return;if(!1===this._trigger("beforeClose",t))return;return this._isOpen=!1,this.overlay&&this.overlay.destroy(),this.options.hide?this._hide(this.uiDialog,this.options.hide,function(){n._trigger("close",t)}):(this.uiDialog.hide(),this._trigger("close",t)),e.ui.dialog.overlay.resize(),this.options.modal&&(r=0,e(".ui-dialog").each(function(){this!==n.uiDialog[0]&&(i=e(this).css("z-index"),isNaN(i)||(r=Math.max(r,i)))}),e.ui.dialog.maxZ=r),this},isOpen:function(){return this._isOpen},moveToTop:function(t,n){var r=this.options,i;return r.modal&&!t||!r.stack&&!r.modal?this._trigger("focus",n):(r.zIndex>e.ui.dialog.maxZ&&(e.ui.dialog.maxZ=r.zIndex),this.overlay&&(e.ui.dialog.maxZ+=1,e.ui.dialog.overlay.maxZ=e.ui.dialog.maxZ,this.overlay.$el.css("z-index",e.ui.dialog.overlay.maxZ)),i={scrollTop:this.element.scrollTop(),scrollLeft:this.element.scrollLeft()},e.ui.dialog.maxZ+=1,this.uiDialog.css("z-index",e.ui.dialog.maxZ),this.element.attr(i),this._trigger("focus",n),this)},open:function(){if(this._isOpen)return;var t,n=this.options,r=this.uiDialog;return this._size(),this._position(n.position),r.show(n.show),this.overlay=n.modal?new e.ui.dialog.overlay(this):null,this.moveToTop(!0),t=this.element.find(":tabbable"),t.length||(t=this.uiDialogButtonPane.find(":tabbable"),t.length||(t=r)),t.eq(0).focus(),this._isOpen=!0,this._trigger("open"),this},_createButtons:function(t){var n=this,r=!1;this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),typeof t=="object"&&t!==null&&e.each(t,function(){return!(r=!0)}),r?(e.each(t,function(t,r){var i,s;r=e.isFunction(r)?{click:r,text:t}:r,r=e.extend({type:"button"},r),s=r.click,r.click=function(){s.apply(n.element[0],arguments)},i=e("<button></button>",r).appendTo(n.uiButtonSet),e.fn.button&&i.button()}),this.uiDialog.addClass("ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog)):this.uiDialog.removeClass("ui-dialog-buttons")},_makeDraggable:function(){function r(e){return{position:e.position,offset:e.offset}}var t=this,n=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(n,i){e(this).addClass("ui-dialog-dragging"),t._trigger("dragStart",n,r(i))},drag:function(e,n){t._trigger("drag",e,r(n))},stop:function(i,s){n.position=[s.position.left-t.document.scrollLeft(),s.position.top-t.document.scrollTop()],e(this).removeClass("ui-dialog-dragging"),t._trigger("dragStop",i,r(s)),e.ui.dialog.overlay.resize()}})},_makeResizable:function(n){function u(e){return{originalPosition:e.originalPosition,originalSize:e.originalSize,position:e.position,size:e.size}}n=n===t?this.options.resizable:n;var r=this,i=this.options,s=this.uiDialog.css("position"),o=typeof n=="string"?n:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:i.maxWidth,maxHeight:i.maxHeight,minWidth:i.minWidth,minHeight:this._minHeight(),handles:o,start:function(t,n){e(this).addClass("ui-dialog-resizing"),r._trigger("resizeStart",t,u(n))},resize:function(e,t){r._trigger("resize",e,u(t))},stop:function(t,n){e(this).removeClass("ui-dialog-resizing"),i.height=e(this).height(),i.width=e(this).width(),r._trigger("resizeStop",t,u(n)),e.ui.dialog.overlay.resize()}}).css("position",s).find(".ui-resizable-se").addClass("ui-icon ui-icon-grip-diagonal-se")},_minHeight:function(){var e=this.options;return e.height==="auto"?e.minHeight:Math.min(e.minHeight,e.height)},_position:function(t){var n=[],r=[0,0],i;if(t){if(typeof t=="string"||typeof t=="object"&&"0"in t)n=t.split?t.split(" "):[t[0],t[1]],n.length===1&&(n[1]=n[0]),e.each(["left","top"],function(e,t){+n[e]===n[e]&&(r[e]=n[e],n[e]=t)}),t={my:n[0]+(r[0]<0?r[0]:"+"+r[0])+" "+n[1]+(r[1]<0?r[1]:"+"+r[1]),at:n.join(" ")};t=e.extend({},e.ui.dialog.prototype.options.position,t)}else t=e.ui.dialog.prototype.options.position;i=this.uiDialog.is(":visible"),i||this.uiDialog.show(),this.uiDialog.position(t),i||this.uiDialog.hide()},_setOptions:function(t){var n=this,s={},o=!1;e.each(t,function(e,t){n._setOption(e,t),e in r&&(o=!0),e in i&&(s[e]=t)}),o&&this._size(),this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option",s)},_setOption:function(t,r){var i,s,o=this.uiDialog;switch(t){case"buttons":this._createButtons(r);break;case"closeText":this.uiDialogTitlebarCloseText.text(""+r);break;case"dialogClass":o.removeClass(this.options.dialogClass).addClass(n+r);break;case"disabled":r?o.addClass("ui-dialog-disabled"):o.removeClass("ui-dialog-disabled");break;case"draggable":i=o.is(":data(draggable)"),i&&!r&&o.draggable("destroy"),!i&&r&&this._makeDraggable();break;case"position":this._position(r);break;case"resizable":s=o.is(":data(resizable)"),s&&!r&&o.resizable("destroy"),s&&typeof r=="string"&&o.resizable("option","handles",r),!s&&r!==!1&&this._makeResizable(r);break;case"title":e(".ui-dialog-title",this.uiDialogTitlebar).html(""+(r||"&#160;"))}this._super(t,r)},_size:function(){var t,n,r,i=this.options,s=this.uiDialog.is(":visible");this.element.show().css({width:"auto",minHeight:0,height:0}),i.minWidth>i.width&&(i.width=i.minWidth),t=this.uiDialog.css({height:"auto",width:i.width}).outerHeight(),n=Math.max(0,i.minHeight-t),i.height==="auto"?e.support.minHeight?this.element.css({minHeight:n,height:"auto"}):(this.uiDialog.show(),r=this.element.css("height","auto").height(),s||this.uiDialog.hide(),this.element.height(Math.max(r,n))):this.element.height(Math.max(i.height-t,0)),this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())}}),e.extend(e.ui.dialog,{uuid:0,maxZ:0,getTitleId:function(e){var t=e.attr("id");return t||(this.uuid+=1,t=this.uuid),"ui-dialog-title-"+t},overlay:function(t){this.$el=e.ui.dialog.overlay.create(t)}}),e.extend(e.ui.dialog.overlay,{instances:[],oldInstances:[],maxZ:0,events:e.map("focus,mousedown,mouseup,keydown,keypress,click".split(","),function(e){return e+".dialog-overlay"}).join(" "),create:function(t){this.instances.length===0&&(setTimeout(function(){e.ui.dialog.overlay.instances.length&&e(document).bind(e.ui.dialog.overlay.events,function(t){if(e(t.target).zIndex()<e.ui.dialog.overlay.maxZ)return!1})},1),e(window).bind("resize.dialog-overlay",e.ui.dialog.overlay.resize));var n=this.oldInstances.pop()||e("<div>").addClass("ui-widget-overlay");return e(document).bind("keydown.dialog-overlay",function(r){var i=e.ui.dialog.overlay.instances;i.length!==0&&i[i.length-1]===n&&t.options.closeOnEscape&&!r.isDefaultPrevented()&&r.keyCode&&r.keyCode===e.ui.keyCode.ESCAPE&&(t.close(r),r.preventDefault())}),n.appendTo(document.body).css({width:this.width(),height:this.height()}),e.fn.bgiframe&&n.bgiframe(),this.instances.push(n),n},destroy:function(t){var n=e.inArray(t,this.instances),r=0;n!==-1&&this.oldInstances.push(this.instances.splice(n,1)[0]),this.instances.length===0&&e([document,window]).unbind(".dialog-overlay"),t.height(0).width(0).remove(),e.each(this.instances,function(){r=Math.max(r,this.css("z-index"))}),this.maxZ=r},height:function(){var t,n;return e.ui.ie?(t=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight),n=Math.max(document.documentElement.offsetHeight,document.body.offsetHeight),t<n?e(window).height()+"px":t+"px"):e(document).height()+"px"},width:function(){var t,n;return e.ui.ie?(t=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth),n=Math.max(document.documentElement.offsetWidth,document.body.offsetWidth),t<n?e(window).width()+"px":t+"px"):e(document).width()+"px"},resize:function(){var t=e([]);e.each(e.ui.dialog.overlay.instances,function(){t=t.add(this)}),t.css({width:0,height:0}).css({width:e.ui.dialog.overlay.width(),height:e.ui.dialog.overlay.height()})}}),e.extend(e.ui.dialog.overlay.prototype,{destroy:function(){e.ui.dialog.overlay.destroy(this.$el)}})})(jQuery);;
/*! jQuery UI - v1.9.2 - 2013-02-15
* http://jqueryui.com
* Includes: jquery.ui.button.js
* Copyright 2013 jQuery Foundation and other contributors; Licensed MIT */
(function(e,t){var n,r,i,s,o="ui-button ui-widget ui-state-default ui-corner-all",u="ui-state-hover ui-state-active ",a="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",f=function(){var t=e(this).find(":ui-button");setTimeout(function(){t.button("refresh")},1)},l=function(t){var n=t.name,r=t.form,i=e([]);return n&&(r?i=e(r).find("[name='"+n+"']"):i=e("[name='"+n+"']",t.ownerDocument).filter(function(){return!this.form})),i};e.widget("ui.button",{version:"1.9.2",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,f),typeof this.options.disabled!="boolean"?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var t=this,u=this.options,a=this.type==="checkbox"||this.type==="radio",c=a?"":"ui-state-active",h="ui-state-focus";u.label===null&&(u.label=this.type==="input"?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(o).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){if(u.disabled)return;this===n&&e(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){if(u.disabled)return;e(this).removeClass(c)}).bind("click"+this.eventNamespace,function(e){u.disabled&&(e.preventDefault(),e.stopImmediatePropagation())}),this.element.bind("focus"+this.eventNamespace,function(){t.buttonElement.addClass(h)}).bind("blur"+this.eventNamespace,function(){t.buttonElement.removeClass(h)}),a&&(this.element.bind("change"+this.eventNamespace,function(){if(s)return;t.refresh()}),this.buttonElement.bind("mousedown"+this.eventNamespace,function(e){if(u.disabled)return;s=!1,r=e.pageX,i=e.pageY}).bind("mouseup"+this.eventNamespace,function(e){if(u.disabled)return;if(r!==e.pageX||i!==e.pageY)s=!0})),this.type==="checkbox"?this.buttonElement.bind("click"+this.eventNamespace,function(){if(u.disabled||s)return!1;e(this).toggleClass("ui-state-active"),t.buttonElement.attr("aria-pressed",t.element[0].checked)}):this.type==="radio"?this.buttonElement.bind("click"+this.eventNamespace,function(){if(u.disabled||s)return!1;e(this).addClass("ui-state-active"),t.buttonElement.attr("aria-pressed","true");var n=t.element[0];l(n).not(n).map(function(){return e(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){if(u.disabled)return!1;e(this).addClass("ui-state-active"),n=this,t.document.one("mouseup",function(){n=null})}).bind("mouseup"+this.eventNamespace,function(){if(u.disabled)return!1;e(this).removeClass("ui-state-active")}).bind("keydown"+this.eventNamespace,function(t){if(u.disabled)return!1;(t.keyCode===e.ui.keyCode.SPACE||t.keyCode===e.ui.keyCode.ENTER)&&e(this).addClass("ui-state-active")}).bind("keyup"+this.eventNamespace,function(){e(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(t){t.keyCode===e.ui.keyCode.SPACE&&e(this).click()})),this._setOption("disabled",u.disabled),this._resetButton()},_determineButtonType:function(){var e,t,n;this.element.is("[type=checkbox]")?this.type="checkbox":this.element.is("[type=radio]")?this.type="radio":this.element.is("input")?this.type="input":this.type="button",this.type==="checkbox"||this.type==="radio"?(e=this.element.parents().last(),t="label[for='"+this.element.attr("id")+"']",this.buttonElement=e.find(t),this.buttonElement.length||(e=e.length?e.siblings():this.element.siblings(),this.buttonElement=e.filter(t),this.buttonElement.length||(this.buttonElement=e.find(t))),this.element.addClass("ui-helper-hidden-accessible"),n=this.element.is(":checked"),n&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",n)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(o+" "+u+" "+a).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(e,t){this._super(e,t);if(e==="disabled"){t?this.element.prop("disabled",!0):this.element.prop("disabled",!1);return}this._resetButton()},refresh:function(){var t=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");t!==this.options.disabled&&this._setOption("disabled",t),this.type==="radio"?l(this.element[0]).each(function(){e(this).is(":checked")?e(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):e(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):this.type==="checkbox"&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if(this.type==="input"){this.options.label&&this.element.val(this.options.label);return}var t=this.buttonElement.removeClass(a),n=e("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(t.empty()).text(),r=this.options.icons,i=r.primary&&r.secondary,s=[];r.primary||r.secondary?(this.options.text&&s.push("ui-button-text-icon"+(i?"s":r.primary?"-primary":"-secondary")),r.primary&&t.prepend("<span class='ui-button-icon-primary ui-icon "+r.primary+"'></span>"),r.secondary&&t.append("<span class='ui-button-icon-secondary ui-icon "+r.secondary+"'></span>"),this.options.text||(s.push(i?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||t.attr("title",e.trim(n)))):s.push("ui-button-text-only"),t.addClass(s.join(" "))}}),e.widget("ui.buttonset",{version:"1.9.2",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(e,t){e==="disabled"&&this.buttons.button("option",e,t),this._super(e,t)},refresh:function(){var t=this.element.css("direction")==="rtl";this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(t?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(t?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}})})(jQuery);;
/*! jQuery UI - v1.9.2 - 2013-02-15
* http://jqueryui.com
* Includes: jquery.ui.datepicker.js
* Copyright 2013 jQuery Foundation and other contributors; Licensed MIT */
(function($,undefined){function Datepicker(){this.debug=!1,this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},$.extend(this._defaults,this.regional[""]),this.dpDiv=bindHover($('<div id="'+this._mainDivId+'" class="ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>'))}function bindHover(e){var t="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return e.delegate(t,"mouseout",function(){$(this).removeClass("ui-state-hover"),this.className.indexOf("ui-datepicker-prev")!=-1&&$(this).removeClass("ui-datepicker-prev-hover"),this.className.indexOf("ui-datepicker-next")!=-1&&$(this).removeClass("ui-datepicker-next-hover")}).delegate(t,"mouseover",function(){$.datepicker._isDisabledDatepicker(instActive.inline?e.parent()[0]:instActive.input[0])||($(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),$(this).addClass("ui-state-hover"),this.className.indexOf("ui-datepicker-prev")!=-1&&$(this).addClass("ui-datepicker-prev-hover"),this.className.indexOf("ui-datepicker-next")!=-1&&$(this).addClass("ui-datepicker-next-hover"))})}function extendRemove(e,t){$.extend(e,t);for(var n in t)if(t[n]==null||t[n]==undefined)e[n]=t[n];return e}$.extend($.ui,{datepicker:{version:"1.9.2"}});var PROP_NAME="datepicker",dpuuid=(new Date).getTime(),instActive;$.extend(Datepicker.prototype,{markerClassName:"hasDatepicker",maxRows:4,log:function(){this.debug&&console.log.apply("",arguments)},_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(e){return extendRemove(this._defaults,e||{}),this},_attachDatepicker:function(target,settings){var inlineSettings=null;for(var attrName in this._defaults){var attrValue=target.getAttribute("date:"+attrName);if(attrValue){inlineSettings=inlineSettings||{};try{inlineSettings[attrName]=eval(attrValue)}catch(err){inlineSettings[attrName]=attrValue}}}var nodeName=target.nodeName.toLowerCase(),inline=nodeName=="div"||nodeName=="span";target.id||(this.uuid+=1,target.id="dp"+this.uuid);var inst=this._newInst($(target),inline);inst.settings=$.extend({},settings||{},inlineSettings||{}),nodeName=="input"?this._connectDatepicker(target,inst):inline&&this._inlineDatepicker(target,inst)},_newInst:function(e,t){var n=e[0].id.replace(/([^A-Za-z0-9_-])/g,"\\\\$1");return{id:n,input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:t,dpDiv:t?bindHover($('<div class="'+this._inlineClass+' ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>')):this.dpDiv}},_connectDatepicker:function(e,t){var n=$(e);t.append=$([]),t.trigger=$([]);if(n.hasClass(this.markerClassName))return;this._attachments(n,t),n.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp).bind("setData.datepicker",function(e,n,r){t.settings[n]=r}).bind("getData.datepicker",function(e,n){return this._get(t,n)}),this._autoSize(t),$.data(e,PROP_NAME,t),t.settings.disabled&&this._disableDatepicker(e)},_attachments:function(e,t){var n=this._get(t,"appendText"),r=this._get(t,"isRTL");t.append&&t.append.remove(),n&&(t.append=$('<span class="'+this._appendClass+'">'+n+"</span>"),e[r?"before":"after"](t.append)),e.unbind("focus",this._showDatepicker),t.trigger&&t.trigger.remove();var i=this._get(t,"showOn");(i=="focus"||i=="both")&&e.focus(this._showDatepicker);if(i=="button"||i=="both"){var s=this._get(t,"buttonText"),o=this._get(t,"buttonImage");t.trigger=$(this._get(t,"buttonImageOnly")?$("<img/>").addClass(this._triggerClass).attr({src:o,alt:s,title:s}):$('<button type="button"></button>').addClass(this._triggerClass).html(o==""?s:$("<img/>").attr({src:o,alt:s,title:s}))),e[r?"before":"after"](t.trigger),t.trigger.click(function(){return $.datepicker._datepickerShowing&&$.datepicker._lastInput==e[0]?$.datepicker._hideDatepicker():$.datepicker._datepickerShowing&&$.datepicker._lastInput!=e[0]?($.datepicker._hideDatepicker(),$.datepicker._showDatepicker(e[0])):$.datepicker._showDatepicker(e[0]),!1})}},_autoSize:function(e){if(this._get(e,"autoSize")&&!e.inline){var t=new Date(2009,11,20),n=this._get(e,"dateFormat");if(n.match(/[DM]/)){var r=function(e){var t=0,n=0;for(var r=0;r<e.length;r++)e[r].length>t&&(t=e[r].length,n=r);return n};t.setMonth(r(this._get(e,n.match(/MM/)?"monthNames":"monthNamesShort"))),t.setDate(r(this._get(e,n.match(/DD/)?"dayNames":"dayNamesShort"))+20-t.getDay())}e.input.attr("size",this._formatDate(e,t).length)}},_inlineDatepicker:function(e,t){var n=$(e);if(n.hasClass(this.markerClassName))return;n.addClass(this.markerClassName).append(t.dpDiv).bind("setData.datepicker",function(e,n,r){t.settings[n]=r}).bind("getData.datepicker",function(e,n){return this._get(t,n)}),$.data(e,PROP_NAME,t),this._setDate(t,this._getDefaultDate(t),!0),this._updateDatepicker(t),this._updateAlternate(t),t.settings.disabled&&this._disableDatepicker(e),t.dpDiv.css("display","block")},_dialogDatepicker:function(e,t,n,r,i){var s=this._dialogInst;if(!s){this.uuid+=1;var o="dp"+this.uuid;this._dialogInput=$('<input type="text" id="'+o+'" style="position: absolute; top: -100px; width: 0px;"/>'),this._dialogInput.keydown(this._doKeyDown),$("body").append(this._dialogInput),s=this._dialogInst=this._newInst(this._dialogInput,!1),s.settings={},$.data(this._dialogInput[0],PROP_NAME,s)}extendRemove(s.settings,r||{}),t=t&&t.constructor==Date?this._formatDate(s,t):t,this._dialogInput.val(t),this._pos=i?i.length?i:[i.pageX,i.pageY]:null;if(!this._pos){var u=document.documentElement.clientWidth,a=document.documentElement.clientHeight,f=document.documentElement.scrollLeft||document.body.scrollLeft,l=document.documentElement.scrollTop||document.body.scrollTop;this._pos=[u/2-100+f,a/2-150+l]}return this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),s.settings.onSelect=n,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),$.blockUI&&$.blockUI(this.dpDiv),$.data(this._dialogInput[0],PROP_NAME,s),this},_destroyDatepicker:function(e){var t=$(e),n=$.data(e,PROP_NAME);if(!t.hasClass(this.markerClassName))return;var r=e.nodeName.toLowerCase();$.removeData(e,PROP_NAME),r=="input"?(n.append.remove(),n.trigger.remove(),t.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):(r=="div"||r=="span")&&t.removeClass(this.markerClassName).empty()},_enableDatepicker:function(e){var t=$(e),n=$.data(e,PROP_NAME);if(!t.hasClass(this.markerClassName))return;var r=e.nodeName.toLowerCase();if(r=="input")e.disabled=!1,n.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""});else if(r=="div"||r=="span"){var i=t.children("."+this._inlineClass);i.children().removeClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)}this._disabledInputs=$.map(this._disabledInputs,function(t){return t==e?null:t})},_disableDatepicker:function(e){var t=$(e),n=$.data(e,PROP_NAME);if(!t.hasClass(this.markerClassName))return;var r=e.nodeName.toLowerCase();if(r=="input")e.disabled=!0,n.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"});else if(r=="div"||r=="span"){var i=t.children("."+this._inlineClass);i.children().addClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)}this._disabledInputs=$.map(this._disabledInputs,function(t){return t==e?null:t}),this._disabledInputs[this._disabledInputs.length]=e},_isDisabledDatepicker:function(e){if(!e)return!1;for(var t=0;t<this._disabledInputs.length;t++)if(this._disabledInputs[t]==e)return!0;return!1},_getInst:function(e){try{return $.data(e,PROP_NAME)}catch(t){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(e,t,n){var r=this._getInst(e);if(arguments.length==2&&typeof t=="string")return t=="defaults"?$.extend({},$.datepicker._defaults):r?t=="all"?$.extend({},r.settings):this._get(r,t):null;var i=t||{};typeof t=="string"&&(i={},i[t]=n);if(r){this._curInst==r&&this._hideDatepicker();var s=this._getDateDatepicker(e,!0),o=this._getMinMaxDate(r,"min"),u=this._getMinMaxDate(r,"max");extendRemove(r.settings,i),o!==null&&i.dateFormat!==undefined&&i.minDate===undefined&&(r.settings.minDate=this._formatDate(r,o)),u!==null&&i.dateFormat!==undefined&&i.maxDate===undefined&&(r.settings.maxDate=this._formatDate(r,u)),this._attachments($(e),r),this._autoSize(r),this._setDate(r,s),this._updateAlternate(r),this._updateDatepicker(r)}},_changeDatepicker:function(e,t,n){this._optionDatepicker(e,t,n)},_refreshDatepicker:function(e){var t=this._getInst(e);t&&this._updateDatepicker(t)},_setDateDatepicker:function(e,t){var n=this._getInst(e);n&&(this._setDate(n,t),this._updateDatepicker(n),this._updateAlternate(n))},_getDateDatepicker:function(e,t){var n=this._getInst(e);return n&&!n.inline&&this._setDateFromField(n,t),n?this._getDate(n):null},_doKeyDown:function(e){var t=$.datepicker._getInst(e.target),n=!0,r=t.dpDiv.is(".ui-datepicker-rtl");t._keyEvent=!0;if($.datepicker._datepickerShowing)switch(e.keyCode){case 9:$.datepicker._hideDatepicker(),n=!1;break;case 13:var i=$("td."+$.datepicker._dayOverClass+":not(."+$.datepicker._currentClass+")",t.dpDiv);i[0]&&$.datepicker._selectDay(e.target,t.selectedMonth,t.selectedYear,i[0]);var s=$.datepicker._get(t,"onSelect");if(s){var o=$.datepicker._formatDate(t);s.apply(t.input?t.input[0]:null,[o,t])}else $.datepicker._hideDatepicker();return!1;case 27:$.datepicker._hideDatepicker();break;case 33:$.datepicker._adjustDate(e.target,e.ctrlKey?-$.datepicker._get(t,"stepBigMonths"):-$.datepicker._get(t,"stepMonths"),"M");break;case 34:$.datepicker._adjustDate(e.target,e.ctrlKey?+$.datepicker._get(t,"stepBigMonths"):+$.datepicker._get(t,"stepMonths"),"M");break;case 35:(e.ctrlKey||e.metaKey)&&$.datepicker._clearDate(e.target),n=e.ctrlKey||e.metaKey;break;case 36:(e.ctrlKey||e.metaKey)&&$.datepicker._gotoToday(e.target),n=e.ctrlKey||e.metaKey;break;case 37:(e.ctrlKey||e.metaKey)&&$.datepicker._adjustDate(e.target,r?1:-1,"D"),n=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&$.datepicker._adjustDate(e.target,e.ctrlKey?-$.datepicker._get(t,"stepBigMonths"):-$.datepicker._get(t,"stepMonths"),"M");break;case 38:(e.ctrlKey||e.metaKey)&&$.datepicker._adjustDate(e.target,-7,"D"),n=e.ctrlKey||e.metaKey;break;case 39:(e.ctrlKey||e.metaKey)&&$.datepicker._adjustDate(e.target,r?-1:1,"D"),n=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&$.datepicker._adjustDate(e.target,e.ctrlKey?+$.datepicker._get(t,"stepBigMonths"):+$.datepicker._get(t,"stepMonths"),"M");break;case 40:(e.ctrlKey||e.metaKey)&&$.datepicker._adjustDate(e.target,7,"D"),n=e.ctrlKey||e.metaKey;break;default:n=!1}else e.keyCode==36&&e.ctrlKey?$.datepicker._showDatepicker(this):n=!1;n&&(e.preventDefault(),e.stopPropagation())},_doKeyPress:function(e){var t=$.datepicker._getInst(e.target);if($.datepicker._get(t,"constrainInput")){var n=$.datepicker._possibleChars($.datepicker._get(t,"dateFormat")),r=String.fromCharCode(e.charCode==undefined?e.keyCode:e.charCode);return e.ctrlKey||e.metaKey||r<" "||!n||n.indexOf(r)>-1}},_doKeyUp:function(e){var t=$.datepicker._getInst(e.target);if(t.input.val()!=t.lastVal)try{var n=$.datepicker.parseDate($.datepicker._get(t,"dateFormat"),t.input?t.input.val():null,$.datepicker._getFormatConfig(t));n&&($.datepicker._setDateFromField(t),$.datepicker._updateAlternate(t),$.datepicker._updateDatepicker(t))}catch(r){$.datepicker.log(r)}return!0},_showDatepicker:function(e){e=e.target||e,e.nodeName.toLowerCase()!="input"&&(e=$("input",e.parentNode)[0]);if($.datepicker._isDisabledDatepicker(e)||$.datepicker._lastInput==e)return;var t=$.datepicker._getInst(e);$.datepicker._curInst&&$.datepicker._curInst!=t&&($.datepicker._curInst.dpDiv.stop(!0,!0),t&&$.datepicker._datepickerShowing&&$.datepicker._hideDatepicker($.datepicker._curInst.input[0]));var n=$.datepicker._get(t,"beforeShow"),r=n?n.apply(e,[e,t]):{};if(r===!1)return;extendRemove(t.settings,r),t.lastVal=null,$.datepicker._lastInput=e,$.datepicker._setDateFromField(t),$.datepicker._inDialog&&(e.value=""),$.datepicker._pos||($.datepicker._pos=$.datepicker._findPos(e),$.datepicker._pos[1]+=e.offsetHeight);var i=!1;$(e).parents().each(function(){return i|=$(this).css("position")=="fixed",!i});var s={left:$.datepicker._pos[0],top:$.datepicker._pos[1]};$.datepicker._pos=null,t.dpDiv.empty(),t.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),$.datepicker._updateDatepicker(t),s=$.datepicker._checkOffset(t,s,i),t.dpDiv.css({position:$.datepicker._inDialog&&$.blockUI?"static":i?"fixed":"absolute",display:"none",left:s.left+"px",top:s.top+"px"});if(!t.inline){var o=$.datepicker._get(t,"showAnim"),u=$.datepicker._get(t,"duration"),a=function(){var e=t.dpDiv.find("iframe.ui-datepicker-cover");if(!!e.length){var n=$.datepicker._getBorders(t.dpDiv);e.css({left:-n[0],top:-n[1],width:t.dpDiv.outerWidth(),height:t.dpDiv.outerHeight()})}};t.dpDiv.zIndex($(e).zIndex()+1),$.datepicker._datepickerShowing=!0,$.effects&&($.effects.effect[o]||$.effects[o])?t.dpDiv.show(o,$.datepicker._get(t,"showOptions"),u,a):t.dpDiv[o||"show"](o?u:null,a),(!o||!u)&&a(),t.input.is(":visible")&&!t.input.is(":disabled")&&t.input.focus(),$.datepicker._curInst=t}},_updateDatepicker:function(e){this.maxRows=4;var t=$.datepicker._getBorders(e.dpDiv);instActive=e,e.dpDiv.empty().append(this._generateHTML(e)),this._attachHandlers(e);var n=e.dpDiv.find("iframe.ui-datepicker-cover");!n.length||n.css({left:-t[0],top:-t[1],width:e.dpDiv.outerWidth(),height:e.dpDiv.outerHeight()}),e.dpDiv.find("."+this._dayOverClass+" a").mouseover();var r=this._getNumberOfMonths(e),i=r[1],s=17;e.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),i>1&&e.dpDiv.addClass("ui-datepicker-multi-"+i).css("width",s*i+"em"),e.dpDiv[(r[0]!=1||r[1]!=1?"add":"remove")+"Class"]("ui-datepicker-multi"),e.dpDiv[(this._get(e,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),e==$.datepicker._curInst&&$.datepicker._datepickerShowing&&e.input&&e.input.is(":visible")&&!e.input.is(":disabled")&&e.input[0]!=document.activeElement&&e.input.focus();if(e.yearshtml){var o=e.yearshtml;setTimeout(function(){o===e.yearshtml&&e.yearshtml&&e.dpDiv.find("select.ui-datepicker-year:first").replaceWith(e.yearshtml),o=e.yearshtml=null},0)}},_getBorders:function(e){var t=function(e){return{thin:1,medium:2,thick:3}[e]||e};return[parseFloat(t(e.css("border-left-width"))),parseFloat(t(e.css("border-top-width")))]},_checkOffset:function(e,t,n){var r=e.dpDiv.outerWidth(),i=e.dpDiv.outerHeight(),s=e.input?e.input.outerWidth():0,o=e.input?e.input.outerHeight():0,u=document.documentElement.clientWidth+(n?0:$(document).scrollLeft()),a=document.documentElement.clientHeight+(n?0:$(document).scrollTop());return t.left-=this._get(e,"isRTL")?r-s:0,t.left-=n&&t.left==e.input.offset().left?$(document).scrollLeft():0,t.top-=n&&t.top==e.input.offset().top+o?$(document).scrollTop():0,t.left-=Math.min(t.left,t.left+r>u&&u>r?Math.abs(t.left+r-u):0),t.top-=Math.min(t.top,t.top+i>a&&a>i?Math.abs(i+o):0),t},_findPos:function(e){var t=this._getInst(e),n=this._get(t,"isRTL");while(e&&(e.type=="hidden"||e.nodeType!=1||$.expr.filters.hidden(e)))e=e[n?"previousSibling":"nextSibling"];var r=$(e).offset();return[r.left,r.top]},_hideDatepicker:function(e){var t=this._curInst;if(!t||e&&t!=$.data(e,PROP_NAME))return;if(this._datepickerShowing){var n=this._get(t,"showAnim"),r=this._get(t,"duration"),i=function(){$.datepicker._tidyDialog(t)};$.effects&&($.effects.effect[n]||$.effects[n])?t.dpDiv.hide(n,$.datepicker._get(t,"showOptions"),r,i):t.dpDiv[n=="slideDown"?"slideUp":n=="fadeIn"?"fadeOut":"hide"](n?r:null,i),n||i(),this._datepickerShowing=!1;var s=this._get(t,"onClose");s&&s.apply(t.input?t.input[0]:null,[t.input?t.input.val():"",t]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),$.blockUI&&($.unblockUI(),$("body").append(this.dpDiv))),this._inDialog=!1}},_tidyDialog:function(e){e.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(e){if(!$.datepicker._curInst)return;var t=$(e.target),n=$.datepicker._getInst(t[0]);(t[0].id!=$.datepicker._mainDivId&&t.parents("#"+$.datepicker._mainDivId).length==0&&!t.hasClass($.datepicker.markerClassName)&&!t.closest("."+$.datepicker._triggerClass).length&&$.datepicker._datepickerShowing&&(!$.datepicker._inDialog||!$.blockUI)||t.hasClass($.datepicker.markerClassName)&&$.datepicker._curInst!=n)&&$.datepicker._hideDatepicker()},_adjustDate:function(e,t,n){var r=$(e),i=this._getInst(r[0]);if(this._isDisabledDatepicker(r[0]))return;this._adjustInstDate(i,t+(n=="M"?this._get(i,"showCurrentAtPos"):0),n),this._updateDatepicker(i)},_gotoToday:function(e){var t=$(e),n=this._getInst(t[0]);if(this._get(n,"gotoCurrent")&&n.currentDay)n.selectedDay=n.currentDay,n.drawMonth=n.selectedMonth=n.currentMonth,n.drawYear=n.selectedYear=n.currentYear;else{var r=new Date;n.selectedDay=r.getDate(),n.drawMonth=n.selectedMonth=r.getMonth(),n.drawYear=n.selectedYear=r.getFullYear()}this._notifyChange(n),this._adjustDate(t)},_selectMonthYear:function(e,t,n){var r=$(e),i=this._getInst(r[0]);i["selected"+(n=="M"?"Month":"Year")]=i["draw"+(n=="M"?"Month":"Year")]=parseInt(t.options[t.selectedIndex].value,10),this._notifyChange(i),this._adjustDate(r)},_selectDay:function(e,t,n,r){var i=$(e);if($(r).hasClass(this._unselectableClass)||this._isDisabledDatepicker(i[0]))return;var s=this._getInst(i[0]);s.selectedDay=s.currentDay=$("a",r).html(),s.selectedMonth=s.currentMonth=t,s.selectedYear=s.currentYear=n,this._selectDate(e,this._formatDate(s,s.currentDay,s.currentMonth,s.currentYear))},_clearDate:function(e){var t=$(e),n=this._getInst(t[0]);this._selectDate(t,"")},_selectDate:function(e,t){var n=$(e),r=this._getInst(n[0]);t=t!=null?t:this._formatDate(r),r.input&&r.input.val(t),this._updateAlternate(r);var i=this._get(r,"onSelect");i?i.apply(r.input?r.input[0]:null,[t,r]):r.input&&r.input.trigger("change"),r.inline?this._updateDatepicker(r):(this._hideDatepicker(),this._lastInput=r.input[0],typeof r.input[0]!="object"&&r.input.focus(),this._lastInput=null)},_updateAlternate:function(e){var t=this._get(e,"altField");if(t){var n=this._get(e,"altFormat")||this._get(e,"dateFormat"),r=this._getDate(e),i=this.formatDate(n,r,this._getFormatConfig(e));$(t).each(function(){$(this).val(i)})}},noWeekends:function(e){var t=e.getDay();return[t>0&&t<6,""]},iso8601Week:function(e){var t=new Date(e.getTime());t.setDate(t.getDate()+4-(t.getDay()||7));var n=t.getTime();return t.setMonth(0),t.setDate(1),Math.floor(Math.round((n-t)/864e5)/7)+1},parseDate:function(e,t,n){if(e==null||t==null)throw"Invalid arguments";t=typeof t=="object"?t.toString():t+"";if(t=="")return null;var r=(n?n.shortYearCutoff:null)||this._defaults.shortYearCutoff;r=typeof r!="string"?r:(new Date).getFullYear()%100+parseInt(r,10);var i=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,s=(n?n.dayNames:null)||this._defaults.dayNames,o=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,u=(n?n.monthNames:null)||this._defaults.monthNames,a=-1,f=-1,l=-1,c=-1,h=!1,p=function(t){var n=y+1<e.length&&e.charAt(y+1)==t;return n&&y++,n},d=function(e){var n=p(e),r=e=="@"?14:e=="!"?20:e=="y"&&n?4:e=="o"?3:2,i=new RegExp("^\\d{1,"+r+"}"),s=t.substring(g).match(i);if(!s)throw"Missing number at position "+g;return g+=s[0].length,parseInt(s[0],10)},v=function(e,n,r){var i=$.map(p(e)?r:n,function(e,t){return[[t,e]]}).sort(function(e,t){return-(e[1].length-t[1].length)}),s=-1;$.each(i,function(e,n){var r=n[1];if(t.substr(g,r.length).toLowerCase()==r.toLowerCase())return s=n[0],g+=r.length,!1});if(s!=-1)return s+1;throw"Unknown name at position "+g},m=function(){if(t.charAt(g)!=e.charAt(y))throw"Unexpected literal at position "+g;g++},g=0;for(var y=0;y<e.length;y++)if(h)e.charAt(y)=="'"&&!p("'")?h=!1:m();else switch(e.charAt(y)){case"d":l=d("d");break;case"D":v("D",i,s);break;case"o":c=d("o");break;case"m":f=d("m");break;case"M":f=v("M",o,u);break;case"y":a=d("y");break;case"@":var b=new Date(d("@"));a=b.getFullYear(),f=b.getMonth()+1,l=b.getDate();break;case"!":var b=new Date((d("!")-this._ticksTo1970)/1e4);a=b.getFullYear(),f=b.getMonth()+1,l=b.getDate();break;case"'":p("'")?m():h=!0;break;default:m()}if(g<t.length){var w=t.substr(g);if(!/^\s+/.test(w))throw"Extra/unparsed characters found in date: "+w}a==-1?a=(new Date).getFullYear():a<100&&(a+=(new Date).getFullYear()-(new Date).getFullYear()%100+(a<=r?0:-100));if(c>-1){f=1,l=c;do{var E=this._getDaysInMonth(a,f-1);if(l<=E)break;f++,l-=E}while(!0)}var b=this._daylightSavingAdjust(new Date(a,f-1,l));if(b.getFullYear()!=a||b.getMonth()+1!=f||b.getDate()!=l)throw"Invalid date";return b},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*24*60*60*1e7,formatDate:function(e,t,n){if(!t)return"";var r=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,i=(n?n.dayNames:null)||this._defaults.dayNames,s=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,o=(n?n.monthNames:null)||this._defaults.monthNames,u=function(t){var n=h+1<e.length&&e.charAt(h+1)==t;return n&&h++,n},a=function(e,t,n){var r=""+t;if(u(e))while(r.length<n)r="0"+r;return r},f=function(e,t,n,r){return u(e)?r[t]:n[t]},l="",c=!1;if(t)for(var h=0;h<e.length;h++)if(c)e.charAt(h)=="'"&&!u("'")?c=!1:l+=e.charAt(h);else switch(e.charAt(h)){case"d":l+=a("d",t.getDate(),2);break;case"D":l+=f("D",t.getDay(),r,i);break;case"o":l+=a("o",Math.round(((new Date(t.getFullYear(),t.getMonth(),t.getDate())).getTime()-(new Date(t.getFullYear(),0,0)).getTime())/864e5),3);break;case"m":l+=a("m",t.getMonth()+1,2);break;case"M":l+=f("M",t.getMonth(),s,o);break;case"y":l+=u("y")?t.getFullYear():(t.getYear()%100<10?"0":"")+t.getYear()%100;break;case"@":l+=t.getTime();break;case"!":l+=t.getTime()*1e4+this._ticksTo1970;break;case"'":u("'")?l+="'":c=!0;break;default:l+=e.charAt(h)}return l},_possibleChars:function(e){var t="",n=!1,r=function(t){var n=i+1<e.length&&e.charAt(i+1)==t;return n&&i++,n};for(var i=0;i<e.length;i++)if(n)e.charAt(i)=="'"&&!r("'")?n=!1:t+=e.charAt(i);else switch(e.charAt(i)){case"d":case"m":case"y":case"@":t+="0123456789";break;case"D":case"M":return null;case"'":r("'")?t+="'":n=!0;break;default:t+=e.charAt(i)}return t},_get:function(e,t){return e.settings[t]!==undefined?e.settings[t]:this._defaults[t]},_setDateFromField:function(e,t){if(e.input.val()==e.lastVal)return;var n=this._get(e,"dateFormat"),r=e.lastVal=e.input?e.input.val():null,i,s;i=s=this._getDefaultDate(e);var o=this._getFormatConfig(e);try{i=this.parseDate(n,r,o)||s}catch(u){this.log(u),r=t?"":r}e.selectedDay=i.getDate(),e.drawMonth=e.selectedMonth=i.getMonth(),e.drawYear=e.selectedYear=i.getFullYear(),e.currentDay=r?i.getDate():0,e.currentMonth=r?i.getMonth():0,e.currentYear=r?i.getFullYear():0,this._adjustInstDate(e)},_getDefaultDate:function(e){return this._restrictMinMax(e,this._determineDate(e,this._get(e,"defaultDate"),new Date))},_determineDate:function(e,t,n){var r=function(e){var t=new Date;return t.setDate(t.getDate()+e),t},i=function(t){try{return $.datepicker.parseDate($.datepicker._get(e,"dateFormat"),t,$.datepicker._getFormatConfig(e))}catch(n){}var r=(t.toLowerCase().match(/^c/)?$.datepicker._getDate(e):null)||new Date,i=r.getFullYear(),s=r.getMonth(),o=r.getDate(),u=/([+-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,a=u.exec(t);while(a){switch(a[2]||"d"){case"d":case"D":o+=parseInt(a[1],10);break;case"w":case"W":o+=parseInt(a[1],10)*7;break;case"m":case"M":s+=parseInt(a[1],10),o=Math.min(o,$.datepicker._getDaysInMonth(i,s));break;case"y":case"Y":i+=parseInt(a[1],10),o=Math.min(o,$.datepicker._getDaysInMonth(i,s))}a=u.exec(t)}return new Date(i,s,o)},s=t==null||t===""?n:typeof t=="string"?i(t):typeof t=="number"?isNaN(t)?n:r(t):new Date(t.getTime());return s=s&&s.toString()=="Invalid Date"?n:s,s&&(s.setHours(0),s.setMinutes(0),s.setSeconds(0),s.setMilliseconds(0)),this._daylightSavingAdjust(s)},_daylightSavingAdjust:function(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null},_setDate:function(e,t,n){var r=!t,i=e.selectedMonth,s=e.selectedYear,o=this._restrictMinMax(e,this._determineDate(e,t,new Date));e.selectedDay=e.currentDay=o.getDate(),e.drawMonth=e.selectedMonth=e.currentMonth=o.getMonth(),e.drawYear=e.selectedYear=e.currentYear=o.getFullYear(),(i!=e.selectedMonth||s!=e.selectedYear)&&!n&&this._notifyChange(e),this._adjustInstDate(e),e.input&&e.input.val(r?"":this._formatDate(e))},_getDate:function(e){var t=!e.currentYear||e.input&&e.input.val()==""?null:this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return t},_attachHandlers:function(e){var t=this._get(e,"stepMonths"),n="#"+e.id.replace(/\\\\/g,"\\");e.dpDiv.find("[data-handler]").map(function(){var e={prev:function(){window["DP_jQuery_"+dpuuid].datepicker._adjustDate(n,-t,"M")},next:function(){window["DP_jQuery_"+dpuuid].datepicker._adjustDate(n,+t,"M")},hide:function(){window["DP_jQuery_"+dpuuid].datepicker._hideDatepicker()},today:function(){window["DP_jQuery_"+dpuuid].datepicker._gotoToday(n)},selectDay:function(){return window["DP_jQuery_"+dpuuid].datepicker._selectDay(n,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return window["DP_jQuery_"+dpuuid].datepicker._selectMonthYear(n,this,"M"),!1},selectYear:function(){return window["DP_jQuery_"+dpuuid].datepicker._selectMonthYear(n,this,"Y"),!1}};$(this).bind(this.getAttribute("data-event"),e[this.getAttribute("data-handler")])})},_generateHTML:function(e){var t=new Date;t=this._daylightSavingAdjust(new Date(t.getFullYear(),t.getMonth(),t.getDate()));var n=this._get(e,"isRTL"),r=this._get(e,"showButtonPanel"),i=this._get(e,"hideIfNoPrevNext"),s=this._get(e,"navigationAsDateFormat"),o=this._getNumberOfMonths(e),u=this._get(e,"showCurrentAtPos"),a=this._get(e,"stepMonths"),f=o[0]!=1||o[1]!=1,l=this._daylightSavingAdjust(e.currentDay?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(9999,9,9)),c=this._getMinMaxDate(e,"min"),h=this._getMinMaxDate(e,"max"),p=e.drawMonth-u,d=e.drawYear;p<0&&(p+=12,d--);if(h){var v=this._daylightSavingAdjust(new Date(h.getFullYear(),h.getMonth()-o[0]*o[1]+1,h.getDate()));v=c&&v<c?c:v;while(this._daylightSavingAdjust(new Date(d,p,1))>v)p--,p<0&&(p=11,d--)}e.drawMonth=p,e.drawYear=d;var m=this._get(e,"prevText");m=s?this.formatDate(m,this._daylightSavingAdjust(new Date(d,p-a,1)),this._getFormatConfig(e)):m;var g=this._canAdjustMonth(e,-1,d,p)?'<a class="ui-datepicker-prev ui-corner-all" data-handler="prev" data-event="click" title="'+m+'"><span class="ui-icon ui-icon-circle-triangle-'+(n?"e":"w")+'">'+m+"</span></a>":i?"":'<a class="ui-datepicker-prev ui-corner-all ui-state-disabled" title="'+m+'"><span class="ui-icon ui-icon-circle-triangle-'+(n?"e":"w")+'">'+m+"</span></a>",y=this._get(e,"nextText");y=s?this.formatDate(y,this._daylightSavingAdjust(new Date(d,p+a,1)),this._getFormatConfig(e)):y;var b=this._canAdjustMonth(e,1,d,p)?'<a class="ui-datepicker-next ui-corner-all" data-handler="next" data-event="click" title="'+y+'"><span class="ui-icon ui-icon-circle-triangle-'+(n?"w":"e")+'">'+y+"</span></a>":i?"":'<a class="ui-datepicker-next ui-corner-all ui-state-disabled" title="'+y+'"><span class="ui-icon ui-icon-circle-triangle-'+(n?"w":"e")+'">'+y+"</span></a>",w=this._get(e,"currentText"),E=this._get(e,"gotoCurrent")&&e.currentDay?l:t;w=s?this.formatDate(w,E,this._getFormatConfig(e)):w;var S=e.inline?"":'<button type="button" class="ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all" data-handler="hide" data-event="click">'+this._get(e,"closeText")+"</button>",x=r?'<div class="ui-datepicker-buttonpane ui-widget-content">'+(n?S:"")+(this._isInRange(e,E)?'<button type="button" class="ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all" data-handler="today" data-event="click">'+w+"</button>":"")+(n?"":S)+"</div>":"",T=parseInt(this._get(e,"firstDay"),10);T=isNaN(T)?0:T;var N=this._get(e,"showWeek"),C=this._get(e,"dayNames"),k=this._get(e,"dayNamesShort"),L=this._get(e,"dayNamesMin"),A=this._get(e,"monthNames"),O=this._get(e,"monthNamesShort"),M=this._get(e,"beforeShowDay"),_=this._get(e,"showOtherMonths"),D=this._get(e,"selectOtherMonths"),P=this._get(e,"calculateWeek")||this.iso8601Week,H=this._getDefaultDate(e),B="";for(var j=0;j<o[0];j++){var F="";this.maxRows=4;for(var I=0;I<o[1];I++){var q=this._daylightSavingAdjust(new Date(d,p,e.selectedDay)),R=" ui-corner-all",U="";if(f){U+='<div class="ui-datepicker-group';if(o[1]>1)switch(I){case 0:U+=" ui-datepicker-group-first",R=" ui-corner-"+(n?"right":"left");break;case o[1]-1:U+=" ui-datepicker-group-last",R=" ui-corner-"+(n?"left":"right");break;default:U+=" ui-datepicker-group-middle",R=""}U+='">'}U+='<div class="ui-datepicker-header ui-widget-header ui-helper-clearfix'+R+'">'+(/all|left/.test(R)&&j==0?n?b:g:"")+(/all|right/.test(R)&&j==0?n?g:b:"")+this._generateMonthYearHeader(e,p,d,c,h,j>0||I>0,A,O)+'</div><table class="ui-datepicker-calendar"><thead>'+"<tr>";var z=N?'<th class="ui-datepicker-week-col">'+this._get(e,"weekHeader")+"</th>":"";for(var W=0;W<7;W++){var X=(W+T)%7;z+="<th"+((W+T+6)%7>=5?' class="ui-datepicker-week-end"':"")+">"+'<span title="'+C[X]+'">'+L[X]+"</span></th>"}U+=z+"</tr></thead><tbody>";var V=this._getDaysInMonth(d,p);d==e.selectedYear&&p==e.selectedMonth&&(e.selectedDay=Math.min(e.selectedDay,V));var J=(this._getFirstDayOfMonth(d,p)-T+7)%7,K=Math.ceil((J+V)/7),Q=f?this.maxRows>K?this.maxRows:K:K;this.maxRows=Q;var G=this._daylightSavingAdjust(new Date(d,p,1-J));for(var Y=0;Y<Q;Y++){U+="<tr>";var Z=N?'<td class="ui-datepicker-week-col">'+this._get(e,"calculateWeek")(G)+"</td>":"";for(var W=0;W<7;W++){var et=M?M.apply(e.input?e.input[0]:null,[G]):[!0,""],tt=G.getMonth()!=p,nt=tt&&!D||!et[0]||c&&G<c||h&&G>h;Z+='<td class="'+((W+T+6)%7>=5?" ui-datepicker-week-end":"")+(tt?" ui-datepicker-other-month":"")+(G.getTime()==q.getTime()&&p==e.selectedMonth&&e._keyEvent||H.getTime()==G.getTime()&&H.getTime()==q.getTime()?" "+this._dayOverClass:"")+(nt?" "+this._unselectableClass+" ui-state-disabled":"")+(tt&&!_?"":" "+et[1]+(G.getTime()==l.getTime()?" "+this._currentClass:"")+(G.getTime()==t.getTime()?" ui-datepicker-today":""))+'"'+((!tt||_)&&et[2]?' title="'+et[2]+'"':"")+(nt?"":' data-handler="selectDay" data-event="click" data-month="'+G.getMonth()+'" data-year="'+G.getFullYear()+'"')+">"+(tt&&!_?"&#xa0;":nt?'<span class="ui-state-default">'+G.getDate()+"</span>":'<a class="ui-state-default'+(G.getTime()==t.getTime()?" ui-state-highlight":"")+(G.getTime()==l.getTime()?" ui-state-active":"")+(tt?" ui-priority-secondary":"")+'" href="#">'+G.getDate()+"</a>")+"</td>",G.setDate(G.getDate()+1),G=this._daylightSavingAdjust(G)}U+=Z+"</tr>"}p++,p>11&&(p=0,d++),U+="</tbody></table>"+(f?"</div>"+(o[0]>0&&I==o[1]-1?'<div class="ui-datepicker-row-break"></div>':""):""),F+=U}B+=F}return B+=x+($.ui.ie6&&!e.inline?'<iframe src="javascript:false;" class="ui-datepicker-cover" frameborder="0"></iframe>':""),e._keyEvent=!1,B},_generateMonthYearHeader:function(e,t,n,r,i,s,o,u){var a=this._get(e,"changeMonth"),f=this._get(e,"changeYear"),l=this._get(e,"showMonthAfterYear"),c='<div class="ui-datepicker-title">',h="";if(s||!a)h+='<span class="ui-datepicker-month">'+o[t]+"</span>";else{var p=r&&r.getFullYear()==n,d=i&&i.getFullYear()==n;h+='<select class="ui-datepicker-month" data-handler="selectMonth" data-event="change">';for(var v=0;v<12;v++)(!p||v>=r.getMonth())&&(!d||v<=i.getMonth())&&(h+='<option value="'+v+'"'+(v==t?' selected="selected"':"")+">"+u[v]+"</option>");h+="</select>"}l||(c+=h+(s||!a||!f?"&#xa0;":""));if(!e.yearshtml){e.yearshtml="";if(s||!f)c+='<span class="ui-datepicker-year">'+n+"</span>";else{var m=this._get(e,"yearRange").split(":"),g=(new Date).getFullYear(),y=function(e){var t=e.match(/c[+-].*/)?n+parseInt(e.substring(1),10):e.match(/[+-].*/)?g+parseInt(e,10):parseInt(e,10);return isNaN(t)?g:t},b=y(m[0]),w=Math.max(b,y(m[1]||""));b=r?Math.max(b,r.getFullYear()):b,w=i?Math.min(w,i.getFullYear()):w,e.yearshtml+='<select class="ui-datepicker-year" data-handler="selectYear" data-event="change">';for(;b<=w;b++)e.yearshtml+='<option value="'+b+'"'+(b==n?' selected="selected"':"")+">"+b+"</option>";e.yearshtml+="</select>",c+=e.yearshtml,e.yearshtml=null}}return c+=this._get(e,"yearSuffix"),l&&(c+=(s||!a||!f?"&#xa0;":"")+h),c+="</div>",c},_adjustInstDate:function(e,t,n){var r=e.drawYear+(n=="Y"?t:0),i=e.drawMonth+(n=="M"?t:0),s=Math.min(e.selectedDay,this._getDaysInMonth(r,i))+(n=="D"?t:0),o=this._restrictMinMax(e,this._daylightSavingAdjust(new Date(r,i,s)));e.selectedDay=o.getDate(),e.drawMonth=e.selectedMonth=o.getMonth(),e.drawYear=e.selectedYear=o.getFullYear(),(n=="M"||n=="Y")&&this._notifyChange(e)},_restrictMinMax:function(e,t){var n=this._getMinMaxDate(e,"min"),r=this._getMinMaxDate(e,"max"),i=n&&t<n?n:t;return i=r&&i>r?r:i,i},_notifyChange:function(e){var t=this._get(e,"onChangeMonthYear");t&&t.apply(e.input?e.input[0]:null,[e.selectedYear,e.selectedMonth+1,e])},_getNumberOfMonths:function(e){var t=this._get(e,"numberOfMonths");return t==null?[1,1]:typeof t=="number"?[1,t]:t},_getMinMaxDate:function(e,t){return this._determineDate(e,this._get(e,t+"Date"),null)},_getDaysInMonth:function(e,t){return 32-this._daylightSavingAdjust(new Date(e,t,32)).getDate()},_getFirstDayOfMonth:function(e,t){return(new Date(e,t,1)).getDay()},_canAdjustMonth:function(e,t,n,r){var i=this._getNumberOfMonths(e),s=this._daylightSavingAdjust(new Date(n,r+(t<0?t:i[0]*i[1]),1));return t<0&&s.setDate(this._getDaysInMonth(s.getFullYear(),s.getMonth())),this._isInRange(e,s)},_isInRange:function(e,t){var n=this._getMinMaxDate(e,"min"),r=this._getMinMaxDate(e,"max");return(!n||t.getTime()>=n.getTime())&&(!r||t.getTime()<=r.getTime())},_getFormatConfig:function(e){var t=this._get(e,"shortYearCutoff");return t=typeof t!="string"?t:(new Date).getFullYear()%100+parseInt(t,10),{shortYearCutoff:t,dayNamesShort:this._get(e,"dayNamesShort"),dayNames:this._get(e,"dayNames"),monthNamesShort:this._get(e,"monthNamesShort"),monthNames:this._get(e,"monthNames")}},_formatDate:function(e,t,n,r){t||(e.currentDay=e.selectedDay,e.currentMonth=e.selectedMonth,e.currentYear=e.selectedYear);var i=t?typeof t=="object"?t:this._daylightSavingAdjust(new Date(r,n,t)):this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return this.formatDate(this._get(e,"dateFormat"),i,this._getFormatConfig(e))}}),$.fn.datepicker=function(e){if(!this.length)return this;$.datepicker.initialized||($(document).mousedown($.datepicker._checkExternalClick).find(document.body).append($.datepicker.dpDiv),$.datepicker.initialized=!0);var t=Array.prototype.slice.call(arguments,1);return typeof e!="string"||e!="isDisabled"&&e!="getDate"&&e!="widget"?e=="option"&&arguments.length==2&&typeof arguments[1]=="string"?$.datepicker["_"+e+"Datepicker"].apply($.datepicker,[this[0]].concat(t)):this.each(function(){typeof e=="string"?$.datepicker["_"+e+"Datepicker"].apply($.datepicker,[this].concat(t)):$.datepicker._attachDatepicker(this,e)}):$.datepicker["_"+e+"Datepicker"].apply($.datepicker,[this[0]].concat(t))},$.datepicker=new Datepicker,$.datepicker.initialized=!1,$.datepicker.uuid=(new Date).getTime(),$.datepicker.version="1.9.2",window["DP_jQuery_"+dpuuid]=$})(jQuery);;
/*! jQuery UI - v1.9.2 - 2013-02-15
* http://jqueryui.com
* Includes: jquery.ui.effect.js
* Copyright 2013 jQuery Foundation and other contributors; Licensed MIT */
jQuery.effects||function(e,t){var n=e.uiBackCompat!==!1,r="ui-effects-";e.effects={effect:{}},function(t,n){function p(e,t,n){var r=a[t.type]||{};return e==null?n||!t.def?null:t.def:(e=r.floor?~~e:parseFloat(e),isNaN(e)?t.def:r.mod?(e+r.mod)%r.mod:0>e?0:r.max<e?r.max:e)}function d(e){var n=o(),r=n._rgba=[];return e=e.toLowerCase(),h(s,function(t,i){var s,o=i.re.exec(e),a=o&&i.parse(o),f=i.space||"rgba";if(a)return s=n[f](a),n[u[f].cache]=s[u[f].cache],r=n._rgba=s._rgba,!1}),r.length?(r.join()==="0,0,0,0"&&t.extend(r,c.transparent),n):c[e]}function v(e,t,n){return n=(n+1)%1,n*6<1?e+(t-e)*n*6:n*2<1?t:n*3<2?e+(t-e)*(2/3-n)*6:e}var r="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor".split(" "),i=/^([\-+])=\s*(\d+\.?\d*)/,s=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1]*2.55,e[2]*2.55,e[3]*2.55,e[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(e){return[e[1],e[2]/100,e[3]/100,e[4]]}}],o=t.Color=function(e,n,r,i){return new t.Color.fn.parse(e,n,r,i)},u={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},a={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},f=o.support={},l=t("<p>")[0],c,h=t.each;l.style.cssText="background-color:rgba(1,1,1,.5)",f.rgba=l.style.backgroundColor.indexOf("rgba")>-1,h(u,function(e,t){t.cache="_"+e,t.props.alpha={idx:3,type:"percent",def:1}}),o.fn=t.extend(o.prototype,{parse:function(r,i,s,a){if(r===n)return this._rgba=[null,null,null,null],this;if(r.jquery||r.nodeType)r=t(r).css(i),i=n;var f=this,l=t.type(r),v=this._rgba=[];i!==n&&(r=[r,i,s,a],l="array");if(l==="string")return this.parse(d(r)||c._default);if(l==="array")return h(u.rgba.props,function(e,t){v[t.idx]=p(r[t.idx],t)}),this;if(l==="object")return r instanceof o?h(u,function(e,t){r[t.cache]&&(f[t.cache]=r[t.cache].slice())}):h(u,function(t,n){var i=n.cache;h(n.props,function(e,t){if(!f[i]&&n.to){if(e==="alpha"||r[e]==null)return;f[i]=n.to(f._rgba)}f[i][t.idx]=p(r[e],t,!0)}),f[i]&&e.inArray(null,f[i].slice(0,3))<0&&(f[i][3]=1,n.from&&(f._rgba=n.from(f[i])))}),this},is:function(e){var t=o(e),n=!0,r=this;return h(u,function(e,i){var s,o=t[i.cache];return o&&(s=r[i.cache]||i.to&&i.to(r._rgba)||[],h(i.props,function(e,t){if(o[t.idx]!=null)return n=o[t.idx]===s[t.idx],n})),n}),n},_space:function(){var e=[],t=this;return h(u,function(n,r){t[r.cache]&&e.push(n)}),e.pop()},transition:function(e,t){var n=o(e),r=n._space(),i=u[r],s=this.alpha()===0?o("transparent"):this,f=s[i.cache]||i.to(s._rgba),l=f.slice();return n=n[i.cache],h(i.props,function(e,r){var i=r.idx,s=f[i],o=n[i],u=a[r.type]||{};if(o===null)return;s===null?l[i]=o:(u.mod&&(o-s>u.mod/2?s+=u.mod:s-o>u.mod/2&&(s-=u.mod)),l[i]=p((o-s)*t+s,r))}),this[r](l)},blend:function(e){if(this._rgba[3]===1)return this;var n=this._rgba.slice(),r=n.pop(),i=o(e)._rgba;return o(t.map(n,function(e,t){return(1-r)*i[t]+r*e}))},toRgbaString:function(){var e="rgba(",n=t.map(this._rgba,function(e,t){return e==null?t>2?1:0:e});return n[3]===1&&(n.pop(),e="rgb("),e+n.join()+")"},toHslaString:function(){var e="hsla(",n=t.map(this.hsla(),function(e,t){return e==null&&(e=t>2?1:0),t&&t<3&&(e=Math.round(e*100)+"%"),e});return n[3]===1&&(n.pop(),e="hsl("),e+n.join()+")"},toHexString:function(e){var n=this._rgba.slice(),r=n.pop();return e&&n.push(~~(r*255)),"#"+t.map(n,function(e){return e=(e||0).toString(16),e.length===1?"0"+e:e}).join("")},toString:function(){return this._rgba[3]===0?"transparent":this.toRgbaString()}}),o.fn.parse.prototype=o.fn,u.hsla.to=function(e){if(e[0]==null||e[1]==null||e[2]==null)return[null,null,null,e[3]];var t=e[0]/255,n=e[1]/255,r=e[2]/255,i=e[3],s=Math.max(t,n,r),o=Math.min(t,n,r),u=s-o,a=s+o,f=a*.5,l,c;return o===s?l=0:t===s?l=60*(n-r)/u+360:n===s?l=60*(r-t)/u+120:l=60*(t-n)/u+240,f===0||f===1?c=f:f<=.5?c=u/a:c=u/(2-a),[Math.round(l)%360,c,f,i==null?1:i]},u.hsla.from=function(e){if(e[0]==null||e[1]==null||e[2]==null)return[null,null,null,e[3]];var t=e[0]/360,n=e[1],r=e[2],i=e[3],s=r<=.5?r*(1+n):r+n-r*n,o=2*r-s;return[Math.round(v(o,s,t+1/3)*255),Math.round(v(o,s,t)*255),Math.round(v(o,s,t-1/3)*255),i]},h(u,function(e,r){var s=r.props,u=r.cache,a=r.to,f=r.from;o.fn[e]=function(e){a&&!this[u]&&(this[u]=a(this._rgba));if(e===n)return this[u].slice();var r,i=t.type(e),l=i==="array"||i==="object"?e:arguments,c=this[u].slice();return h(s,function(e,t){var n=l[i==="object"?e:t.idx];n==null&&(n=c[t.idx]),c[t.idx]=p(n,t)}),f?(r=o(f(c)),r[u]=c,r):o(c)},h(s,function(n,r){if(o.fn[n])return;o.fn[n]=function(s){var o=t.type(s),u=n==="alpha"?this._hsla?"hsla":"rgba":e,a=this[u](),f=a[r.idx],l;return o==="undefined"?f:(o==="function"&&(s=s.call(this,f),o=t.type(s)),s==null&&r.empty?this:(o==="string"&&(l=i.exec(s),l&&(s=f+parseFloat(l[2])*(l[1]==="+"?1:-1))),a[r.idx]=s,this[u](a)))}})}),h(r,function(e,n){t.cssHooks[n]={set:function(e,r){var i,s,u="";if(t.type(r)!=="string"||(i=d(r))){r=o(i||r);if(!f.rgba&&r._rgba[3]!==1){s=n==="backgroundColor"?e.parentNode:e;while((u===""||u==="transparent")&&s&&s.style)try{u=t.css(s,"backgroundColor"),s=s.parentNode}catch(a){}r=r.blend(u&&u!=="transparent"?u:"_default")}r=r.toRgbaString()}try{e.style[n]=r}catch(l){}}},t.fx.step[n]=function(e){e.colorInit||(e.start=o(e.elem,n),e.end=o(e.end),e.colorInit=!0),t.cssHooks[n].set(e.elem,e.start.transition(e.end,e.pos))}}),t.cssHooks.borderColor={expand:function(e){var t={};return h(["Top","Right","Bottom","Left"],function(n,r){t["border"+r+"Color"]=e}),t}},c=t.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(jQuery),function(){function i(){var t=this.ownerDocument.defaultView?this.ownerDocument.defaultView.getComputedStyle(this,null):this.currentStyle,n={},r,i;if(t&&t.length&&t[0]&&t[t[0]]){i=t.length;while(i--)r=t[i],typeof t[r]=="string"&&(n[e.camelCase(r)]=t[r])}else for(r in t)typeof t[r]=="string"&&(n[r]=t[r]);return n}function s(t,n){var i={},s,o;for(s in n)o=n[s],t[s]!==o&&!r[s]&&(e.fx.step[s]||!isNaN(parseFloat(o)))&&(i[s]=o);return i}var n=["add","remove","toggle"],r={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};e.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(t,n){e.fx.step[n]=function(e){if(e.end!=="none"&&!e.setAttr||e.pos===1&&!e.setAttr)jQuery.style(e.elem,n,e.end),e.setAttr=!0}}),e.effects.animateClass=function(t,r,o,u){var a=e.speed(r,o,u);return this.queue(function(){var r=e(this),o=r.attr("class")||"",u,f=a.children?r.find("*").andSelf():r;f=f.map(function(){var t=e(this);return{el:t,start:i.call(this)}}),u=function(){e.each(n,function(e,n){t[n]&&r[n+"Class"](t[n])})},u(),f=f.map(function(){return this.end=i.call(this.el[0]),this.diff=s(this.start,this.end),this}),r.attr("class",o),f=f.map(function(){var t=this,n=e.Deferred(),r=jQuery.extend({},a,{queue:!1,complete:function(){n.resolve(t)}});return this.el.animate(this.diff,r),n.promise()}),e.when.apply(e,f.get()).done(function(){u(),e.each(arguments,function(){var t=this.el;e.each(this.diff,function(e){t.css(e,"")})}),a.complete.call(r[0])})})},e.fn.extend({_addClass:e.fn.addClass,addClass:function(t,n,r,i){return n?e.effects.animateClass.call(this,{add:t},n,r,i):this._addClass(t)},_removeClass:e.fn.removeClass,removeClass:function(t,n,r,i){return n?e.effects.animateClass.call(this,{remove:t},n,r,i):this._removeClass(t)},_toggleClass:e.fn.toggleClass,toggleClass:function(n,r,i,s,o){return typeof r=="boolean"||r===t?i?e.effects.animateClass.call(this,r?{add:n}:{remove:n},i,s,o):this._toggleClass(n,r):e.effects.animateClass.call(this,{toggle:n},r,i,s)},switchClass:function(t,n,r,i,s){return e.effects.animateClass.call(this,{add:n,remove:t},r,i,s)}})}(),function(){function i(t,n,r,i){e.isPlainObject(t)&&(n=t,t=t.effect),t={effect:t},n==null&&(n={}),e.isFunction(n)&&(i=n,r=null,n={});if(typeof n=="number"||e.fx.speeds[n])i=r,r=n,n={};return e.isFunction(r)&&(i=r,r=null),n&&e.extend(t,n),r=r||n.duration,t.duration=e.fx.off?0:typeof r=="number"?r:r in e.fx.speeds?e.fx.speeds[r]:e.fx.speeds._default,t.complete=i||n.complete,t}function s(t){return!t||typeof t=="number"||e.fx.speeds[t]?!0:typeof t=="string"&&!e.effects.effect[t]?n&&e.effects[t]?!1:!0:!1}e.extend(e.effects,{version:"1.9.2",save:function(e,t){for(var n=0;n<t.length;n++)t[n]!==null&&e.data(r+t[n],e[0].style[t[n]])},restore:function(e,n){var i,s;for(s=0;s<n.length;s++)n[s]!==null&&(i=e.data(r+n[s]),i===t&&(i=""),e.css(n[s],i))},setMode:function(e,t){return t==="toggle"&&(t=e.is(":hidden")?"show":"hide"),t},getBaseline:function(e,t){var n,r;switch(e[0]){case"top":n=0;break;case"middle":n=.5;break;case"bottom":n=1;break;default:n=e[0]/t.height}switch(e[1]){case"left":r=0;break;case"center":r=.5;break;case"right":r=1;break;default:r=e[1]/t.width}return{x:r,y:n}},createWrapper:function(t){if(t.parent().is(".ui-effects-wrapper"))return t.parent();var n={width:t.outerWidth(!0),height:t.outerHeight(!0),"float":t.css("float")},r=e("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),i={width:t.width(),height:t.height()},s=document.activeElement;try{s.id}catch(o){s=document.body}return t.wrap(r),(t[0]===s||e.contains(t[0],s))&&e(s).focus(),r=t.parent(),t.css("position")==="static"?(r.css({position:"relative"}),t.css({position:"relative"})):(e.extend(n,{position:t.css("position"),zIndex:t.css("z-index")}),e.each(["top","left","bottom","right"],function(e,r){n[r]=t.css(r),isNaN(parseInt(n[r],10))&&(n[r]="auto")}),t.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),t.css(i),r.css(n).show()},removeWrapper:function(t){var n=document.activeElement;return t.parent().is(".ui-effects-wrapper")&&(t.parent().replaceWith(t),(t[0]===n||e.contains(t[0],n))&&e(n).focus()),t},setTransition:function(t,n,r,i){return i=i||{},e.each(n,function(e,n){var s=t.cssUnit(n);s[0]>0&&(i[n]=s[0]*r+s[1])}),i}}),e.fn.extend({effect:function(){function a(n){function u(){e.isFunction(i)&&i.call(r[0]),e.isFunction(n)&&n()}var r=e(this),i=t.complete,s=t.mode;(r.is(":hidden")?s==="hide":s==="show")?u():o.call(r[0],t,u)}var t=i.apply(this,arguments),r=t.mode,s=t.queue,o=e.effects.effect[t.effect],u=!o&&n&&e.effects[t.effect];return e.fx.off||!o&&!u?r?this[r](t.duration,t.complete):this.each(function(){t.complete&&t.complete.call(this)}):o?s===!1?this.each(a):this.queue(s||"fx",a):u.call(this,{options:t,duration:t.duration,callback:t.complete,mode:t.mode})},_show:e.fn.show,show:function(e){if(s(e))return this._show.apply(this,arguments);var t=i.apply(this,arguments);return t.mode="show",this.effect.call(this,t)},_hide:e.fn.hide,hide:function(e){if(s(e))return this._hide.apply(this,arguments);var t=i.apply(this,arguments);return t.mode="hide",this.effect.call(this,t)},__toggle:e.fn.toggle,toggle:function(t){if(s(t)||typeof t=="boolean"||e.isFunction(t))return this.__toggle.apply(this,arguments);var n=i.apply(this,arguments);return n.mode="toggle",this.effect.call(this,n)},cssUnit:function(t){var n=this.css(t),r=[];return e.each(["em","px","%","pt"],function(e,t){n.indexOf(t)>0&&(r=[parseFloat(n),t])}),r}})}(),function(){var t={};e.each(["Quad","Cubic","Quart","Quint","Expo"],function(e,n){t[n]=function(t){return Math.pow(t,e+2)}}),e.extend(t,{Sine:function(e){return 1-Math.cos(e*Math.PI/2)},Circ:function(e){return 1-Math.sqrt(1-e*e)},Elastic:function(e){return e===0||e===1?e:-Math.pow(2,8*(e-1))*Math.sin(((e-1)*80-7.5)*Math.PI/15)},Back:function(e){return e*e*(3*e-2)},Bounce:function(e){var t,n=4;while(e<((t=Math.pow(2,--n))-1)/11);return 1/Math.pow(4,3-n)-7.5625*Math.pow((t*3-2)/22-e,2)}}),e.each(t,function(t,n){e.easing["easeIn"+t]=n,e.easing["easeOut"+t]=function(e){return 1-n(1-e)},e.easing["easeInOut"+t]=function(e){return e<.5?n(e*2)/2:1-n(e*-2+2)/2}})}()}(jQuery);;
/*! jQuery UI - v1.9.2 - 2013-02-15
* http://jqueryui.com
* Includes: jquery.ui.effect-blind.js
* Copyright 2013 jQuery Foundation and other contributors; Licensed MIT */
(function(e,t){var n=/up|down|vertical/,r=/up|left|vertical|horizontal/;e.effects.effect.blind=function(t,i){var s=e(this),o=["position","top","bottom","left","right","height","width"],u=e.effects.setMode(s,t.mode||"hide"),a=t.direction||"up",f=n.test(a),l=f?"height":"width",c=f?"top":"left",h=r.test(a),p={},d=u==="show",v,m,g;s.parent().is(".ui-effects-wrapper")?e.effects.save(s.parent(),o):e.effects.save(s,o),s.show(),v=e.effects.createWrapper(s).css({overflow:"hidden"}),m=v[l](),g=parseFloat(v.css(c))||0,p[l]=d?m:0,h||(s.css(f?"bottom":"right",0).css(f?"top":"left","auto").css({position:"absolute"}),p[c]=d?g:m+g),d&&(v.css(l,0),h||v.css(c,g+m)),v.animate(p,{duration:t.duration,easing:t.easing,queue:!1,complete:function(){u==="hide"&&s.hide(),e.effects.restore(s,o),e.effects.removeWrapper(s),i()}})}})(jQuery);;
/*! jQuery UI - v1.9.2 - 2013-02-15
* http://jqueryui.com
* Includes: jquery.ui.effect-slide.js
* Copyright 2013 jQuery Foundation and other contributors; Licensed MIT */
(function(e,t){e.effects.effect.slide=function(t,n){var r=e(this),i=["position","top","bottom","left","right","width","height"],s=e.effects.setMode(r,t.mode||"show"),o=s==="show",u=t.direction||"left",a=u==="up"||u==="down"?"top":"left",f=u==="up"||u==="left",l,c={};e.effects.save(r,i),r.show(),l=t.distance||r[a==="top"?"outerHeight":"outerWidth"](!0),e.effects.createWrapper(r).css({overflow:"hidden"}),o&&r.css(a,f?isNaN(l)?"-"+l:-l:l),c[a]=(o?f?"+=":"-=":f?"-=":"+=")+l,r.animate(c,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){s==="hide"&&r.hide(),e.effects.restore(r,i),e.effects.removeWrapper(r),n()}})}})(jQuery);;
/*! jQuery UI - v1.9.2 - 2013-02-15
* http://jqueryui.com
* Includes: jquery.ui.effect-scale.js
* Copyright 2013 jQuery Foundation and other contributors; Licensed MIT */
(function(e,t){e.effects.effect.puff=function(t,n){var r=e(this),i=e.effects.setMode(r,t.mode||"hide"),s=i==="hide",o=parseInt(t.percent,10)||150,u=o/100,a={height:r.height(),width:r.width(),outerHeight:r.outerHeight(),outerWidth:r.outerWidth()};e.extend(t,{effect:"scale",queue:!1,fade:!0,mode:i,complete:n,percent:s?o:100,from:s?a:{height:a.height*u,width:a.width*u,outerHeight:a.outerHeight*u,outerWidth:a.outerWidth*u}}),r.effect(t)},e.effects.effect.scale=function(t,n){var r=e(this),i=e.extend(!0,{},t),s=e.effects.setMode(r,t.mode||"effect"),o=parseInt(t.percent,10)||(parseInt(t.percent,10)===0?0:s==="hide"?0:100),u=t.direction||"both",a=t.origin,f={height:r.height(),width:r.width(),outerHeight:r.outerHeight(),outerWidth:r.outerWidth()},l={y:u!=="horizontal"?o/100:1,x:u!=="vertical"?o/100:1};i.effect="size",i.queue=!1,i.complete=n,s!=="effect"&&(i.origin=a||["middle","center"],i.restore=!0),i.from=t.from||(s==="show"?{height:0,width:0,outerHeight:0,outerWidth:0}:f),i.to={height:f.height*l.y,width:f.width*l.x,outerHeight:f.outerHeight*l.y,outerWidth:f.outerWidth*l.x},i.fade&&(s==="show"&&(i.from.opacity=0,i.to.opacity=1),s==="hide"&&(i.from.opacity=1,i.to.opacity=0)),r.effect(i)},e.effects.effect.size=function(t,n){var r,i,s,o=e(this),u=["position","top","bottom","left","right","width","height","overflow","opacity"],a=["position","top","bottom","left","right","overflow","opacity"],f=["width","height","overflow"],l=["fontSize"],c=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],h=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],p=e.effects.setMode(o,t.mode||"effect"),d=t.restore||p!=="effect",v=t.scale||"both",m=t.origin||["middle","center"],g=o.css("position"),y=d?u:a,b={height:0,width:0,outerHeight:0,outerWidth:0};p==="show"&&o.show(),r={height:o.height(),width:o.width(),outerHeight:o.outerHeight(),outerWidth:o.outerWidth()},t.mode==="toggle"&&p==="show"?(o.from=t.to||b,o.to=t.from||r):(o.from=t.from||(p==="show"?b:r),o.to=t.to||(p==="hide"?b:r)),s={from:{y:o.from.height/r.height,x:o.from.width/r.width},to:{y:o.to.height/r.height,x:o.to.width/r.width}};if(v==="box"||v==="both")s.from.y!==s.to.y&&(y=y.concat(c),o.from=e.effects.setTransition(o,c,s.from.y,o.from),o.to=e.effects.setTransition(o,c,s.to.y,o.to)),s.from.x!==s.to.x&&(y=y.concat(h),o.from=e.effects.setTransition(o,h,s.from.x,o.from),o.to=e.effects.setTransition(o,h,s.to.x,o.to));(v==="content"||v==="both")&&s.from.y!==s.to.y&&(y=y.concat(l).concat(f),o.from=e.effects.setTransition(o,l,s.from.y,o.from),o.to=e.effects.setTransition(o,l,s.to.y,o.to)),e.effects.save(o,y),o.show(),e.effects.createWrapper(o),o.css("overflow","hidden").css(o.from),m&&(i=e.effects.getBaseline(m,r),o.from.top=(r.outerHeight-o.outerHeight())*i.y,o.from.left=(r.outerWidth-o.outerWidth())*i.x,o.to.top=(r.outerHeight-o.to.outerHeight)*i.y,o.to.left=(r.outerWidth-o.to.outerWidth)*i.x),o.css(o.from);if(v==="content"||v==="both")c=c.concat(["marginTop","marginBottom"]).concat(l),h=h.concat(["marginLeft","marginRight"]),f=u.concat(c).concat(h),o.find("*[width]").each(function(){var n=e(this),r={height:n.height(),width:n.width(),outerHeight:n.outerHeight(),outerWidth:n.outerWidth()};d&&e.effects.save(n,f),n.from={height:r.height*s.from.y,width:r.width*s.from.x,outerHeight:r.outerHeight*s.from.y,outerWidth:r.outerWidth*s.from.x},n.to={height:r.height*s.to.y,width:r.width*s.to.x,outerHeight:r.height*s.to.y,outerWidth:r.width*s.to.x},s.from.y!==s.to.y&&(n.from=e.effects.setTransition(n,c,s.from.y,n.from),n.to=e.effects.setTransition(n,c,s.to.y,n.to)),s.from.x!==s.to.x&&(n.from=e.effects.setTransition(n,h,s.from.x,n.from),n.to=e.effects.setTransition(n,h,s.to.x,n.to)),n.css(n.from),n.animate(n.to,t.duration,t.easing,function(){d&&e.effects.restore(n,f)})});o.animate(o.to,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){o.to.opacity===0&&o.css("opacity",o.from.opacity),p==="hide"&&o.hide(),e.effects.restore(o,y),d||(g==="static"?o.css({position:"relative",top:o.to.top,left:o.to.left}):e.each(["top","left"],function(e,t){o.css(t,function(t,n){var r=parseInt(n,10),i=e?o.to.left:o.to.top;return n==="auto"?i+"px":r+i+"px"})})),e.effects.removeWrapper(o),n()}})}})(jQuery);;
/*! jQuery UI - v1.9.2 - 2013-02-15
* http://jqueryui.com
* Includes: jquery.ui.effect-transfer.js
* Copyright 2013 jQuery Foundation and other contributors; Licensed MIT */
(function(e,t){e.effects.effect.transfer=function(t,n){var r=e(this),i=e(t.to),s=i.css("position")==="fixed",o=e("body"),u=s?o.scrollTop():0,a=s?o.scrollLeft():0,f=i.offset(),l={top:f.top-u,left:f.left-a,height:i.innerHeight(),width:i.innerWidth()},c=r.offset(),h=e('<div class="ui-effects-transfer"></div>').appendTo(document.body).addClass(t.className).css({top:c.top-u,left:c.left-a,height:r.innerHeight(),width:r.innerWidth(),position:s?"fixed":"absolute"}).animate(l,t.duration,t.easing,function(){h.remove(),n()})}})(jQuery);;
/*! jQuery UI - v1.9.2 - 2013-02-15
* http://jqueryui.com
* Includes: jquery.ui.effect-fade.js
* Copyright 2013 jQuery Foundation and other contributors; Licensed MIT */
(function(e,t){e.effects.effect.fade=function(t,n){var r=e(this),i=e.effects.setMode(r,t.mode||"toggle");r.animate({opacity:i},{queue:!1,duration:t.duration,easing:t.easing,complete:n})}})(jQuery);;
/*! jQuery UI - v1.9.2 - 2013-02-15
 * http://jqueryui.com
 * Includes: jquery.ui.datepicker-af.js, jquery.ui.datepicker-ar-DZ.js, jquery.ui.datepicker-ar.js, jquery.ui.datepicker-az.js, jquery.ui.datepicker-bg.js, jquery.ui.datepicker-bs.js, jquery.ui.datepicker-ca.js, jquery.ui.datepicker-cs.js, jquery.ui.datepicker-cy-GB.js, jquery.ui.datepicker-da.js, jquery.ui.datepicker-de.js, jquery.ui.datepicker-el.js, jquery.ui.datepicker-en-AU.js, jquery.ui.datepicker-en-GB.js, jquery.ui.datepicker-en-NZ.js, jquery.ui.datepicker-eo.js, jquery.ui.datepicker-es.js, jquery.ui.datepicker-et.js, jquery.ui.datepicker-eu.js, jquery.ui.datepicker-fa.js, jquery.ui.datepicker-fi.js, jquery.ui.datepicker-fo.js, jquery.ui.datepicker-fr-CH.js, jquery.ui.datepicker-fr.js, jquery.ui.datepicker-gl.js, jquery.ui.datepicker-he.js, jquery.ui.datepicker-hi.js, jquery.ui.datepicker-hr.js, jquery.ui.datepicker-hu.js, jquery.ui.datepicker-hy.js, jquery.ui.datepicker-id.js, jquery.ui.datepicker-is.js, jquery.ui.datepicker-it.js, jquery.ui.datepicker-ja.js, jquery.ui.datepicker-ka.js, jquery.ui.datepicker-kk.js, jquery.ui.datepicker-km.js, jquery.ui.datepicker-ko.js, jquery.ui.datepicker-lb.js, jquery.ui.datepicker-lt.js, jquery.ui.datepicker-lv.js, jquery.ui.datepicker-mk.js, jquery.ui.datepicker-ml.js, jquery.ui.datepicker-ms.js, jquery.ui.datepicker-nl-BE.js, jquery.ui.datepicker-nl.js, jquery.ui.datepicker-no.js, jquery.ui.datepicker-pl.js, jquery.ui.datepicker-pt-BR.js, jquery.ui.datepicker-pt.js, jquery.ui.datepicker-rm.js, jquery.ui.datepicker-ro.js, jquery.ui.datepicker-ru.js, jquery.ui.datepicker-sk.js, jquery.ui.datepicker-sl.js, jquery.ui.datepicker-sq.js, jquery.ui.datepicker-sr-SR.js, jquery.ui.datepicker-sr.js, jquery.ui.datepicker-sv.js, jquery.ui.datepicker-ta.js, jquery.ui.datepicker-th.js, jquery.ui.datepicker-tj.js, jquery.ui.datepicker-tr.js, jquery.ui.datepicker-uk.js, jquery.ui.datepicker-vi.js, jquery.ui.datepicker-zh-CN.js, jquery.ui.datepicker-zh-HK.js, jquery.ui.datepicker-zh-TW.js
 * Copyright 2013 jQuery Foundation and other contributors; Licensed MIT */

/* English/UK initialisation for the jQuery UI date picker plugin. */
/* Written by Stuart. */
jQuery(function($){
    $.datepicker.regional['en'] = {
        closeText: 'Done',
        prevText: 'Prev',
        nextText: 'Next',
        currentText: 'Today',
        monthNames: ['January','February','March','April','May','June',
            'July','August','September','October','November','December'],
        monthNamesShort: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun',
            'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],
        dayNames: ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'],
        dayNamesShort: ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'],
        dayNamesMin: ['Su','Mo','Tu','We','Th','Fr','Sa'],
        weekHeader: 'Wk',
        dateFormat: 'dd/mm/yy',
        firstDay: 1,
        isRTL: false,
        showMonthAfterYear: false,
        yearSuffix: ''};
});

/* French initialisation for the jQuery UI date picker plugin. */
/* Written by Keith Wood (kbwood{at}iinet.com.au),
 Stéphane Nahmani (sholby@sholby.net),
 Stéphane Raimbault <stephane.raimbault@gmail.com> */
jQuery(function($){
    $.datepicker.regional['fr'] = {
        closeText: 'Fermer',
        prevText: 'Précédent',
        nextText: 'Suivant',
        currentText: 'Aujourd\'hui',
        monthNames: ['Janvier','Février','Mars','Avril','Mai','Juin',
            'Juillet','Août','Septembre','Octobre','Novembre','Décembre'],
        monthNamesShort: ['Janv.','Févr.','Mars','Avril','Mai','Juin',
            'Juil.','Août','Sept.','Oct.','Nov.','Déc.'],
        dayNames: ['Dimanche','Lundi','Mardi','Mercredi','Jeudi','Vendredi','Samedi'],
        dayNamesShort: ['Dim.','Lun.','Mar.','Mer.','Jeu.','Ven.','Sam.'],
        dayNamesMin: ['D','L','M','M','J','V','S'],
        weekHeader: 'Sem.',
        dateFormat: 'dd/mm/yy',
        firstDay: 1,
        isRTL: false,
        showMonthAfterYear: false,
        yearSuffix: ''};
});

/* Japanese initialisation for the jQuery UI date picker plugin. */
/* Written by Kentaro SATO (kentaro@ranvis.com). */
jQuery(function($){
    $.datepicker.regional['ja'] = {
        closeText: '閉じる',
        prevText: '&#x3C;前',
        nextText: '次&#x3E;',
        currentText: '今日',
        monthNames: ['1月','2月','3月','4月','5月','6月',
            '7月','8月','9月','10月','11月','12月'],
        monthNamesShort: ['1月','2月','3月','4月','5月','6月',
            '7月','8月','9月','10月','11月','12月'],
        dayNames: ['日曜日','月曜日','火曜日','水曜日','木曜日','金曜日','土曜日'],
        dayNamesShort: ['日','月','火','水','木','金','土'],
        dayNamesMin: ['日','月','火','水','木','金','土'],
        weekHeader: '週',
        dateFormat: 'yy/mm/dd',
        firstDay: 0,
        isRTL: false,
        showMonthAfterYear: true,
        yearSuffix: '年'};
});
;
/*
 *
 * Wijmo Library 2.3.7
 * http://wijmo.com/
 *
 * Copyright(c) GrapeCity, Inc.  All rights reserved.
 * 
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * licensing@wijmo.com
 * http://wijmo.com/widgets/license/
 *
 **/
(function(a){a.fn.extend({wijContent:function(a){return this.each(function(){this.innerHTML='<iframe frameborder="0" style="width: 100%; height: 100%;" src="'+a+'">"'})},wijAddVisibilityObserver:function(c,b){return this.each(function(){a(this).addClass("wijmo-wijobserver-visibility");a(this).bind("wijmovisibilitychanged"+(b?"."+b:""),c)})},wijRemoveVisibilityObserver:function(b){return this.each(function(){a(this).removeClass("wijmo-wijobserver-visibility");if(!b)a(this).unbind("wijmovisibilitychanged");else if(jQuery.isFunction(b))a(this).unbind("wijmovisibilitychanged",b);else a(this).unbind("wijmovisibilitychanged."+b)})},wijTriggerVisibility:function(){return this.each(function(){var b=a(this);b.hasClass("wijmo-wijobserver-visibility")&&b.trigger("wijmovisibilitychanged");b.find(".wijmo-wijobserver-visibility").trigger("wijmovisibilitychanged")})}});var b=function(a){return isNaN(a)?0:a};a.fn.leftBorderWidth=function(){var d=parseFloat(a(this).css("borderLeftWidth")),e=parseFloat(a(this).css("padding-left")),c=0;if(a(this).css("margin-left")!="auto")c=parseFloat(a(this).css("margin-left"));return b(d)+b(e)+b(c)};a.fn.rightBorderWidth=function(){var d=parseFloat(a(this).css("borderRightWidth")),e=parseFloat(a(this).css("padding-right")),c=0;if(a(this).css("margin-right")!="auto")c=parseFloat(a(this).css("margin-right"));return b(d)+b(e)+b(c)};a.fn.topBorderWidth=function(){var d=parseFloat(a(this).css("borderTopWidth")),e=parseFloat(a(this).css("padding-top")),c=0;if(a(this).css("margin-top")!="auto")c=parseFloat(a(this).css("margin-top"));return b(d)+b(e)+b(c)};a.fn.bottomBorderWidth=function(){var d=parseFloat(a(this).css("borderBottomWidth")),e=parseFloat(a(this).css("padding-bottom")),c=0;if(a(this).css("margin-bottom")!="auto")c=parseFloat(a(this).css("margin-bottom"));return b(d)+b(e)+b(c)};a.fn.borderSize=function(){var c=a(this).leftBorderWidth()+a(this).rightBorderWidth(),b=a(this).topBorderWidth()+a(this).bottomBorderWidth(),d={width:c,height:b};return d};a.fn.setOutWidth=function(b){var c=a(this).leftBorderWidth()+a(this).rightBorderWidth();a(this).width(b-c);return this};a.fn.setOutHeight=function(b){var c=a(this).topBorderWidth()+a(this).bottomBorderWidth();a(this).height(b-c);return this};a.fn.getWidget=function(){var a=this.data("widgetName");return a&&a!=""?this.data(a):null};a.fn.wijshow=function(c,e,g,f,d){var b=c.animated||false,h=c.duration||400,i=c.easing,j=c.option||{};f&&a.isFunction(f)&&f.call(this);if(b){if(e&&e[b]){e[b](c,a.extend(g,{complete:d}));return}if(a.effects)if(a.effects[b]||a.effects.effect&&a.effects.effect[b]){this.show(b,a.extend(j,{easing:i}),h,d);return}}this.show();d&&a.isFunction(d)&&d.call(this)};a.fn.wijhide=function(c,e,g,f,d){var b=c.animated||false,h=c.duration||400,i=c.easing,j=c.option||{};f&&a.isFunction(f)&&f.call(this);if(b){if(e&&e[b]){e[b](c,a.extend(g,{complete:d}));return}if(a.effects)if(a.effects[b]||a.effects.effect&&a.effects.effect[b]){this.hide(b,a.extend(j,{easing:i}),h,d);return}}this.hide();d&&a.isFunction(d)&&d.call(this)};var c=function(){};a.extend(c.prototype,{_UTFPunctuationsString:" ! \" # % & ' ( ) * , - . / : ; ? @ [ \\ ] { } \u00a1 \u00ab \u00ad \u00b7 \u00bb \u00bf \u037e \u0387 \u055a \u055b \u055c \u055d \u055e \u055f \u0589 \u058a \u05be \u05c0 \u05c3 \u05f3 \u05f4 \u060c \u061b \u061f \u066a \u066b \u066c \u066d \u06d4 \u0700 \u0701 \u0702 \u0703 \u0704 \u0705 \u0706 \u0707 \u0708 \u0709 \u070a \u070b \u070c \u070d \u0964 \u0965 \u0970 \u0df4 \u0e4f \u0e5a \u0e5b \u0f04 \u0f05 \u0f06 \u0f07 \u0f08 \u0f09 \u0f0a \u0f0b \u0f0c \u0f0d \u0f0e \u0f0f \u0f10 \u0f11 \u0f12 \u0f3a \u0f3b \u0f3c \u0f3d \u0f85 \u104a \u104b \u104c \u104d \u104e \u104f \u10fb \u1361 \u1362 \u1363 \u1364 \u1365 \u1366 \u1367 \u1368 \u166d \u166e \u169b \u169c \u16eb \u16ec \u16ed \u17d4 \u17d5 \u17d6 \u17d7 \u17d8 \u17d9 \u17da \u17dc \u1800 \u1801 \u1802 \u1803 \u1804 \u1805 \u1806 \u1807 \u1808 \u1809 \u180a \u2010 \u2011 \u2012 \u2013 \u2014 \u2015 \u2016 \u2017 \u2018 \u2019 \u201a \u201b \u201c \u201d \u201e \u201f \u2020 \u2021 \u2022 \u2023 \u2024 \u2025 \u2026 \u2027 \u2030 \u2031 \u2032 \u2033 \u2034 \u2035 \u2036 \u2037 \u2038 \u2039 \u203a \u203b \u203c \u203d \u203e \u2041 \u2042 \u2043 \u2045 \u2046 \u2048 \u2049 \u204a \u204b \u204c \u204d \u207d \u207e \u208d \u208e \u2329 \u232a \u3001 \u3002 \u3003 \u3008 \u3009 \u300a \u300b \u300c \u300d \u300e \u300f \u3010 \u3011 \u3014 \u3015 \u3016 \u3017 \u3018 \u3019 \u301a \u301b \u301c \u301d \u301e \u301f \u3030 \ufd3e \ufd3f \ufe30 \ufe31 \ufe32 \ufe35 \ufe36 \ufe37 \ufe38 \ufe39 \ufe3a \ufe3b \ufe3c \ufe3d \ufe3e \ufe3f \ufe40 \ufe41 \ufe42 \ufe43 \ufe44 \ufe49 \ufe4a \ufe4b \ufe4c \ufe50 \ufe51 \ufe52 \ufe54 \ufe55 \ufe56 \ufe57 \ufe58 \ufe59 \ufe5a \ufe5b \ufe5c \ufe5d \ufe5e \ufe5f \ufe60 \ufe61 \ufe63 \ufe68 \ufe6a \ufe6b \uff01 \uff02 \uff03 \uff05 \uff06 \uff07 \uff08 \uff09 \uff0a \uff0c \uff0d \uff0e \uff0f \uff1a \uff1b \uff1f \uff20 \uff3b \uff3c \uff3d \uff5b \uff5d \uff61 \uff62 \uff63 \uff64';this.UTFWhitespacesString_='\t \13 \f \37   \u00a0 \u1680 \u2000 \u2001 \u2002 \u2003 \u2004 \u2005 \u2006 \u2007 \u2008 \u2009 \u200a \u200b \u2028 \u202f \u3000",isDigit:function(b){var a=b.charCodeAt(0);return a>=48&&a<58},isLetter:function(a){return!!(a+"").match(new RegExp("[A-Za-z\u00aa\u00b5\u00ba\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u021f\u0222-\u0233\u0250-\u02ad\u02b0-\u02b8\u02bb-\u02c1\u02d0\u02d1\u02e0-\u02e4\u02ee\u037a\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03ce\u03d0-\u03d7\u03da-\u03f3\u0400-\u0481\u048c-\u04c4\u04c7\u04c8\u04cb\u04cc\u04d0-\u04f5\u04f8\u04f9\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0621-\u063a\u0640-\u064a\u0671-\u06d3\u06d5\u06e5\u06e6\u06fa-\u06fc\u0710\u0712-\u072c\u0780-\u07a5\u0905-\u0939\u093d\u0950\u0958-\u0961\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8b\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b36-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb5\u0bb7-\u0bb9\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cde\u0ce0\u0ce1\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d28\u0d2a-\u0d39\u0d60\u0d61\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc\u0edd\u0f00\u0f40-\u0f47\u0f49-\u0f6a\u0f88-\u0f8b\u1000-\u1021\u1023-\u1027\u1029\u102a\u1050-\u1055\u10a0-\u10c5\u10d0-\u10f6\u1100-\u1159\u115f-\u11a2\u11a8-\u11f9\u1200-\u1206\u1208-\u1246\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1286\u1288\u128a-\u128d\u1290-\u12ae\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12ce\u12d0-\u12d6\u12d8-\u12ee\u12f0-\u130e\u1310\u1312-\u1315\u1318-\u131e\u1320-\u1346\u1348-\u135a\u13a0-\u13f4\u1401-\u166c\u166f-\u1676\u1681-\u169a\u16a0-\u16ea\u1780-\u17b3\u1820-\u1877\u1880-\u18a8\u1e00-\u1e9b\u1ea0-\u1ef9\u1f00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u207f\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2131\u2133-\u2139\u3005\u3006\u3031-\u3035\u3041-\u3094\u309d\u309e\u30a1-\u30fa\u30fc-\u30fe\u3105-\u312c\u3131-\u318e\u31a0-\u31b7\u3400-\u4db5\u4e00-\u9fa5\ua000-\ua48c\uac00-\ud7a3\uf900-\ufa2d\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe72\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc]"))},isLetterOrDigit:function(a){return this.isLetter(a)||this.isDigit(a)},isDoubleByteNumber:function(b){var a=b.charCodeAt(0);return a>=65296&&a<65306},isSymbol:function(b){var a=new RegExp("[$+<->^`|~\u00a2-\u00a9\u00ac\u00ae-\u00b1\u00b4\u00b6\u00b8\u00d7\u00f7\u02b9\u02ba\u02c2-\u02cf\u02d2-\u02df\u02e5-\u02ed\u0374\u0375\u0384\u0385\u0482\u06e9\u06fd\u06fe\u09f2\u09f3\u09fa\u0b70\u0e3f\u0f01-\u0f03\u0f13-\u0f17\u0f1a-\u0f1f\u0f34\u0f36\u0f38\u0fbe-\u0fc5\u0fc7-\u0fcc\u0fcf\u17db\u1fbd\u1fbf-\u1fc1\u1fcd-\u1fcf\u1fdd-\u1fdf\u1fed-\u1fef\u1ffd\u1ffe\u2044\u207a-\u207c\u208a-\u208c\u20a0-\u20af\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211e-\u2123\u2125\u2127\u2129\u212e\u2132\u213a\u2190-\u21f3\u2200-\u22f1\u2300-\u2328\u232b-\u237b\u237d-\u239a\u2400-\u2426\u2440-\u244a\u249c-\u24e9\u2500-\u2595\u25a0-\u25f7\u2600-\u2613\u2619-\u2671\u2701-\u2704\u2706-\u2709\u270c-\u2727\u2729-\u274b\u274d\u274f-\u2752\u2756\u2758-\u275e\u2761-\u2767\u2794\u2798-\u27af\u27b1-\u27be\u2800-\u28ff\u2e80-\u2e99\u2e9b-\u2ef3\u2f00-\u2fd5\u2ff0-\u2ffb\u3004\u3012\u3013\u3020\u3036\u3037\u303e\u303f\u309b\u309c\u3190\u3191\u3196-\u319f\u3200-\u321c\u322a-\u3243\u3260-\u327b\u327f\u328a-\u32b0\u32c0-\u32cb\u32d0-\u32fe\u3300-\u3376\u337b-\u33dd\u33e0-\u33fe\ua490-\ua4a1\ua4a4-\ua4b3\ua4b5-\ua4c0\ua4c2-\ua4c4\ua4c6\ufb29\ufe62\ufe64-\ufe66\ufe69\uff04\uff0b\uff1c-\uff1e\uff3e\uff40\uff5c\uff5e\uffe0-\uffe6\uffe8-\uffee\ufffc\ufffd]");return a.test(b+"")},isPunctuation:function(a){return this._UTFPunctuationsString.indexOf(a)>=0},isPrintableChar:function(a){return!this.isLetterOrDigit(a)&&!this.isPunctuation(a)&&!this.isSymbol(a)&&!this.isDoubleByteNumber(a)?a===" ":true},isAscii:function(a){return a>="!"&&a<="~"},isAsciiLetter:function(a){return a>="A"&&a<="Z"||a>="a"&&a<="z"},isUpper:function(a){return a.toUpperCase()===a},isLower:function(a){return a.toLowerCase()===a},isAlphanumeric:function(a){return!this.isLetter(a)?this.isDigit(a):true},isAciiAlphanumeric:function(a){return(a<"0"||a>"9")&&(a<"A"||a>"Z")?a>="a"?a<="z":false:true},setChar:function(a,c,b){return b>=a.length||b<0?a:""||a.substr(0,b)+c+a.substr(b+1)}});var d=["\n","\r",'"',"@","+","'","<",">","%","{","}"],e=["!ESC!NN!","!ESC!RR!","!ESC!01!","!ESC!02!","!ESC!03!","!ESC!04!","!ESC!05!","!ESC!06!","!ESC!07!","!ESC!08!","!ESC!09!"],f=["(\n)","(\r)",'(")',"(@)","(\\+)","(')","(\\<)","(\\>)","(%)","(\\{)","(\\})"];!a.wij&&a.extend({wij:{charValidator:new c,encodeString:function(b){for(var a=0;a<d.lemgth;a++){var c=/c__escapeArr3[i]/g;b=b.replace(c,e[a])}return b},decodeString:function(a){if(a==="")return;for(var b=0;b<e.length;b++){var c=/c__escapeArr2[i]/g;a=a.replace(c,d[b])}return a}}})})(jQuery);__wijReadOptionEvents=function(c,b){for(var a=0;a<c.length;a++)b.options[c[a]]!=null&&b.element.bind(c[a],b.options[c[a]]);for(a in b.options)if(a.indexOf(" ")!=-1)for(var e=a.split(" "),d=0;d<e.length;d++)e[d].length>0&&b.element.bind(e[d],b.options[a])};function wijmoASPNetParseOptionsReviewer(d,c){var a,b=d[c],e;if(b)switch(typeof b){case"string":a=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2}(?:\.\d*)?):(\d{3})Z$/.exec(b);if(a){e=new Date(+a[1],+a[2]-1,+a[3],+a[4],+a[5],+a[6],+a[7]);e.setFullYear(+a[1]);d[c]=e}break;case"object":if(b.needQuotes!==undefined&&b.valueString!==undefined)if(!b.needQuotes)d[c]=eval(b.valueString);else d[c]=b.valueString;else for(c in b)wijmoASPNetParseOptionsReviewer(b,c)}}function wijmoASPNetParseOptions(a){var b;if(!a)return a;for(b in a)wijmoASPNetParseOptionsReviewer(a,b);return a};;
/*
 *
 * Wijmo Library 2.3.7
 * http://wijmo.com/
 *
 * Copyright(c) GrapeCity, Inc.  All rights reserved.
 * 
 * Licensed under the Wijmo Commercial License. Also available under the GNU GPL Version 3 license.
 * licensing@wijmo.com
 * http://wijmo.com/widgets/license/
 *
 *
 **/
(function(a){"use strict";a.fn.extend({wijtextselection:function(){var c,e,g=this[0],d=this.val();if(arguments.length===0){var b,i,f,h;if(a.browser.msie&&a.browser.version<9)try{var k=document.selection;if(g.tagName.toLowerCase()!="textarea"){b=k.createRange().duplicate();b.moveEnd("character",d.length);f=b.text===""?d.length:d.lastIndexOf(b.text);b=k.createRange().duplicate();b.moveStart("character",-d.length);h=b.text.length}else{b=k.createRange();i=b.duplicate();i.moveToElementText(g);i.setEndPoint("EndToEnd",b);f=i.text.length-b.text.length,h=f+b.text.length}}catch(h){}else{f=g.selectionStart;h=g.selectionEnd}var m=d.substring(f,h);return{start:f,end:h,text:m,replace:function(a){return d.substring(0,f)+a+d.substring(h,d.length)}}}else if(arguments.length===1){if(typeof arguments[0]==="object"&&typeof arguments[0].start==="number"&&typeof arguments[0].end==="number"){c=arguments[0].start;e=arguments[0].end}else if(typeof arguments[0]==="string"){if((c=d.indexOf(arguments[0]))>-1)e=c+arguments[0].length}else if(Object.prototype.toString.call(arguments[0])==="[object RegExp]"){var l=arguments[0].exec(d);if(l!=null){c=l.index;e=c+l[0].length}}}else if(arguments.length===2)if(typeof arguments[0]==="number"&&typeof arguments[1]==="number"){c=arguments[0];e=arguments[1]}if(typeof c==="undefined"){c=0;e=d.length}if(a.browser.msie){var j=g.createTextRange();j.collapse(true);j.moveStart("character",c);j.moveEnd("character",e-c);j.select()}else{g.selectionStart=c;g.selectionEnd=e}}})})(jQuery);;
/*
 *
 * Wijmo Library 2.3.7
 * http://wijmo.com/
 *
 * Copyright(c) GrapeCity, Inc.  All rights reserved.
 * 
 * Licensed under the Wijmo Commercial License. Also available under the GNU GPL Version 3 license.
 * licensing@wijmo.com
 * http://wijmo.com/widgets/license/
 *
 *
 **/
var __extends=this.__extends||function(b,c){function a(){this.constructor=b}a.prototype=c.prototype;b.prototype=new a},wijmo;(function(c){"use strict";var a=jQuery,b=function(){function a(){}a.prototype.destroy=function(){};a.prototype.disable=function(){};a.prototype._trigger=function(){};a.prototype._setOption=function(){};a.prototype.option=function(){};a.prototype.widget=function(){return null};return a}();c.WijmoWidget=b;b.prototype={};var e=function(c){__extends(b,c);function b(){c.apply(this,arguments);this._boundMouseWheel=false;this._wasPopupShowing=false}b.prototype._horizontalBorderWidth=function(a){return a.leftBorderWidth()+a.rightBorderWidth()};b.prototype._verticalBorderWidth=function(a){return a.topBorderWidth()+a.bottomBorderWidth()};b.prototype._create=function(){var c=this,d=document.activeElement==this.element[0],e=this._horizontalBorderWidth(this.element),f=this._verticalBorderWidth(this.element);if(this.element[0].tagName.toLowerCase()!=="input")throw"Target element is not a INPUT";this._creationDate=new Date;if(window.wijmoApplyWijTouchUtilEvents)a=window.wijmoApplyWijTouchUtilEvents(a);this.element.is(":hidden")&&this.element.wijAddVisibilityObserver&&this.element.wijAddVisibilityObserver(function(){c._destroy();c._create();c.element.wijRemoveVisibilityObserver&&c.element.wijRemoveVisibilityObserver()},"wijinput");this.element.data("widgetName",this.widgetName);a.effects.save(this.element,["width","height"]);this.element.wrap("<div class='wijmo-wijinput ui-widget ui-helper-clearfix ui-state-default ui-corner-all'><span class='wijmo-wijinput-wrapper'></span></div>");this.element.addClass("wijmo-wijinput-input ui-corner-all").attr("role","textbox");if(!(a.browser.msie&&parseFloat(a.browser.version)<=7))try{this.element.attr("aria-multiline",false)}catch(g){this.element[0].setAttribute("aria-multiline","false")}this.wrapper=this.element.parent();this.outerDiv=this.wrapper.parent();if(this.options.showTrigger){this.triggerBtn=a("<div class='wijmo-wijinput-trigger ui-state-default'><span class='ui-icon ui-icon-triangle-1-s'></span></div>").addClass(this.options.buttonAlign==="left"?"ui-corner-left":"ui-corner-right").attr("role","button").appendTo(this.outerDiv);this.element.attr({role:"combobox","aria-expanded":false})}if(this.options.showSpinner){this.spinner=a("<div class='wijmo-wijinput-spinner wijmo-wijinput-button'></div>");this.spinUp=a("<div class='ui-state-default wijmo-wijinput-spinup'><span class='ui-icon ui-icon-triangle-1-n'></span></div>").attr("role","button");this.spinDown=a("<div class='ui-state-default wijmo-wijinput-spindown'><span class='ui-icon ui-icon-triangle-1-s'></span></div>").attr("role","button");if(!this.options.showTrigger){this.spinUp.addClass(this.options.buttonAlign==="left"?"ui-corner-tl":"ui-corner-tr");this.spinDown.addClass(this.options.buttonAlign==="left"?"ui-corner-bl":"ui-corner-br")}this.spinner.append(this.spinUp).append(this.spinDown).appendTo(this.outerDiv);this.element.attr("role","spinner")}if(this.options.showTrigger&&this.options.showSpinner)this.outerDiv.addClass(this.options.buttonAlign==="left"?"ui-input-spinner-trigger-left":"ui-input-spinner-trigger-right");else{this.options.showTrigger&&this.outerDiv.addClass(this.options.buttonAlign==="left"?"ui-input-trigger-left":"ui-input-trigger-right");this.options.showSpinner&&this.outerDiv.addClass(this.options.buttonAlign==="left"?"ui-input-spinner-left":"ui-input-spinner-right")}this._initialize();d&&a(function(){return c.element.focus().wijtextselection(0,c.element.val().length)});var b=this.element[0].style;if(b.width){if(this._isInPercents(b.width))this.outerDiv.width(b.width);else this.outerDiv.width(this.element.width()+e-this._horizontalBorderWidth(this.outerDiv));this.element.width("")}if(b.height){if(this._isInPercents(b.height))this.outerDiv.height(b.height);else this.outerDiv.height(this.element.height()+f-this._verticalBorderWidth(this.outerDiv));this.element.height("")}};b.prototype._isInPercents=function(a){return a.match(/%$/)};b.prototype._createTextProvider=function(){return undefined};b.prototype._beginUpdate=function(){};b.prototype._endUpdate=function(){var a=this;if(this.element.mousewheel&&!this._boundMouseWheel){this.element.mousewheel(function(c,b){a.isFocused()&&a._doSpin(b>0,false)&&c.preventDefault()});this._boundMouseWheel=true}};b.prototype._isPopupShowing=function(){return!!this._comboDiv&&this._comboDiv.wijpopup("isVisible")};b.prototype._onTriggerMouseUp=function(){this._wasPopupShowing=this._isPopupShowing()};b.prototype._onTriggerClicked=function(){if(this._wasPopupShowing)this._hidePopup();else{this._showPopup();this._wasPopupShowing=true}};b.prototype._showPopup=function(){this._popupComboList()};b.prototype._hidePopup=function(){this._comboDiv.wijpopup("hide")};b.prototype._initialize=function(){var b=this;this.element.data("initializing",true);this._trigger("initializing");this.element.data("preText",this.element.val());this.element.data("elementValue",this.element.val());this.element.data("errorstate",false);this.element.data("breakSpinner",true);this.element.data("prevCursorPos",-1);this.element.data("simulating",false);this._createTextProvider();this._beginUpdate();var c=this.options,d=function(a){return(!a.which?a.button:a.which)===1},e=function(c){if(b.options.disabled)return;if(!d(c))return;b._trySetFocus();b.element.data("breakSpinner",false);b._addState("active",a(b));b._doSpin(a(c.currentTarget).hasClass("wijmo-wijinput-spinup"),true)},f=function(c){if(b.options.disabled)return;if(!d(c))return;b._stopSpin();b._removeState("active",a(b))},g;this.triggerBtn&&!c.disabledState&&this.triggerBtn.bind({mouseover:function(){if(b.options.disabled)return;b._addState("hover",a(b))},mouseout:function(){if(b.options.disabled)return;b._removeState("hover",a(b))},mousedown:function(c){if(b.options.disabled)return;if(!d(c))return;b._stopEvent(c);b._addState("active",a(b));b._trigger("triggerMouseDown")},mouseup:function(){b._onTriggerMouseUp()},click:function(c){if(b.options.disabled)return;b._stopEvent(c);b._stopSpin();b._removeState("active",a(b));b._trigger("triggerMouseUp");b._onTriggerClicked();b._trySetFocus()}});this.spinUp&&!c.disabledState&&this.spinUp.bind({mouseover:function(){if(b.options.disabled)return;b._addState("hover",a(b))},mouseout:function(){if(b.options.disabled)return;b._removeState("hover",a(b));b._removeState("active",a(b));b._stopSpin()},mousedown:e,mouseup:f});this.spinDown&&!c.disabledState&&this.spinDown.bind({mouseover:function(){if(b.options.disabled)return;b._addState("hover",a(b))},mouseout:function(){if(b.options.disabled)return;b._removeState("hover",a(b));b._removeState("active",a(b));b._stopSpin()},mousedown:e,mouseup:f});this.element.bind({"focus.wijinput":a.proxy(this._onFocus,this),"blur.wijinput":a.proxy(this._onBlur,this),"mouseup.wijinput":a.proxy(this._onMouseUp,this),"keypress.wijinput":a.proxy(this._onKeyPress,this),"keydown.wijinput":a.proxy(this._onKeyDown,this),"keyup.wijinput":a.proxy(this._onKeyUp,this),"compositionstart.wijinput":a.proxy(this._onCompositionStart,this),"compositionend.wijinput":a.proxy(this._onCompositionEnd,this),"change.wijinput":a.proxy(this._onChange,this),"paste.wijinput":a.proxy(this._onPaste,this),"drop.wijinput":a.proxy(this._onDrop,this)});this.element.bind("propertychange.wijinput input.wijinput",a.proxy(this._onInput,this));this.element.data("initializing",false);this._resetData();this._endUpdate();this._updateText();if(this.options.disabledState){g=c.disabled;this.disable();c.disabled=g}this.options.disabled&&this.disable();this.element.data("initialized",true);this._trigger("initialized")};b.prototype._init=function(){};b.prototype._setOption=function(d,c){this._super(d,c);switch(d){case"buttonAlign":case"showTrigger":case"showSpinner":this._destroy();this._create();break;case"showNullText":this._updateText();break;case"disabled":this.element.attr("disabled",c);var b=c?"addClass":"removeClass",a=this.namespace+"-state-disabled";this.element[b](a);this.triggerBtn&&this.triggerBtn[b](a);this.spinUp&&this.spinUp[b](a);this.spinDown&&this.spinDown[b](a)}};b.prototype.destroy=function(){this._super();this._destroy()};b.prototype.isDestroyed=function(){return!this.outerDiv};b.prototype._destroy=function(){if(this.isDestroyed())return;this.wrapper=undefined;this.outerDiv=undefined;this.element.unbind(".wijinput");this.element.removeData("errorstate").removeData("breakSpinner").removeData("prevCursorPos").removeData("simulating").removeData("isPassword").removeClass("wijmo-wijinput-input").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow").removeAttr("aria-expanded");this.element.parent().replaceWith(this.element);this.element.parent().replaceWith(this.element);a.effects.restore(this.element,["width","height"])};b.prototype.widget=function(){return this.outerDiv||this._super()};b.prototype._getCulture=function(a){if(typeof a==="undefined")a=this.options.culture;return Globalize.findClosestCulture(a||this.options.culture)};b.prototype._addState=function(b,a){a.is(":not(.ui-state-disabled)")&&a.addClass("ui-state-"+b)};b.prototype._removeState=function(a,b){b.removeClass("ui-state-"+a)};b.prototype._isInitialized=function(){return!this.element.data("initializing")};b.prototype._setData=function(a){this.setText(a)};b.prototype._resetData=function(){};b.prototype._validateData=function(){};b.prototype.getText=function(){return!this._isInitialized()?this.element.val():this._textProvider.toString(true,false,false)};b.prototype.setText=function(a){if(!this._isInitialized())this.element.val(a);else{this._textProvider.set(a);this._updateText()}};b.prototype.getPostValue=function(){return!this._isInitialized()?this.element.val():this._textProvider.toString(true,false,true)};b.prototype.selectText=function(a,b){if(this.element.is(":disabled"))return;this.element.wijtextselection(a,b)};b.prototype.focus=function(){if(this.element.is(":disabled"))return;this.element.get(0).focus()};b.prototype.isFocused=function(){return this.outerDiv.hasClass("ui-state-focus")};b.prototype._raiseTextChanged=function(){var a=this.element.val(),b=this.element.data("preText");if(!!this.element.data("initialized")&&b!==a){this._trigger("textChanged",null,{text:a});this.element.data("changed",true)}this.element.data("preText",a)};b.prototype._raiseDataChanged=function(){};b.prototype._allowEdit=function(){return!this.element.attr("readOnly")&&!this.element.is(":disabled")};b.prototype._updateText=function(a){if(typeof a==="undefined")a=false;if(!this._isInitialized())return;a=!!a;var b=this.element.wijtextselection(),c=this.options;if(this.isDeleteAll&&c.showNullText){this.isDeleteAll=false;c.date=null;this.element.val(c.nullText)}else{this.element.val(this._textProvider.toString());this.options.text=this._textProvider.toString(true,false,false)}if(this.element.is(":disabled"))return;a&&this.selectText(b.start,b.end);this.element.data("prevCursorPos",b.start);this._raiseTextChanged();this._raiseDataChanged()};b.prototype._trySetFocus=function(){if(document.activeElement!==this.element[0])try{!this.options.disableUserInput&&this.element.focus()}catch(a){}};b.prototype._deleteSelText=function(c){if(typeof c==="undefined")c=false;if(!this._allowEdit())return;var a=this.element.wijtextselection(),b;if(c){if(a.end<1)return;if(a.end===a.start)a.start--}a.end--;if(a.end<a.start)a.end=a.start;b=new d;this._textProvider.removeAt(a.start,a.end,b);this._updateText();this.selectText(b.testPosition,b.testPosition)};b.prototype._fireIvalidInputEvent=function(d){var b=this,c;if(a.isFunction(this.options.invalidInput)&&this._trigger("invalidInput",null,{widget:this,"char":d})===true)return;if(!this.element.data("errorstate")){c=this.options.invalidClass||"ui-state-error";this.element.data("errorstate",true);window.setTimeout(function(){b.outerDiv&&b.outerDiv.removeClass(c);b.element.data("errorstate",false)},200);this.outerDiv.addClass(c)}};b.prototype._onInput=function(){if(!this._isSimulating()||!this.element.data("ime")||this.element.data("isComposingIME")){this.element.data("isComposingIME")&&this.element.data("simulationPending",true);return}this._simulate()};b.prototype._keyDownPreview=function(){return false};b.prototype._onDoubleByteCharacter=function(){var a=this.element.data("lastDbsState"),c=this.element.wijtextselection(),b=this.element.val();if(this.element.data("isComposingIME")&&a&&a.selection.start===c.start&&a.Text===b){this.element.removeData("lastDbsState");this._onCompositionEnd()}else{this.element.data("lastDbsState",{selection:c,text:b});this._onCompositionStart()}};b.prototype._onCompositionStart=function(){if(this.element.data("isComposingIME"))return;this.element.data("isComposingIME",true);this._beforeSimulate(true)};b.prototype._onCompositionEnd=function(){if(!this.element.data("isComposingIME"))return;this.element.data("isComposingIME",false);this._isInitialized()&&(!this._textProvider||!this._textProvider.noMask)&&this._simulateIfPending()};b.prototype._simulateIfPending=function(){this.element.data("simulationPending")&&this.element.data("lastSelection")&&this._simulate()};b.prototype._beforeSimulate=function(a){if(typeof a==="undefined")a=false;if(!this.element.data("lastSelection")){this.element.data("lastSelection",this.element.wijtextselection());this.element.data("lastValue",this.element.val())}this.element.data("ime",a);this.element.data("simulating",true)};b.prototype._isSimulating=function(){return this.element.data("simulating")};b.prototype._simulate=function(f){var a=this,b=null,e,c,d;this.element.data("simulationPending",false);if(typeof f==="string")b=f;else{e=this.element.wijtextselection();c=this.element.data("lastSelection").start;d=e.end;if(d>=c)b=this.element.val().substring(c,d)}b&&window.setTimeout(function(){if(!a.element.data("lastValue"))return;a.element.val(a.element.data("lastValue"));var e=a.element.data("lastSelection"),c,d;a.element.wijtextselection(e);a.element.data("batchKeyPress",true);a.element.data("simulating",false);c=jQuery.Event("keypress");c.ctrlKey=c.altKey=false;for(d=0;d<b.length;d++){c.which=c.charCode=c.keyCode=b.charCodeAt(d);a._onKeyPress(c)}a.element.data("batchKeyPress",false);a._endSimulate()},1)};b.prototype._endSimulate=function(){this._simulateIfPending();this.element.removeData("ime");this.element.removeData("lastSelection");this.element.removeData("lastValue")};b.prototype._onKeyDown=function(b){this.element.data("prevCursorPos",-1);if(!this._isInitialized()||this._textProvider&&!!this._textProvider.noMask)return;var c=this._getKeyCode(b);if(c===229){this._onDoubleByteCharacter();return}this._onCompositionEnd();if(this.options.disableUserInput){this._stopEvent(b);return}if(this._keyDownPreview(b)){this._stopEvent(b);return}switch(c){case a.ui.keyCode.UP:this._doSpin(true,false);this._stopEvent(b);return;case a.ui.keyCode.DOWN:this._doSpin(false,false);this._stopEvent(b);return}if(b.ctrlKey)switch(c){case a.ui.keyCode.INSERT:case 67:return}if(b.ctrlKey||b.altKey)return;switch(c){case 112:case 113:case 114:case 115:case 116:case 117:case a.ui.keyCode.TAB:case a.ui.keyCode.CAPSLOCK:case a.ui.keyCode.END:case a.ui.keyCode.HOME:case a.ui.keyCode.CTRL:case a.ui.keyCode.SHIFT:return;case a.ui.keyCode.BACKSPACE:this._deleteSelText(true);this._stopEvent(b);return;case a.ui.keyCode.DELETE:this._deleteSelText(false);this._stopEvent(b);return;case a.ui.keyCode.ENTER:this._onEnterDown(b);break;case a.ui.keyCode.ESCAPE:this._stopEvent(b);window.setTimeout(a.proxy(this._resetData,this),1);return;case a.ui.keyCode.PAGE_UP:case a.ui.keyCode.PAGE_DOWN:case a.ui.keyCode.ALT:this._stopEvent(b);return}};b.prototype._onEnterDown=function(a){this.options.hideEnter&&this._stopEvent(a)};b.prototype._onKeyUp=function(c){if(this._textProvider&&!!this._textProvider.noMask)return;var b=this._getKeyCode(c);if(this._isSimulating()){b===a.ui.keyCode.ENTER&&this._onCompositionEnd();return}if(!this._isInitialized())return;if(b===a.ui.keyCode.ENTER||b===a.ui.keyCode.ESCAPE)return;if(this.options.disableUserInput){this._raiseTextChanged();this._raiseDataChanged();return}this._stopEvent(c)};b.prototype._getKeyCode=function(a){var b=window.navigator.userAgent;return(b.indexOf("iPod")!==-1||b.indexOf("iPhone")!==-1)&&a.which===127?8:a.keyCode||a.which};b.prototype._keyPressPreview=function(){return false};b.prototype._onKeyPress=function(b){if(this._isSimulating()||this._textProvider&&!!this._textProvider.noMask)return;this.element.data("prevCursorPos",-1);if(this.options.disableUserInput)return;if(!this._allowEdit())return;if(b.ctrlKey&&b.keyCode===119){this._onPaste(b);return}var d=b.keyCode||b.which,c,e;switch(d){case 0:case a.ui.keyCode.UP:case a.ui.keyCode.DOWN:case a.ui.keyCode.LEFT:case a.ui.keyCode.RIGHT:return;case a.ui.keyCode.BACKSPACE:this._stopEvent(b);return;case a.ui.keyCode.ENTER:this.options.hideEnter&&this._stopEvent(b);return}if(b.ctrlKey||b.altKey)if(d!==a.ui.keyCode.SPACE)return;if(this._keyPressPreview(b))return;e=String.fromCharCode(d);c=this._textProvider.replaceWith(this.element.wijtextselection(),e);if(c){this._updateText();this.selectText(c.testPosition+1,c.testPosition+1)}else this._fireIvalidInputEvent(e);!this.element.data("batchKeyPress")&&this._stopEvent(b)};b.prototype._isNullText=function(a){a=a||this.element.val();return this.options.showNullText&&a===this.options.nullText};b.prototype._doFocus=function(){var d=this.element.wijtextselection(),b=d.start,c;this._updateText();c=this.element.val();if(c.length===b)b=0;!a.browser.safari&&this.selectText(b,b)};b.prototype._afterFocused=function(){this._isNullText()&&this._doFocus()};b.prototype._onFocus=function(){if(this.options.disableUserInput)return;this._addState("focus",this.outerDiv);if(!this.element.data("breakSpinner"))return;if(!this._isInitialized())return;if(!this._allowEdit())return;!this.element.data("focusNotCalledFirstTime")&&this.element.data("focusNotCalledFirstTime",+new Date);this._afterFocused()};b.prototype._onBlur=function(){var a=this;if(this.options.disableUserInput)return;this._onCompositionEnd();if(this._isComboListVisible())return;var c=this.isFocused(),b;this._removeState("focus",this.outerDiv);if(!this.element.data("breakSpinner")){this.element.get(0).focus();b=this.element.data("prevCursorPos");b!==undefined&&b!==-1&&this.selectText(b,b);return}if(!this._isInitialized()||!c)return;this.element.data("value",this.element.val());window.setTimeout(function(){a._onChange();a._updateText();a._validateData();if(a.element.data("changed")){a.element.data("changed",false);if(!a._popupVisible()){a._trigger("change");a.element.change()}}},100)};b.prototype._popupVisible=function(){return this._isComboListVisible()};b.prototype._onMouseUp=function(){if(!this._isInitialized())return;if(this.element.is(":disabled"))return;var a=this.element.wijtextselection();this.element.data("prevCursorPos",a.start)};b.prototype._onChange=function(){if(!this.element)return;var a=this.element.val(),b=this.getText();b!==a&&this.setText(a)};b.prototype._onPaste=function(){if(this._textProvider&&!!this._textProvider.noMask)return;this._beforeSimulate();var a=this;window.setTimeout(function(){a._simulate()},1)};b.prototype._onDrop=function(a){this._beforeSimulate();if(a.originalEvent&&a.originalEvent.dataTransfer){var b=a.originalEvent.dataTransfer.getData("Text");b&&this._simulate(b)}};b.prototype._stopEvent=function(a){a.stopPropagation();a.preventDefault()};b.prototype._calcSpinInterval=function(){this._repeatingCount++;return this._repeatingCount>10?50:this._repeatingCount>4?100:this._repeatingCount>2?200:400};b.prototype._doSpin=function(){return false};b.prototype._stopSpin=function(){this.element.data("breakSpinner",true);this._repeatingCount=0};b.prototype._hasComboItems=function(){return!!this.options.comboItems&&this.options.comboItems.length};b.prototype._isComboListVisible=function(){return!this._comboDiv?false:this._comboDiv.wijpopup("isVisible")};b.prototype._popupComboList=function(){var b=this;if(!this._hasComboItems())return;if(!this._allowEdit())return;var c;if(this._comboDiv===undefined){this._comboDiv=a("<div></div>").appendTo(document.body).css("position","absolute");c=this._normalize(this.options.comboItems);this._comboDiv.wijlist({maxItemsCount:5,selected:function(c,a){b._setData(a.item.value);b._comboDiv.wijpopup("hide");b._trySetFocus()}});this._comboDiv.wijlist("setItems",c);this._comboDiv.wijlist("renderList")}this._comboDiv.width(this.outerDiv.width());this._comboDiv.wijlist("option","autoSize",!this.options.comboHeight);this.options.comboHeight&&this._comboDiv.height(this.options.comboHeight);this._comboDiv.wijlist("refreshSuperPanel");this._comboDiv.wijpopup({autoHide:true});this.outerDiv.attr("aria-expanded",true);this._comboDiv.wijpopup("show",{of:this.outerDiv,offset:"0 4",hidden:function(){b.outerDiv.attr("aria-expanded",false)}})};b.prototype._normalize=function(b){return b.length&&b[0].label&&b[0].value?b:a.map(b,function(b){return typeof b==="string"?{label:b,value:b}:a.extend({label:b.label||b.value,value:b.value||b.label},b)})};return b}(b);c.wijinputcore=e;e.prototype.options=a.extend({},b.prototype.options,{culture:"",invalidClass:"ui-state-error",nullText:"",showNullText:false,hideEnter:false,disableUserInput:false,buttonAlign:"right",showTrigger:false,showSpinner:false,comboItems:undefined,comboWidth:undefined,comboHeight:undefined,initializing:null,initialized:null,triggerMouseDown:null,triggerMouseUp:null,textChanged:null,invalidInput:null});var d=function(){function a(){this.characterEscaped=1;this.noEffect=2;this.sideEffect=3;this.success=4;this.unknown=0;this.hint=0;this.alphanumericCharacterExpected=-2;this.asciiCharacterExpected=-1;this.digitExpected=-3;this.invalidInput=-51;this.letterExpected=-4;this.nonEditPosition=-54;this.positionOutOfRange=-55;this.promptCharNotAllowed=-52;this.signedDigitExpected=-5;this.unavailableEditPosition=-53;this.testPosition=-1}a.prototype.clone=function(){var b=new a;b.hint=this.hint;b.testPosition=this.testPosition;return b};return a}();c.wijInputResult=d;var f=function(){function a(){}a.prototype.set=function(){};a.prototype.toString=function(){return""};a.prototype.insertAt=function(){return false};a.prototype.removeAt=function(){};a.prototype.replaceWith=function(a,e){var c=a.start,b=new d;if(a.start<a.end){this.removeAt(a.start,a.end-1,b,true);c=b.testPosition}return this.insertAt(e,c,b)?b:null};return a}();c.wijTextProvider=f})(wijmo||(wijmo={}));var wijinputcore=wijmo.wijinputcore.prototype,wijInputResult=wijmo.wijInputResult;;
/*
 *
 * Wijmo Library 2.3.7
 * http://wijmo.com/
 *
 * Copyright(c) GrapeCity, Inc.  All rights reserved.
 * 
 * Licensed under the Wijmo Commercial License. Also available under the GNU GPL Version 3 license.
 * licensing@wijmo.com
 * http://wijmo.com/widgets/license/
 *
 *
 **/
var __extends=this.__extends||function(b,c){function a(){this.constructor=b}a.prototype=c.prototype;b.prototype=new a},wijmo;(function(e){"use strict";var b=jQuery;function c(c,b){if(typeof b==="undefined")b=2;var a=""+c+"";if(a.length>b)a=a.substr(a.length-b);else while(a.length<b)a="0"+a;return a}var p=function(c){__extends(a,c);function a(){c.apply(this,arguments)}a.prototype._createTextProvider=function(){this._textProvider=new q(this,this.options.dateFormat)};a.prototype._strToDate=function(a){return this._textProvider.parseDate(a)};a.prototype._beginUpdate=function(){var a=this.options,d,b=null;c.prototype._beginUpdate.call(this);if(a.minDate)if(typeof a.minDate==="string")a.minDate=this._strToDate(a.minDate);if(a.maxDate)if(typeof a.maxDate==="string")a.maxDate=this._strToDate(a.maxDate);if(!a.date){if(!!this.element.data("elementValue"))d=this.element.data("elementValue")}else if(typeof a.date==="string")d=a.date;else b=a.date;if(d)b=this._strToDate(d);this._safeSetDate(b);this.element.data({defaultDate:b===null?b:new Date(a.date.getTime()),preDate:b===null?b:new Date(a.date.getTime())});this._resetTimeStamp();a.showTrigger&&!this._hasComboItems()&&this._initCalendar();this.element.addClass("wijmo-wijinput-date").attr({"aria-valuemin":new Date(1900,1,1),"aria-valuemax":new Date(2099,1,1),"aria-valuenow":a.date})};a.prototype._endUpdate=function(){var a=this;c.prototype._endUpdate.call(this);this.element.bind("click.wijinput",function(){a._highLightCursor()})};a.prototype._isValidDate=function(a,c){var b=this.options;if(a===undefined)return false;if(isNaN(a))return false;if(a.getFullYear()<1||a.getFullYear()>9999)return false;if(c){if(b.minDate)if(a<b.minDate)return false;if(b.maxDate)if(a>b.maxDate)return false}return true};a.prototype._checkRange=function(a){var b=this.options;if(a){if(b.minDate&&a<b.minDate)a=new Date(Math.max(b.minDate,a));if(b.maxDate&&a>b.maxDate)a=new Date(Math.min(b.maxDate,a))}return a};a.prototype._safeSetDate=function(a){var c=this.options,b=a;a=this._checkRange(a);if(isNaN(a))a=b;c.date=a;return true};a.prototype._safeGetDate=function(){var a=this.options.date||this._creationDate;a=this._checkRange(a);return a};a.prototype._setOption=function(d,a){c.prototype._setOption.call(this,d,a);switch(d){case"date":if(!!a){if(typeof a==="string")a=this._strToDate(a);else if(typeof a==="object")a=new Date(a.getTime());else a=new Date(a);if(isNaN(a))a=new Date}this._safeSetDate(a);this._updateText();this._highLightField();break;case"dateFormat":case"culture":this._textProvider._setFormat(this.options.dateFormat);this._updateText();var b=this.element.data("calendar");b&&b.wijcalendar("option",d,a);break;case"activeField":a=Math.min(a,this._textProvider.getFieldCount()-1);a=Math.max(a,0);this.options.activeField=a;this._highLightField();this._resetTimeStamp();break;case"nextTooltip":case"prevTooltip":case"titleFormat":case"toolTipFormat":var b=this.element.data("calendar",b);b&&b.wijcalendar("option",d,a)}};a.prototype._setData=function(a){this.option("date",a)};a.prototype._resetData=function(){var a=this.element.data("defaultDate");if(a===undefined||a===null){a=this.element.data("elementValue");if(a!==undefined&&a!==null&&a!=="")this.setText(a);else this._setData(null)}else this._setData(a)};a.prototype._resetTimeStamp=function(){this.element.data("cursorPos",0);this.element.data("timeStamp",new Date("1900/1/1"))};a.prototype.getPostValue=function(){if(!this._isInitialized())return this.element.val();if(this.options.showNullText&&this.isDateNull())return"";var a=this._textProvider.toString();return a===this.options.nullText?"":a};a.prototype._highLightField=function(a){if(typeof a==="undefined")a=this.options.activeField;if(this.isFocused()){var b=this._textProvider.getFieldRange(a);b&&this.element.wijtextselection(b)}};a.prototype._highLightCursor=function(a){if(this._isNullText())return;if(a===undefined)a=Math.max(0,this.element.wijtextselection().start);var b=this._textProvider.getCursorField(a);if(b<0)return;this._setOption("activeField",b)};a.prototype._toNextField=function(){this._setOption("activeField",this.options.activeField+1)};a.prototype._toPrevField=function(){this._setOption("activeField",this.options.activeField-1)};a.prototype._toFirstField=function(){this._setOption("activeField",0)};a.prototype._toLastField=function(){this._setOption("activeField",this._textProvider.getFieldCount())};a.prototype._clearField=function(a){if(typeof a==="undefined")a=this.options.activeField;var b=this._textProvider.getFieldRange(a),c,d=this;if(b){c=new e.wijInputResult;this._textProvider.removeAt(b.start,b.end,c);this._updateText();window.setTimeout(function(){d._highLightField()},1)}};a.prototype._doSpin=function(b,a){var c=this;if(!this._allowEdit())return false;if(a&&this.element.data("breakSpinner"))return false;if(this._textProvider[b?"incEnumPart":"decEnumPart"]()){this._updateText();this._highLightField()}a&&!this.element.data("breakSpinner")&&window.setTimeout(function(){return c._doSpin(b,true)},this._calcSpinInterval());return true};a.prototype._onChange=function(){};a.prototype._afterFocused=function(){this._isNullText()&&this._doFocus()};a.prototype._keyDownPreview=function(a){var d=a.keyCode||a.which,c;switch(d){case b.ui.keyCode.LEFT:this._toPrevField();return true;case b.ui.keyCode.RIGHT:this._toNextField();return true;case b.ui.keyCode.TAB:case b.ui.keyCode.SPACE:case 188:case 190:case 110:case 191:if(a.shiftKey){if(this.options.activeField>0){this._toPrevField();return true}}else if(this.options.activeField<this._textProvider.getFieldCount()-1){this._toNextField();return true}break;case b.ui.keyCode.HOME:if(a.ctrlKey)this._setOption("date",new Date);else this._toFirstField();return true;case b.ui.keyCode.END:if(a.ctrlKey)this._setOption("date",new Date("1970/1/1"));else this._toLastField();return true;case b.ui.keyCode.DELETE:if(this._allowEdit()){c=this.element.wijtextselection();if(c.end-c.start===this.element.val().length){this.isDeleteAll=true;this._setOption("date",new Date("1970/1/1"))}else this._clearField();return true}}return false};a.prototype._autoMoveToNextField=function(a,b){if(!this.options.autoNextField)return;this._textProvider.needToMove(this.options.activeField,a,b)&&this._toNextField()};a.prototype._keyPressPreview=function(c){var e=c.keyCode||c.which,h,f,k,a,i,j,l,m,n,d,g;if(e===b.ui.keyCode.ENTER){if(this.isDateNull())this.options.date=new Date;return false}h=this._textProvider.getFieldRange(this.options.activeField);if(h){if(e===b.ui.keyCode.TAB)return true;if(e===b.ui.keyCode.SPACE){this._stopEvent(c);return true}f=String.fromCharCode(e);k=this._textProvider.isFieldSep(f,this.options.activeField);if(k){this._toNextField();this._stopEvent(c);return true}a=this.element.data("cursorPos");i=new Date;l=this.element.data("timeStamp");g=this.element.data("lastInput");j=i.getTime()-l.getTime()>this.options.keyDelay;var d=f;if(j)a=0;else if(g)d=g+d;this.element.data({timeStamp:i,lastInput:d});m=h.start+a;this.element.data("cursorPos",++a);n=this._textProvider.addToField(d,this.options.activeField,m);if(n){this._updateText();this._autoMoveToNextField(a,f);this._highLightField()}else{this._resetTimeStamp();this._fireIvalidInputEvent()}this._stopEvent(c);return true}return false};a.prototype._raiseDataChanged=function(){var a=this.options.date,b=this.element.data("preDate");this.element.data("preDate",!a?null:new Date(a.getTime()));if(!b&&a||b&&!a||b&&a&&b.getTime()!==a.getTime()){this._syncCalendar();this.element.attr("aria-valuenow",a);this._trigger("dateChanged",null,{date:a})}};a.prototype.isDateNull=function(){return this.options.date===null||this.options.date===undefined};a.prototype._isMinDate=function(a){return a.getFullYear()===1&&a.getMonth()===0&&a.getDate()===1};a.prototype._initCalendar=function(){var e=this,a=this.options,c=a.calendar,d;if(c===undefined||c===null)return;if(typeof c==="boolean"||c==="default"){c=b("<div/>");c.appendTo(document.body)}d=b(c);if(d.length!==1)return;this.element.data("calendar",d);if(a.localization){a.nextTooltip=a.localization.nextTooltip;a.prevTooltip=a.localization.prevTooltip;a.titleFormat=a.localization.titleFormat;a.toolTipFormat=a.localization.toolTipFormat}d.wijcalendar({popupMode:true,culture:a.culture,nextTooltip:a.nextTooltip||"Next",prevTooltip:a.prevTooltip||"Previous",titleFormat:a.titleFormat||"MMMM yyyy",toolTipFormat:a.toolTipFormat||"dddd, MMMM dd, yyyy",selectedDatesChanged:function(){var a=d.wijcalendar("getSelectedDate"),b=e.option("date");d.wijcalendar("close");if(a){if(b){a.setHours(b.getHours());a.setMinutes(b.getMinutes());a.setSeconds(b.getSeconds());a.setMilliseconds(b.getMilliseconds())}e.option("date",a)}e._trySetFocus()}});this._syncCalendar()};a.prototype._syncCalendar=function(){var a=this.element.data("calendar"),c,b;if(!a)return;c=this.options;b=this._safeGetDate();if(this._isMinDate(b))b=new Date;a.wijcalendar("option","displayDate",b);c.minDate&&a.wijcalendar("option","minDate",c.minDate);c.maxDate&&a.wijcalendar("option","maxDate",c.maxDate);a.wijcalendar("unSelectAll");a.wijcalendar("selectDate",b);a.wijcalendar("refresh")};a.prototype._isPopupShowing=function(){var a=this.element.data("calendar");return!a?c.prototype._isPopupShowing.call(this):a.wijcalendar("isPopupShowing")};a.prototype._showPopup=function(){var a=this.element.data("calendar");if(!a)return c.prototype._showPopup.call(this);if(!this._allowEdit())return;this._syncCalendar();a.wijcalendar("popup",b.extend({},this.options.popupPosition,{of:this.outerDiv}))};a.prototype._hidePopup=function(){var a=this.element.data("calendar");if(!a)return c.prototype._hidePopup.call(this);a.wijcalendar("close")};a.prototype._isCalendarVisible=function(){if(!this._allowEdit())return false;var a=this.element.data("calendar");return!a?false:a.wijcalendar("isPopupShowing")};a.prototype._popupVisible=function(){return this._hasComboItems()?this._isComboListVisible():this._isCalendarVisible()};return a}(e.wijinputcore);p.prototype.options=b.extend(true,{},e.wijinputcore.prototype.options,{date:null,minDate:null,maxDate:null,dateFormat:"d",startYear:1950,smartInputMode:true,activeField:0,keyDelay:800,autoNextField:true,calendar:"default",popupPosition:{offset:"0 4"},dateChanged:null});b.widget("wijmo.wijinputdate",p.prototype);var q=function(d){__extends(a,d);function a(a,b){d.call(this);this.inputWidget=a;this.maskPartsCount=0;this.pattern="M/d/yyyy";this._disableSmartInputMode=false;this.paddingZero=c;this.descriptors=new Array(0);this.desPostions=new Array(0);this.fields=new Array(0);this._setFormat(b)}a.prototype.initialize=function(){};a.prototype.getFieldCount=function(){return this.fields.length};a.prototype.getFieldRange=function(b){var a=this.fields[b];return{start:a.startIndex,end:a.startIndex+a.getText().length}};a.prototype.getCursorField=function(a){a=Math.min(a,this.desPostions.length-1);a=Math.max(a,0);var c=this.desPostions[a].desc,d;if(c.type===-1){d=b.inArray(c,this.descriptors);if(d>0&&this.descriptors[d-1].type!==-1)c=this.descriptors[d-1];else return-1}return b.inArray(c,this.fields)};a.prototype.needToMove=function(c,d,e){if(!this.inputWidget._isValidDate(this.inputWidget._safeGetDate(),true))return false;var b=this.fields[c],a=parseInt(e,10);if(d===b.maxLen)return true;if(isNaN(a))return false;switch(b.type){case 20:case 25:case 45:case 46:return a>1;case 47:case 48:return a>2;case 30:case 31:return a>3;case 50:case 51:case 60:case 61:return a>6}return false};a.prototype._getCulture=function(){return this.inputWidget._getCulture()};a.prototype._isDigitString=function(a){a=b.trim(a);if(a.length===0)return true;var c=a.charAt(0),d,e;if(c==="+"||c==="-"){a=a.substr(1);a=b.trim(a)}if(a.length===0)return true;try{d=parseFloat(a);e=d.toString();return e===a}catch(f){return false}};a.prototype._setFormat=function(h){this.descriptors=[];var a="",d="",f=false,g=false,e,c;this.pattern=this._parseFormatToPattern(h);for(e=0;e<this.pattern.length;e++){c=this.pattern.charAt(e);if(g){this.descriptors.push(this.createDescriptor(-1,c));a="";g=false;continue}if(c==="\\"){g=true;if(a.length>0){!this.handlePattern(a)&&this.descriptors.push(this.createDescriptor(-1,d));a=""}continue}if(c==="'"){if(f){f=false;a=""}else{f=true;if(a.length>0){!this.handlePattern(a)&&this.descriptors.push(this.createDescriptor(-1,d));a=""}}continue}if(f){this.descriptors.push(this.createDescriptor(-1,c));a="";continue}if(!e)d=c;if(d!==c&&a.length>0){!this.handlePattern(a)&&this.descriptors.push(this.createDescriptor(-1,d));a=""}a+=c;d=c}if(a.length>0)!this.handlePattern(a)&&this.descriptors.push(this.createDescriptor(-1,d));this.fields=b.grep(this.descriptors,function(a){return a.type!==-1})};a.prototype._parseFormatToPattern=function(c){var a=this.inputWidget._getCulture().calendars.standard,b=a.patterns.d;if(c.length<=1)switch(c){case"":case"d":b=a.patterns.d;break;case"D":b=a.patterns.D;break;case"f":b=a.patterns.D+" "+a.patterns.t;break;case"F":b=a.patterns.D+" "+a.patterns.T;break;case"g":b=a.patterns.d+" "+a.patterns.t;break;case"G":b=a.patterns.d+" "+a.patterns.T;break;case"m":b=a.patterns.M;break;case"M":b=a.patterns.M;break;case"s":b=a.patterns.S;break;case"t":b=a.patterns.t;break;case"T":b=a.patterns.T;break;case"u":b=a.patterns.S;break;case"U":b=a.patterns.D+" "+a.patterns.T;break;case"y":b=a.patterns.Y;break;case"Y":b=a.patterns.Y}else b=c;return b};a.prototype.getDate=function(){return!!this.inputWidget?new Date(this.inputWidget._safeGetDate().getTime()):undefined};a.prototype.setDate=function(a){this.inputWidget&&this.inputWidget._setData(a)};a.prototype._internalSetDate=function(e){if(this.inputWidget){var c=this,a=this.inputWidget.options,d=this.inputWidget.element,f=!!d.data("typing"),b;if(f){a.date=e;b=function(){var f=new Date,e=d.data("timeStamp");if(f.getTime()-e.getTime()>a.keyDelay){c.inputWidget._safeSetDate(a.date);c.inputWidget._updateText();c.inputWidget._highLightField()}else window.setTimeout(b,a.keyDelay)};window.setTimeout(b,a.keyDelay)}else this.inputWidget._safeSetDate(e)}};a.prototype.daysInMonth=function(a,c){a=a-1;var b=new Date(c,++a,1,-1).getDate();return b};a.prototype.setYear=function(a,d,i){try{if(d&&d.isfullreset){d.offset=1;a="1970"}if(typeof a==="string")if(!this._isDigitString(a))return false;a=a*1;var h=this.inputWidget.options,e=1,f=9999,c,b,g;if(i){if(h.minDate)e=Math.max(e,h.minDate.getFullYear());if(h.maxDate)f=Math.min(f,h.maxDate.getFullYear())}if(d&&d.isreset)a=e;if(a<e)a=e;if(a>f)a=f;c=this.getDate();b=new Date(c.getTime());b.setFullYear(a);if(this._isValidDate(b)){g=this.daysInMonth(this.getMonth(),this.getYear());if(g===c.getDate()){b=new Date(c.getTime());b.setDate(1);b.setFullYear(a);g=this.daysInMonth(b.getMonth()+1,b.getFullYear());b.setDate(g);if(this._isValidDate(b)){this._internalSetDate(b);return true}else return false}c.setFullYear(a);this._internalSetDate(c);return true}else{if(d&&d.isreset){c.setFullYear(1);this._internalSetDate(c);return true}return false}}catch(j){return false}};a.prototype.getYear=function(){return this.getDate().getFullYear()};a.prototype.setMonth=function(b,e,c){try{if(c&&c.isfullreset)b="1";b=b*1;var f=this.getDate(),d,a;if(typeof e!=="undefined"&&!e)if(b>12||b<1)if(c&&c.isreset)b=1;else return false;d=this.daysInMonth(this.getMonth(),this.getYear());if(d===this.getDate().getDate()){a=new Date(f.getTime());a.setDate(1);a.setMonth(b-1);d=this.daysInMonth(a.getMonth()+1,a.getFullYear());a.setDate(d);if(this._isValidDate(a)){this._internalSetDate(a);return true}else return false}else{a=new Date(f.getTime());a.setMonth(b-1);if(this._isValidDate(a)){this._internalSetDate(a);return true}else return false}}catch(g){return false}};a.prototype.getMonth=function(){return this.getDate().getMonth()+1};a.prototype.setDayOfMonth=function(b,c,a){try{if(a&&a.isfullreset)return this.setDayOfMonth(1,c);var f=this.getDate(),e,d;b=b*1;if(typeof c!=="undefined"&&!c){e=this.daysInMonth(this.getMonth(),this.getYear());if(b>e||b<1)return a&&a.isreset?this.setDayOfMonth(1,c,a):false}d=new Date(f.getTime());d.setDate(b);if(this._isValidDate(d)){this._internalSetDate(d);return true}else return false}catch(g){return false}};a.prototype.getDayOfMonth=function(){return this.getDate().getDate()};a.prototype.setHours=function(a,c){try{a=a*1;if(typeof c!=="undefined"&&!c)if(a>24)return false;var b=new Date(this.getDate().getTime());b.setHours(a);if(this._isValidDate(b)){this._internalSetDate(b);return true}else return false}catch(d){return false}};a.prototype.getHours=function(){return this.getDate().getHours()};a.prototype.setMinutes=function(a,c){try{a=a*1;if(typeof c!=="undefined"&&!c)if(a>60)return false;var b=new Date(this.getDate().getTime());b.setMinutes(a);if(this._isValidDate(b)){this._internalSetDate(b);return true}else return false}catch(d){return false}};a.prototype.getMinutes=function(){return this.getDate().getMinutes()};a.prototype.setSeconds=function(a,c){try{a=a*1;if(typeof c!=="undefined"&&!c)if(a>60)return false;var b=new Date(this.getDate().getTime());b.setSeconds(a);if(this._isValidDate(b)){this._internalSetDate(b);return true}else return false}catch(d){return false}};a.prototype.getSeconds=function(){return this.getDate().getSeconds()};a.prototype.setDayOfWeek=function(a){try{a=a*1;var b=a-this.getDayOfWeek();return this.setDayOfMonth(this.getDayOfMonth()+b,true)}catch(c){return false}};a.prototype.getDayOfWeek=function(){return this.getDate().getDay()+1};a.prototype.handlePattern=function(c){var a=new RegExp("y{3,4}"),b=a.test(c);if(b){this.descriptors.push(this.createDescriptor(10));return true}a=new RegExp("y{2,2}");b=a.test(c);if(b){this.descriptors.push(this.createDescriptor(2));return true}a=new RegExp("y{1,1}");b=a.test(c);if(b){this.descriptors.push(this.createDescriptor(1));return true}a=new RegExp("d{4,4}");b=a.test(c);if(b){this.descriptors.push(this.createDescriptor(101));return true}a=new RegExp("d{3,3}");b=a.test(c);if(b){this.descriptors.push(this.createDescriptor(100));return true}a=new RegExp("d{2,2}");b=a.test(c);if(b){this.descriptors.push(this.createDescriptor(30));return true}a=new RegExp("d{1,1}");b=a.test(c);if(b){this.descriptors.push(this.createDescriptor(31));return true}a=new RegExp("M{4,4}");b=a.test(c);if(b){this.descriptors.push(this.createDescriptor(27));return true}a=new RegExp("M{3,3}");b=a.test(c);if(b){this.descriptors.push(this.createDescriptor(26));return true}a=new RegExp("M{2,2}");b=a.test(c);if(b){this.descriptors.push(this.createDescriptor(20));return true}a=new RegExp("M{1,1}");b=a.test(c);if(b){this.descriptors.push(this.createDescriptor(25));return true}a=new RegExp("h{2,2}");b=a.test(c);if(b){this.descriptors.push(this.createDescriptor(46));return true}a=new RegExp("h{1,1}");b=a.test(c);if(b){this.descriptors.push(this.createDescriptor(45));return true}a=new RegExp("H{2,2}");b=a.test(c);if(b){this.descriptors.push(this.createDescriptor(48));return true}a=new RegExp("H{1,1}");b=a.test(c);if(b){this.descriptors.push(this.createDescriptor(47));return true}a=new RegExp("m{2,2}");b=a.test(c);if(b){this.descriptors.push(this.createDescriptor(50));return true}a=new RegExp("m{1,1}");b=a.test(c);if(b){this.descriptors.push(this.createDescriptor(51));return true}a=new RegExp("s{2,2}");b=a.test(c);if(b){this.descriptors.push(this.createDescriptor(60));return true}a=new RegExp("s{1,1}");b=a.test(c);if(b){this.descriptors.push(this.createDescriptor(61));return true}a=new RegExp("t{2,2}");b=a.test(c);if(b){this.descriptors.push(this.createDescriptor(251));return true}a=new RegExp("t{1,1}");b=a.test(c);if(b){this.descriptors.push(this.createDescriptor(250));return true}return false};a.prototype.createDescriptor=function(d,c){var a=null,b=this.maskPartsCount++;switch(d){case-1:a=new M(this,b);a.liternal=c;break;case 20:a=new w(this,b);break;case 25:a=new x(this,b);break;case 26:a=new y(this,b);break;case 27:a=new z(this,b);break;case 30:a=new A(this,b);break;case 31:a=new B(this,b);break;case 100:a=new r(this,b);break;case 101:a=new s(this,b);break;case 10:a=new v(this,b);break;case 1:a=new K(this,b);break;case 2:a=new L(this,b);break;case 45:a=new C(this,b);break;case 46:a=new D(this,b);break;case 47:a=new E(this,b);break;case 48:a=new F(this,b);break;case 250:a=new t(this,b);break;case 251:a=new u(this,b);break;case 50:a=new G(this,b);break;case 51:a=new H(this,b);break;case 60:a=new I(this,b);break;case 61:a=new J(this,b)}return a};a.prototype.toString=function(){if(this.inputWidget.options.showNullText&&!this.inputWidget.isFocused()&&this.inputWidget.isDateNull())return this.inputWidget.options.nullText;var d="",e=0,a,b,c;this.desPostions=new Array(0);for(a=0;a<this.descriptors.length;a++){this.descriptors[a].startIndex=d.length;b=""||this.descriptors[a].getText();d+=b;for(c=0;c<b.length;c++){this.desPostions.push({desc:this.descriptors[a],pos:c,text:b,length:b.length});e++;if(this.desPostions.length!==e)throw"Fatal Error !!!!!!!!!!!!!!!";}}return d};a.prototype.parseDate=function(b){var a;if(this.pattern==="dddd"||this.pattern==="ddd"||typeof b==="object")try{a=new Date(b);if(isNaN(a))a=new Date}catch(c){a=new Date}else{a=Globalize.parseDate(b,this.pattern,this._getCulture());if(!a)a=this._tryParseDate(b,this.pattern);if(!a)a=new Date}return a};a.prototype.set=function(a){this._internalSetDate(new Date(this.parseDate(a)));return true};a.prototype.haveEnumParts=function(){return false};a.prototype.removeLiterals=function(a){a=""+a+"";a=a.replace(new RegExp("[+]","g"),"");a=a.replace(new RegExp("[.]","g"),"");a=a.replace(new RegExp("[:]","g"),"");a=a.replace(new RegExp("[-]","g"),"");a=a.replace(new RegExp("[()=]","g"),"");return a};a.prototype.getFirstDelimiterPos=function(b,d){var c=0,a=0,e,f;while(c<d.length&&a<b.length){e=d.charAt(c);f=b.charAt(a);if(e===f)a++;else return a-1;c++}return b.length-1};a.prototype.findAlikeArrayItemIndex=function(d,f){for(var c=-1,e=99999,b,a=0;a<d.length;a++){b=d[a].toLowerCase().indexOf(f.toLowerCase());if(b!==-1&&b<e){e=b;c=a}}return c};a.prototype._isValidDate=function(a){return this.inputWidget._isValidDate(a)};a.prototype.isFieldSep=function(d,c){var b=c++,a;if(b<this.descriptors.length){a=this.descriptors[b];return a.type!==-1?false:d===a.text}return false};a.prototype.getPositionType=function(b){var a=this.desPostions[b];return a.desc.type};a.prototype.addToField=function(a,e){var f=this.fields[e],d,b,c;d=a;b={val:a,pos:0,offset:0,isreset:false};this.inputWidget.element.data("typing",true);c=f.setText(d,a.length===1?false:true,b);this.inputWidget.element.data("typing",false);return c};a.prototype.insertAt=function(c,k,b){if(typeof b==="undefined")b=new e.wijInputResult;b.testPosition=-1;var a,r,d,g,n,j,q,f,i,p,o,l,m,t,u,h,s;if(c.length===1){a=this.desPostions[k];if(a&&a.desc.type===-1)if(a.text===c){b.testPosition=k;b.hint=b.characterEscaped;return true}}r=c;d=k;c=this.removeLiterals(c);g=c;n=false;q=false;if(d>0&&g.length===1){d--;k=d;a=this.desPostions[d];n=true;if(a&&(a.desc.type===-1||a.desc.getText().length!==1)){k++;d++;n=false}}j=false;while(g.length>0&&d<this.desPostions.length){a=this.desPostions[d];if(a.desc.type===-1){d=d+a.length;continue}if(a.desc.needAdjustInsertPos()){f=g.substr(0,a.length-a.pos);f=a.text.slice(0,a.pos)+f+a.text.slice(a.pos+f.length,a.length);if(n)f=a.text+f;if(q)f=f+a.text;p=a.desc.getText().length;l="";try{if(c.length===1)if(!a.pos)l=c;else if(a.pos>0)l=f.substring(0,a.pos+1)}catch(v){}if(p===1&&f.length>1&&c.length===1)if(a.desc.type===31||a.desc.type===25)this._disableSmartInputMode=true;i={val:c,pos:a.pos,offset:0,isreset:false};j=a.desc.setText(f,c.length===1?false:true,i);this._disableSmartInputMode=false;if(!j&&typeof l!=="undefined"&&l.length>0&&(a.desc.type===26||a.desc.type===27||a.desc.type===100||a.desc.type===101||a.desc.type===250||a.desc.type===251))j=a.desc.setText(l,c.length===1?false:true,i);if(j){b.hint=b.success;b.testPosition=d+i.offset;if(c.length===1){m=a.desc.getText().length;o=a.pos;if(a.pos>m-1)o=m;t=m-p;if(t>0&&a.pos===p-1)o=m-1;u=this.toString();b.testPosition=a.desc.startIndex+o+i.offset}g=g.slice(a.length-a.pos,g.length)}else{b.hint=b.invalidInput;if(b.testPosition!==-1)b.testPosition=k;if(a.desc.type!==-1&&c.length===1)return false}d=d+a.length}else{h=this.getFirstDelimiterPos(g,r);if(h<0)h=0;f=g.substring(0,h+1);i={val:c,pos:a.pos,offset:0,isreset:false};j=a.desc.setText(f,c.length===1?false:true,i);if(j){b.hint=b.success;b.testPosition=d+i.offset;g=g.slice(h+1,g.length)}else{b.hint=b.invalidInput;if(b.testPosition!==-1)b.testPosition=k}if(h<0)h=0;s=h+1;d=d+s}}return j};a.prototype.removeAt=function(b,e,c){try{var a=this.desPostions[b],d,g,f,h,i=this.inputWidget,k=i.element,j=k.val().length;if(j===e+1&&b===0)i.isDeleteAll=true;if(a.desc.needAdjustInsertPos()){d="0";g=b;a.text=a.desc.getText();d=a.text.slice(0,a.pos)+d+a.text.slice(a.pos+d.length,a.length);f={val:d,pos:a.pos,offset:0,isreset:true,isfullreset:false};if(e-b+1>=a.length){f.isfullreset=true;b=b+a.length;g=b}h=a.desc.setText(d,false,f);if(h){c.hint=c.success;c.testPosition=g}else{c.hint=c.invalidInput;if(c.testPosition===-1)c.testPosition=b}}b<e&&this.removeAt(b+1,e,c);return true}catch(l){return false}};a.prototype.incEnumPart=function(){var a=this.fields[this.inputWidget.options.activeField];a&&a.inc();return true};a.prototype.decEnumPart=function(){var a=this.fields[this.inputWidget.options.activeField];a&&a.dec();return true};a.prototype.setValue=function(a){this.setDate(new Date(a instanceof Date?a.getTime():a));return true};a.prototype.getValue=function(){return this.getDate()};a.prototype._isSmartInputMode=function(){return this._disableSmartInputMode?false:this.inputWidget?this.inputWidget.options.smartInputMode:true};a.prototype._getInt=function(g,e,d,f){for(var a,c=f;c>=d;c--){a=g.substring(e,e+c);if(a.length<d)return null;if(b.wij.charValidator.isDigit(a))return a}return null};a.prototype._tryParseDate=function(e,a){var g=this._getCulture().calendars,d,c,f,b;a=a||g.standard.patterns.d;if(a){if(a.indexOf("MMM")===-1&&a.indexOf("MMMM")===-1)a=a.replace("MM","M");a=a.replace("dd","d");a=a.replace("tt","a")}d=a.replace("yyyy","yy");c=g.standard["/"];f=[a,d,a.replace(new RegExp(c,"g"),"-"),d.replace(new RegExp(c,"g"),"-"),a.replace(new RegExp(c,"g"),"."),d.replace(new RegExp(c,"g"),".")];b=Globalize.parseDate(e,f,this._getCulture());if(b)return b;b=new Date(e);return b.toString()!=="Invalid Date"&&e&&e!==""?b:0};a.prototype._formatDate=function(a,f,e){var b=this;if(!a.valueOf())return"&nbsp;";var d=this.inputWidget._getCulture().calendars.standard,g=f.replace(new RegExp("yyyy|MMMM|MMM|MM|M|mm|m|dddd|ddd|dd|d|hh|h|HH|H|ss|s|tt|t|a/p","gi"),function(g){var f;switch(g){case"yyyy":return c(a.getFullYear(),4);case"MMMM":return e.dateTimeFormat.monthNames[a.getMonth()];case"MMM":return e.dateTimeFormat.abbreviatedMonthNames[a.getMonth()];case"MM":return b.paddingZero(a.getMonth()+1,2);case"M":return b.paddingZero(a.getMonth()+1,1);case"mm":return b.paddingZero(a.getMinutes(),2);case"m":return b.paddingZero(a.getMinutes(),1);case"dddd":return e.dateTimeFormat.dayNames[a.getDay()];case"ddd":return e.dateTimeFormat.abbreviatedDayNames[a.getDay()];case"dd":return b.paddingZero(a.getDate(),2);case"d":return b.paddingZero(a.getDate(),1);case"hh":f=a.getHours()%12;return b.paddingZero(f?f:12,2);case"h":f=a.getHours()%12;return b.paddingZero(f?f:12,1);case"HH":return b.paddingZero(a.getHours(),2);case"H":return b.paddingZero(a.getHours(),1);case"ss":return b.paddingZero(a.getSeconds(),2);case"s":return b.paddingZero(a.getSeconds(),1);case"tt":return a.getHours()<12?d.AM[0]:d.PM[0];case"t":return a.getHours()<12?d.AM[0].length>0?d.AM[0].charAt(0):"":d.PM[0].length>0?d.PM[0].charAt(0):"";case"a/p":return a.getHours()<12?"a":"p"}return"N"});return g};return a}(e.wijTextProvider),a;(function(a){a._map=[];a.liternal=-1;a.OneDigitYear=1;a.TwoDigitYear=2;a.FourDigitYear=10;a.TwoDigitMonth=20;a.Month=25;a.AbbreviatedMonthNames=26;a.MonthNames=27;a.TwoDigityDayOfMonth=30;a.DayOfMonth=31;a.AbbreviatedDayNames=100;a.DayNames=101;a.h=45;a.hh=46;a.H=47;a.HH=48;a.ShortAmPm=250;a.AmPm=251;a.mm=50;a.m=51;a.ss=60;a.s=61})(a||(a={}));var d=function(){function b(b,c){this.id=c;this.startIndex=0;this.name=null;this.type=a.liternal;this.maxLen=2;this._txtProvider=b;this.startIndex=0}b.prototype.getText=function(){return null};b.prototype.setText=function(){return false};b.prototype.inc=function(){};b.prototype.dec=function(){};b.prototype.needAdjustInsertPos=function(){return true};b.prototype.reachMaxLen=function(){var a=this.getText();do if(a.charAt(0)==="0")a=a.slice(1);else break;while(a.length>0);return a.length>=this.maxLen};return b}(),M=function(b){__extends(a,b);function a(a,c){b.call(this,a,c);this.liternal="";this.maxLen=100}a.prototype.getText=function(){return this.liternal};return a}(d),g=function(b){__extends(a,b);function a(a,c){b.call(this,a,c)}a.prototype.inc=function(){this._txtProvider.setMonth(this._txtProvider.getMonth()+1,true)};a.prototype.dec=function(){this._txtProvider.setMonth(this._txtProvider.getMonth()-1,true)};a.prototype.setText=function(c,a,b){return this._txtProvider.setMonth(c,a,b)};return a}(d),w=function(c){__extends(b,c);function b(b,d){c.call(this,b,d);this.name="Two-digit month";this.type=a.TwoDigitMonth}b.prototype.getText=function(){var a=""+this._txtProvider.getMonth()+"";return a.length===1?"0"+a:a};return b}(g),x=function(c){__extends(b,c);function b(b,d){c.call(this,b,d);this.name="month";this.type=a.Month}b.prototype.getText=function(){return""+this._txtProvider.getMonth()+""};return b}(g),y=function(c){__extends(b,c);function b(b,d){c.call(this,b,d);this.name="AbbreviatedMonthNames";this.type=a.AbbreviatedMonthNames;this.maxLen=a.AbbreviatedMonthNames}b.prototype.getText=function(){var b=this._txtProvider.getMonth(),a=this._txtProvider._getCulture();return a.calendars.standard.months.namesAbbr[b-1]};b.prototype.setText=function(d,b,c){var a=-1,e=this._txtProvider.inputWidget._getCulture().calendars.standard;a=this._txtProvider.findAlikeArrayItemIndex(e.months.namesAbbr,d);return a===-1?false:this._txtProvider.setMonth(a+1,b,c)};return b}(g),z=function(c){__extends(b,c);function b(b,d){c.call(this,b,d);this.name="MonthNames";this.type=a.MonthNames;this.maxLen=100}b.prototype.getText=function(){var b=this._txtProvider.getMonth(),a=this._txtProvider._getCulture();return a.calendars.standard.months.names[b-1]};b.prototype.setText=function(e,d,b){var a=-1,c;if(b&&b.isfullreset)a=1;else{c=this._txtProvider._getCulture();a=this._txtProvider.findAlikeArrayItemIndex(c.calendars.standard.months.names,e);if(a===-1)return false}return this._txtProvider.setMonth(a+1,d,b)};return b}(g),f=function(b){__extends(a,b);function a(a,c){b.call(this,a,c)}a.prototype.inc=function(){this._txtProvider.setDayOfMonth(this._txtProvider.getDayOfMonth()+1,true)};a.prototype.dec=function(){this._txtProvider.setDayOfMonth(this._txtProvider.getDayOfMonth()-1,true)};a.prototype.setText=function(c,a,b){return this._txtProvider.setDayOfMonth(c,a,b)};return a}(d),A=function(d){__extends(b,d);function b(b,c){d.call(this,b,c);this.name="Two-digit day of month";this.type=a.TwoDigityDayOfMonth}b.prototype.getText=function(){return c(this._txtProvider.getDayOfMonth())};return b}(f),B=function(c){__extends(b,c);function b(b,d){c.call(this,b,d);this.name="Day of month";this.type=a.DayOfMonth}b.prototype.getText=function(){var a=this._txtProvider.getDayOfMonth();return""+a+""};return b}(f),r=function(c){__extends(b,c);function b(b,d){c.call(this,b,d);this.name="AbbreviatedDayNames";this.type=a.AbbreviatedDayNames;this.maxLen=100}b.prototype.getText=function(){var b=this._txtProvider.getDayOfWeek(),a=this._txtProvider._getCulture();return a.calendars.standard.days.namesShort[b-1]};b.prototype.setText=function(c){var a=-1,b=this._txtProvider._getCulture();a=this._txtProvider.findAlikeArrayItemIndex(b.calendars.standard.days.namesShort,c);return a===-1?false:this._txtProvider.setDayOfWeek(a+1)};b.prototype.needAdjustInsertPos=function(){return false};return b}(f),s=function(c){__extends(b,c);function b(b,d){c.call(this,b,d);this.name="DayNames";this.type=a.DayNames;this.maxLen=100}b.prototype.getText=function(){var b=this._txtProvider.getDayOfWeek(),a=this._txtProvider._getCulture();return a.calendars.standard.days.names[b-1]};b.prototype.setText=function(c){var a=-1,b=this._txtProvider._getCulture();a=this._txtProvider.findAlikeArrayItemIndex(b.calendars.standard.days.names,c);return a===-1?false:this._txtProvider.setDayOfWeek(a+1)};b.prototype.needAdjustInsertPos=function(){return false};return b}(f),k=function(b){__extends(a,b);function a(a,c){b.call(this,a,c)}a.prototype.inc=function(){this._txtProvider.setYear(this._txtProvider.getYear()+1,null,true)};a.prototype.dec=function(){this._txtProvider.setYear(this._txtProvider.getYear()-1,null,true)};return a}(d),v=function(d){__extends(b,d);function b(b,c){d.call(this,b,c);this.name="Four-digit year";this.type=a.FourDigitYear;this.maxLen=4}b.prototype.getText=function(){return c(this._txtProvider.getYear(),4)};b.prototype.setText=function(k,l,a){if(this._txtProvider._isSmartInputMode()&&a){var e=2e3,f,d,j,b,g,c,h,i;if(this._txtProvider.inputWidget.options.startYear)e=this._txtProvider.inputWidget.options.startYear;d=e+100-1;f=this._txtProvider.paddingZero(e,4);d=this._txtProvider.paddingZero(d,4);if(a.pos===0||a.pos===1){j=new Date;b=this._txtProvider.paddingZero(this._txtProvider.getYear(),4);if(b.charAt(0)==="0"&&b.charAt(1)==="0"&&a.pos<=1){g=a.val;c="00";if(g>=5)c=f.slice(0,2);else c=d.slice(0,2);h=a.val+b.slice(3,4);i=c+h;a.offset=2-a.pos;this._txtProvider.setYear(i,a);return true}}}return this._txtProvider.setYear(k,a)};return b}(k),i=function(b){__extends(a,b);function a(a,c){b.call(this,a,c)}a.prototype.setText=function(a,j,i){a=c(a);var b=c(this._txtProvider.getYear(),4),g,d,f,e,h;if(a==="00"){g=this._txtProvider.getMonth();d=this._txtProvider.getDayOfMonth();f=this._txtProvider.getHours();e=this._txtProvider.getMinutes();h=this._txtProvider.getSeconds();if(g===1&&d===1&&!f&&!e&&!h){b="0001";a="01"}}if(b.length>=2)b=b.substr(0,2)+a.substr(0,2);return this._txtProvider.setYear(b,i)};return a}(k),K=function(d){__extends(b,d);function b(b,c){d.call(this,b,c);this.name="One-digit year";this.type=a.OneDigitYear}b.prototype.getText=function(){var a=c(this._txtProvider.getYear());if(a[0]==="0")a=a[1];return a};return b}(i),L=function(d){__extends(b,d);function b(b,c){d.call(this,b,c);this.name="Two-digit year";this.type=a.TwoDigitYear}b.prototype.getText=function(){return c(this._txtProvider.getYear(),2)};return b}(i),o=function(b){__extends(a,b);function a(a,c){b.call(this,a,c)}a.prototype.inc=function(){this._txtProvider.setHours(this._txtProvider.getHours()+1,true)};a.prototype.dec=function(){this._txtProvider.setHours(this._txtProvider.getHours()-1,true)};return a}(d),j=function(b){__extends(a,b);function a(a,c){b.call(this,a,c)}a.prototype.setText=function(a,b){var c=this._txtProvider.getHours();if(c>12)a=a*1+12;return this._txtProvider.setHours(a,b)};return a}(o),C=function(c){__extends(b,c);function b(b,d){c.call(this,b,d);this.name="h";this.type=a.h}b.prototype.getText=function(){var a=this._txtProvider.getHours();if(a>12)a=a-12;else if(a===0)a=12;return""+a+""};return b}(j),D=function(d){__extends(b,d);function b(b,c){d.call(this,b,c);this.name="hh";this.type=a.hh}b.prototype.getText=function(){var a=this._txtProvider.getHours();if(a>12)a-=12;else if(a===0)return"12";return c(a)};return b}(j),h=function(b){__extends(a,b);function a(a,c){b.call(this,a,c)}a.prototype.setText=function(b,a){return this._txtProvider.setHours(b,a)};return a}(o),E=function(c){__extends(b,c);function b(b,d){c.call(this,b,d);this.name="H";this.type=a.H}b.prototype.getText=function(){var a=this._txtProvider.getHours();return""+a+""};return b}(h),F=function(d){__extends(b,d);function b(b,c){d.call(this,b,c);this.name="HH";this.type=a.HH}b.prototype.getText=function(){return c(this._txtProvider.getHours())};return b}(h),n=function(b){__extends(a,b);function a(a,c){b.call(this,a,c)}a.prototype.inc=function(){var a=(this._txtProvider.getHours()+12)%24;this._txtProvider.setHours(a,true)};a.prototype.dec=function(){var a=(this._txtProvider.getHours()+12)%24;this._txtProvider.setHours(a,true)};a.prototype.setText=function(b){var a;if(b.toLowerCase().indexOf("a")>=0){a=this._txtProvider.getHours()%12;this._txtProvider.setHours(a,true)}else if(b.toLowerCase().indexOf("p")>=0){a=this._txtProvider.getHours()%12+12;this._txtProvider.setHours(a,true)}return true};return a}(d),t=function(c){__extends(b,c);function b(b,d){c.call(this,b,d);this.name="t";this.type=a.ShortAmPm}b.prototype.getText=function(){var c=this._txtProvider.getHours(),b=this._txtProvider._getCulture(),a=b.calendars.standard[c<12?"AM":"PM"][0];return a.charAt(0)||" "};return b}(n),u=function(c){__extends(b,c);function b(b,d){c.call(this,b,d);this.name="tt";this.type=a.AmPm}b.prototype.getText=function(){var c=this._txtProvider.getHours(),a="",b=this._txtProvider._getCulture();if(c<12)a=b.calendars.standard.AM[0];else a=b.calendars.standard.PM[0];if(a.length<=0)a=" ";return a};return b}(n),l=function(b){__extends(a,b);function a(a,c){b.call(this,a,c);this.delta=1}a.prototype.inc=function(){this._txtProvider.setMinutes(this._txtProvider.getMinutes()+this.delta,true)};a.prototype.dec=function(){this._txtProvider.setMinutes(this._txtProvider.getMinutes()-this.delta,true)};a.prototype.setText=function(b,c,a){if(a&&a.isfullreset)b="0";return this._txtProvider.setMinutes(b,c)};return a}(d),G=function(d){__extends(b,d);function b(b,c){d.call(this,b,c);this.name="mm";this.type=a.mm}b.prototype.getText=function(){return c(this._txtProvider.getMinutes())};return b}(l),H=function(c){__extends(b,c);function b(b,d){c.call(this,b,d);this.name="m";this.type=a.m;this.delta=12}b.prototype.getText=function(){return this._txtProvider.getMinutes().toString()};return b}(l),m=function(b){__extends(a,b);function a(a,c){b.call(this,a,c)}a.prototype.inc=function(){this._txtProvider.setSeconds(this._txtProvider.getSeconds()+12,true)};a.prototype.dec=function(){this._txtProvider.setSeconds(this._txtProvider.getSeconds()-12,true)};a.prototype.setText=function(b,c,a){if(a&&a.isfullreset)b="0";return this._txtProvider.setSeconds(b,c)};return a}(d),I=function(d){__extends(b,d);function b(b,c){d.call(this,b,c);this.name="ss";this.type=a.ss}b.prototype.getText=function(){return c(this._txtProvider.getSeconds())};return b}(m),J=function(c){__extends(b,c);function b(b,d){c.call(this,b,d);this.name="s";this.type=a.s}b.prototype.getText=function(){return this._txtProvider.getSeconds().toString()};return b}(m)})(wijmo||(wijmo={}));;
/*
 *
 * Wijmo Library 2.3.7
 * http://wijmo.com/
 *
 * Copyright(c) GrapeCity, Inc.  All rights reserved.
 * 
 * Licensed under the Wijmo Commercial License. Also available under the GNU GPL Version 3 license.
 * licensing@wijmo.com
 * http://wijmo.com/widgets/license/
 *
 *
 **/
var __extends=this.__extends||function(b,c){function a(){this.constructor=b}a.prototype=c.prototype;b.prototype=new a},wijmo;(function(c){"use strict";var b=jQuery,a;(function(a){a._map=[];a.editOptional=1;a.editRequired=2;a.separator=4;a.literal=8})(a||(a={}));var d=function(b){__extends(a,b);function a(){b.apply(this,arguments)}a.prototype._createTextProvider=function(){this._textProvider=new e(this,this.options.mask,false)};a.prototype._checkMaskAndPassword=function(){var a=!this.options.mask||this.options.mask.length<0;if(a&&this._isPassword())throw'Option "passwordChar" requires a mask';};a.prototype._updateIsPassword=function(){var a=this.options.passwordChar.length>0&&this.element.attr("type")!=="password";this.element.data("isPassword",a);this._checkMaskAndPassword()};a.prototype._beginUpdate=function(){this.element.addClass("wijmo-wijinput-mask");this._updateIsPassword();this.element.data("defaultText",this.options.text)};a.prototype._setOption=function(c,a){b.prototype._setOption.call(this,c,a);switch(c){case"text":this.setText(a);break;case"mask":case"culture":if(typeof a==="undefined"||a.length<=0)return;this._checkMaskAndPassword();var d=this.getText();if(c==="mask"){this._textProvider.mask=a;this._textProvider.initialMask=a}this._textProvider.initialize();this._textProvider.set(d);this._updateText();break;case"promptChar":if(this._textProvider){this._textProvider.updatePromptChar();this._updateText()}break;case"hidePromptOnLeave":case"resetOnPrompt":this._updateText();break;case"passwordChar":this._updateIsPassword();this._updateText()}};a.prototype._resetData=function(){var a=this.element.data("defaultText");if(a===undefined||a===null)a=this.element.data("elementValue");if(a===undefined||a===null)a="";this.setText(a)};a.prototype._isPassword=function(){return!!this.element.data("isPassword")};a.prototype._getTextWithPrompts=function(){return!this._isInitialized()?this.element.val():this._textProvider.toString(true,true,false)};a.prototype._getTextWithLiterals=function(){return!this._isInitialized()?this.element.val():this._textProvider.toString(true,false,true)};a.prototype._getTextWithPromptAndLiterals=function(){return!this._isInitialized()?this.element.val():this._textProvider.toString(true,true,true)};a.prototype._getTextWithPromptAndLiteralsAndPassword=function(){return!this._isInitialized()?this.element.val():this._textProvider.toString(false,true,true)};a.prototype._onChange=function(){if(!this.element)return;var a=this.element.val(),b=this.getText();this.getText()!==a&&this._getTextWithPrompts()!==a&&this._getTextWithPromptAndLiterals()!==a&&this._getTextWithPromptAndLiteralsAndPassword()!==a&&this.setText(a)};a.prototype._afterFocused=function(){(this._isNullText()||!!this.options.hidePromptOnLeave)&&this._doFocus()};return a}(c.wijinputcore);d.prototype.options=b.extend(true,{},b.Widget.prototype.options,c.wijinputcore.prototype.options,{text:null,mask:"",promptChar:"_",hidePromptOnLeave:false,resetOnPrompt:true,allowPromptAsInput:false,passwordChar:"",resetOnSpace:true,skipLiterals:true});b.widget("wijmo.wijinputmask",d.prototype);var e=function(e){__extends(d,e);function d(a,c,b){e.call(this);this.inputWidget=a;this.mask=c;this.asciiOnly=b;this.testString="";this.assignedCharCount=0;this.requiredCharCount=0;this.noMask=false;this.descriptors=[];this.initialize()}d.prototype.initialize=function(){this.noMask=!this.mask||this.mask.length<=0;if(this.noMask)return;this.testString="";this.assignedCharCount=0;this.requiredCharCount=0;this.descriptors=new Array(0);for(var i="none",m=false,o=0,l,b,c=a.literal,d="",g,n,e,j,h=this.inputWidget._getCulture(),k=0;k<this.mask.length;k++){b=false;g=this.mask.charAt(k);if(m){m=false;b=true}if(!b){e=g;if(e<="C"){switch(e){case"#":case"9":case"?":case"C":g=this.getPromtChar();c=a.editOptional;b=true;break;case"$":d=h.numberFormat.currency.symbol;c=a.separator;b=true;break;case"%":case"-":case";":case"=":case"@":case"B":c=a.literal;b=true;break;case"&":case"0":case"A":g=this.getPromtChar();c=a.editRequired;b=true;break;case",":d=h.numberFormat[","];c=a.separator;b=true;break;case".":d=h.numberFormat["."];c=a.separator;b=true;break;case"/":d=h.calendars.standard["/"];c=a.separator;b=true;break;case":":d=h.calendars.standard[":"];c=a.separator;b=true;break;case"<":i="lower";continue;case">":i="upper";continue}if(!b){c=a.literal;b=true}}if(!b){if(e<="\\"){switch(e){case"L":g=this.getPromtChar();c=a.editRequired;b=true;break;case"\\":m=true;c=a.literal;continue}if(!b){c=a.literal;b=true}}if(!b){if(e==="a"){g=this.getPromtChar();c=a.editOptional;b=true}if(!b){if(e!=="|"){c=a.literal;b=true}if(!b){i="none";continue}}}}}if(b){j=new f(k,c);if(this.isEditDesc(j))j.caseConversion=i;if(c!==a.separator)d=g;for(l=0;l<d.length;l++){n=d.charAt(l);this.testString=this.testString+n;this.descriptors[this.descriptors.length]=j;o++}}}this.testString.Capacity=this.testString.length};d.prototype.getAllowPromptAsInput=function(){return!!this.inputWidget?this.inputWidget.options.allowPromptAsInput:false};d.prototype.getPasswordChar=function(){return!!this.inputWidget?this.inputWidget.options.passwordChar:"*"};d.prototype.isPassword=function(){return!!this.inputWidget?this.inputWidget._isPassword():false};d.prototype.getResetOnPrompt=function(){return!!this.inputWidget?this.inputWidget.options.resetOnPrompt:true};d.prototype.getResetOnSpace=function(){return!!this.inputWidget?this.inputWidget.options.resetOnSpace:true};d.prototype.getSkipLiterals=function(){return!!this.inputWidget?this.inputWidget.options.skipLiterals:true};d.prototype.getHidePromptOnLeave=function(){return!!this.inputWidget?this.inputWidget.options.hidePromptOnLeave:false};d.prototype._trueOR=function(a,b){return(a>>>1|b>>>1)*2+(a&1|b&1)};d.prototype.setValue=function(){return false};d.prototype.getValue=function(){return null};d.prototype.getPromtChar=function(){return!!this.inputWidget?this.inputWidget.options.promptChar:"_"};d.prototype.updatePromptChar=function(){if(this.noMask)return;for(var c,d=0;d<this.descriptors.length;d++){c=this.descriptors[d];if(c.charType===a.editOptional||c.charType===a.editRequired)if(!c.isAssigned)this.testString=b.wij.charValidator.setChar(this.testString,this.getPromtChar(),d)}};d.prototype.resetChar=function(c){var d=this.descriptors[c];if(this.isEditPos(c)&&d.isAssigned){d.isAssigned=false;this.testString=b.wij.charValidator.setChar(this.testString,this.getPromtChar(),c);this.assignedCharCount--;if(d.charType===a.editRequired)this.requiredCharCount--}};d.prototype.getAdjustedPos=function(a){if(this.noMask){if(a>=this.testString.length)a=this.testString.length-1}else if(a>=this.descriptors.length)a=a-1;return Math.max(0,a)};d.prototype.incEnumPart=function(){return!this.noMask};d.prototype.decEnumPart=function(){return!this.noMask};d.prototype.findNonEditPositionInRange=function(c,d,b){return this.findPositionInRange(c,d,b,this._trueOR(a.literal,a.separator))};d.prototype.findPositionInRange=function(a,b,e,f){a=Math.max(0,a);b=Math.min(b,this.testString.length-1);if(a<=b)while(a<=b){var c=e?a++:b--,d=this.descriptors[c];if((d.charType&4294967295&f&4294967295)===d.charType)return c}return-1};d.prototype.findAssignedEditPositionInRange=function(c,d,b){return this.assignedCharCount===0?-1:this.findEditPositionInRange(c,d,b,a.editRequired)};d.prototype.findEditPositionInRange=function(c,d,f,g){do{var b,e;b=this.findPositionInRange(c,d,f,this._trueOR(a.editRequired,a.editOptional));if(b===-1)break;e=this.descriptors[b];switch(g){case a.editOptional:if(!e.isAssigned)return b;break;case a.editRequired:if(e.isAssigned)return b;break;default:return b}if(f)c++;else d--}while(c<=d);return-1};d.prototype.findAssignedEditPositionFrom=function(d,c){if(!this.assignedCharCount)return-1;var a,b;if(c){a=d;b=this.testString.length-1}else{a=0;b=d}return this.findAssignedEditPositionInRange(a,b,c)};d.prototype.findEditPositionFrom=function(d,c){var a,b;if(c){a=d;b=this.testString.length-1}else{a=0;b=d}return this.findEditPositionInRange(a,b,c,0)};d.prototype.setChar=function(c,e,d){e=e<0?0:e;if(!d)d=this.descriptors[e];if(this.testEscapeChar(c,e,d))this.resetChar(e);else{if(b.wij.charValidator.isLetter(c))if(b.wij.charValidator.isUpper(c)){if(d.caseConversion==="lower")c=c.toLowerCase()}else if(d.caseConversion==="upper")c=c.toUpperCase();this.testString=b.wij.charValidator.setChar(this.testString,c,e);if(!d.isAssigned){d.isAssigned=true;this.assignedCharCount++;if(d.charType===a.editRequired)this.requiredCharCount++}}};d.prototype.internalInsertAt=function(i,f,a,l){if(i.length===0){a.testPosition=f;a.hint=a.noEffect;return true}if(!this._testString(i,f,a))return false;var b=this.findEditPositionFrom(f,true),h=this.findAssignedEditPositionInRange(b,a.testPosition,true)!==-1,m=this.findAssignedEditPositionFrom(this.testString.length-1,false),d,e,g,k,j;if(h&&a.testPosition===this.testString.length-1){a.hint=a.unavailableEditPosition;a.testPosition=this.testString.length;return false}d=this.findEditPositionFrom(a.testPosition+1,true);if(h){e=new c.wijInputResult;e.hint=e.unknown;g=true;while(g){g=false;if(d===-1){a.hint=a.unavailableEditPosition;a.testPosition=this.testString.length;return false}k=this.descriptors[b];if(k.isAssigned&&!this.testChar(this.testString.charAt(b),d,e)){a.hint=e.hint;a.testPosition=d;return false}if(b!==m){b=this.findEditPositionFrom(b+1,true);d=this.findEditPositionFrom(d+1,true);g=true;continue}}if(e.hint>a.hint)a.hint=e.hint}if(!l){if(h)while(b>=f){j=this.descriptors[b];if(j.isAssigned)this.setChar(this.testString.charAt(b),d);else this.resetChar(d);d=this.findEditPositionFrom(d-1,false);b=this.findEditPositionFrom(b-1,false)}this.setString(i,f)}return true};d.prototype.insertAt=function(d,a,b){if(typeof b==="undefined")b=new c.wijInputResult;if(d===undefined)throw"InsertAt: input";if(this.noMask){this.testString=this.testString.substring(0,a)+d+this.testString.substring(a,this.testString.length);b.testPosition=a+d.length-1;return true}if(a>=0&&a<this.testString.length)return this.internalInsertAt(d,a,b,false);b.testPosition=a;b.hint=b.positionOutOfRange;return false};d.prototype.clear=function(a){if(this.noMask){this.testString="";a.hint=a.success;return}if(!this.assignedCharCount)a.hint=a.noEffect;else{a.hint=a.success;for(var b=0;b<this.testString.length;b++)this.resetChar(b)}};d.prototype.isLiteral=function(b){return!b?false:b.charType!==a.literal?b.charType===a.separator:true};d.prototype.testEscapeChar=function(b,a,c){a=a<0?0:a;if(!c)c=this.descriptors[a];return this.isLiteral(c)?this.getSkipLiterals()?b===this.testString.charAt(a):false:(!this.getResetOnPrompt()||b!==this.getPromtChar())&&(!this.getResetOnSpace()||b!==" ")?false:true};d.prototype.testChar=function(c,e,a){if(!b.wij.charValidator.isPrintableChar(c)){a.hint=a.invalidInput;return false}var d=this.descriptors[e];if(!d)return false;if(this.isLiteral(d)){if(this.getSkipLiterals()&&c===this.testString.charAt(e)){a.hint=a.characterEscaped;return true}a.hint=a.nonEditPosition;return false}if(c===this.getPromtChar()){if(this.getResetOnPrompt()){if(this.isEditDesc(d)&&d.isAssigned)a.hint=a.sideEffect;else a.hint=a.characterEscaped;return true}if(!this.getAllowPromptAsInput()){a.hint=a.promptCharNotAllowed;return false}}if(c===" "&&this.getResetOnSpace()){if(this.isEditDesc(d)&&d.isAssigned)a.hint=a.sideEffect;else a.hint=a.characterEscaped;return true}switch(this.mask.charAt(d.maskPosition)){case"L":if(!b.wij.charValidator.isLetter(c)){a.hint=a.letterExpected;return false}if(!b.wij.charValidator.isAsciiLetter(c)&&this.asciiOnly){a.hint=a.asciiCharacterExpected;return false}break;case"a":if(!b.wij.charValidator.isAlphanumeric(c)&&c!==" "){a.hint=a.alphanumericCharacterExpected;return false}if(!b.wij.charValidator.isAciiAlphanumeric(c)&&this.asciiOnly){a.hint=a.asciiCharacterExpected;return false}break;case"?":if(!b.wij.charValidator.isLetter(c)&&c!==" "){a.hint=a.letterExpected;return false}if(b.wij.charValidator.isAsciiLetter(c)||!this.asciiOnly)break;a.hint=a.asciiCharacterExpected;return false;case"A":if(!b.wij.charValidator.isAlphanumeric(c)){a.hint=a.alphanumericCharacterExpected;return false}if(b.wij.charValidator.isAciiAlphanumeric(c)||!this.asciiOnly)break;a.hint=a.asciiCharacterExpected;return false;case"C":if(!b.wij.charValidator.isAscii(c)&&this.asciiOnly&&c!==" "){a.hint=a.asciiCharacterExpected;return false}break;case"9":if(!b.wij.charValidator.isDigit(c)&&c!==" "){a.hint=a.digitExpected;return false}break;case"#":if(!b.wij.charValidator.isDigit(c)&&c!=="-"&&c!=="+"&&c!==" "){a.hint=a.digitExpected;return false}break;case"&":if(!b.wij.charValidator.isAscii(c)&&this.asciiOnly){a.hint=a.asciiCharacterExpected;return false}break;case"0":if(!b.wij.charValidator.isDigit(c)){a.hint=a.digitExpected;return false}}if(c===this.testString.charAt(e)&&d.isAssigned)a.hint=a.noEffect;else a.hint=a.success;return true};d.prototype._testString=function(e,g,a){a.hint=a.unknown;a.testPosition=g;if(e.length){var b=new c.wijInputResult,d,f;b.testPosition=a.testPosition;b.hint=a.hint;for(d=0;d<e.length;d++){f=e.charAt(d);if(a.testPosition>this.testString.length){a.hint=a.unavailableEditPosition;return false}if(!this.testEscapeChar(f,a.testPosition)){a.testPosition=this.findEditPositionFrom(a.testPosition,true);if(a.testPosition===-1){a.testPosition=this.testString.length;a.hint=a.unavailableEditPosition;return false}}if(!this.testChar(f,a.testPosition,b)){a.hint=b.hint;return false}if(b.hint>a.hint)a.hint=b.hint;a.testPosition+=1;if(a.testPosition===this.testString.length)break}a.testPosition-=1}return true};d.prototype.set=function(b,a){if(typeof a==="undefined")a=new c.wijInputResult;if(b===undefined)throw"SetFromPos: input parameter is null or undefined.";a.hint=a.unknown;a.testPosition=0;if(!b.length){this.clear(a);return true}if(this.noMask){this.testString=b;return true}if(!this.testSetString(b,a.testPosition,a))return false;var d=this.findAssignedEditPositionFrom(a.testPosition+1,true);d!==-1&&this.resetString(d,this.testString.length-1);return true};d.prototype.resetString=function(a,b){if(this.noMask){this.testString="";return}a=this.findAssignedEditPositionFrom(a,true);if(a!==-1){b=this.findAssignedEditPositionFrom(b,false);while(a<=b){a=this.findAssignedEditPositionFrom(a,true);this.resetChar(a);a++}}};d.prototype.setString=function(d,a){for(var b,c=0;c<d.length;c++){b=d.charAt(c);if(!this.testEscapeChar(b,a))a=this.findEditPositionFrom(a,true);if(a<0||a>=this.testString.length)return;this.setChar(b,a);a++}};d.prototype.testSetString=function(a,b,c){if(a.length>this.testString.length)a=a.substring(0,this.testString.length);if(this._testString(a,b,c)){this.setString(a,b);return true}return false};d.prototype.toString=function(f,i,h,d,e){var k=this.inputWidget.options.text||"",o,n,l,p,c,q,j,g,m;k=b.trim(k);if(this.inputWidget.options.showNullText&&!this.inputWidget.isFocused()&&(k===""||k===this.inputWidget.options.nullText))return this.inputWidget.options.nullText;f=f===undefined?!this.isPassword():f;i=i===undefined?this.getHidePromptOnLeave()?this.inputWidget.isFocused():true:i;h=h===undefined?true:h;if(this.noMask){if(!f){o="";for(n=0;n<this.testString.length;n++)o+=this.getPasswordChar();return o}return this.testString}d=d===undefined?0:d;e=e===undefined?this.testString.length:e;if(e<=0)return"";if(d<0)d=0;if(d>=this.testString.length)return"";l=this.testString.length-d;if(e>l)e=l;if((!this.isPassword()||f)&&i&&h){p=this.testString.substring(d,e-d);return p}c="";q=d+e-1;for(j=d;j<=q;j++){g=this.testString.charAt(j);m=this.descriptors[j];switch(m.charType){case a.editOptional:case a.editRequired:if(!m.isAssigned)break;if(!this.isPassword()||f){c=c+g;continue}c=c+this.getPasswordChar();continue;case a.editRequired|a.editOptional:c=c+g;continue;case a.separator:case a.literal:if(!h)continue;c=c+g;continue;default:c=c+g;continue}if(i){c=c+g;continue}c=c+" ";continue}return c};d.prototype.isEditDesc=function(b){return this.noMask?true:b.charType!==a.editRequired?b.charType===a.editOptional:true};d.prototype.isEditPos=function(a){if(this.noMask)return true;if(a<0||a>=this.testString.length)return false;var b=this.descriptors[a];return this.isEditDesc(b)};d.prototype.internalRemoveAt=function(e,f,d,j){if(typeof j==="undefined")j=false;if(this.noMask){try{this.testString=this.testString.substring(0,e)+this.testString.substring(f+1,this.testString.length);d.testPosition=e}catch(r){}return true}var o=new c.wijInputResult,l,k,b,n,a,p,h,q,g,m,i=this.findAssignedEditPositionFrom(this.testString.length-1,false);b=this.findEditPositionInRange(e,f,true,0);d.hint=d.noEffect;if(b===-1||b>i){d.testPosition=e;return true}d.testPosition=e;n=f<i;if(this.findAssignedEditPositionInRange(e,f,true)!==-1)d.hint=d.success;if(n){a=this.findEditPositionFrom(f+1,true);p=a;e=b;h=true;while(h){h=false;l=this.testString.charAt(a);q=this.descriptors[a];if((l!==this.getPromtChar()||q.isAssigned)&&!this.testChar(l,b,o)){d.hint=o.hint;d.testPosition=b;return false}if(a!==i){a=this.findEditPositionFrom(a+1,true);b=this.findEditPositionFrom(b+1,true);h=true;continue}}if(d.sideEffect>d.hint)d.hint=d.sideEffect;if(j)return true;a=p;b=e;g=true;while(g){g=false;k=this.testString.charAt(a);m=this.descriptors[a];if(k===this.getPromtChar()&&!m.isAssigned)this.resetChar(b);else{this.setChar(k,b);this.resetChar(a)}if(a!==i){a=this.findEditPositionFrom(a+1,true);b=this.findEditPositionFrom(b+1,true);g=true;continue}}e=b+1}e<=f&&this.resetString(e,f);return true};d.prototype.removeAt=function(d,b,a){if(typeof b==="undefined")b=d;if(typeof a==="undefined")a=new c.wijInputResult;if(b>=this.testString.length){a.testPosition=b;a.hint=a.positionOutOfRange;return false}if(d>=0&&d<=b)return this.internalRemoveAt(d,b,a,false);a.testPosition=d;a.hint=a.positionOutOfRange;return false};return d}(c.wijTextProvider),f=function(){function a(b,a){this.maskPos=b;this.charType=a;this.caseConversion="none";this.isAssigned=false;this.maskPosition=0;this.maskPosition=b;this.charType=a}return a}()})(wijmo||(wijmo={}));;
/*
 *
 * Wijmo Library 2.3.7
 * http://wijmo.com/
 *
 * Copyright(c) GrapeCity, Inc.  All rights reserved.
 * 
 * Licensed under the Wijmo Commercial License. Also available under the GNU GPL Version 3 license.
 * licensing@wijmo.com
 * http://wijmo.com/widgets/license/
 *
 *
 **/
var __extends=this.__extends||function(b,c){function a(){this.constructor=b}a.prototype=c.prototype;b.prototype=new a},wijmo;(function(a){"use strict";var b=jQuery,d=function(d){__extends(c,d);function c(){d.apply(this,arguments)}c.prototype._createTextProvider=function(){this._textProvider=new e(this,this.options.type);this._textProvider._nullvalue=this.element.val()===""&&this.options.value===null};c.prototype._beginUpdate=function(){var a=this.options;this.element.addClass("wijmo-wijinput-numeric");this.element.data({defaultValue:a.value,preValue:a.value}).attr({"aria-valuemin":a.minValue,"aria-valuemax":a.maxValue,"aria-valuenow":a.value||0})};c.prototype._setOption=function(b,a){d.prototype._setOption.call(this,b,a);switch(b){case"minValue":this.element.attr("aria-valuemin",a);this._updateText();break;case"maxValue":this.element.attr("aria-valuemax",a);this._updateText();break;case"value":this.setValue(a);this._updateText();break;case"showGroup":case"decimalPlaces":case"culture":this._textProvider.updateStringFormat();this._updateText()}};c.prototype._setData=function(a){this.setValue(a)};c.prototype._resetData=function(){var a=this.element.data("defaultValue");if(a===undefined||a===null){a=this.element.data("elementValue");if(a===undefined||a===null&&a==="")a=0}this.setValue(a)};c.prototype._validateData=function(){!this._textProvider.checkAndRepairBounds(true,false)&&this._updateText()};c.prototype._raiseDataChanged=function(){var a=this.options.value,b=this.element.data("preValue");this.element.data("preValue",a);if(b!==a){this.element.attr("aria-valuenow",a);this._trigger("valueChanged",null,{value:a})}};c.prototype.getValue=function(){var a=this._textProvider.getValue();if(a===undefined||a===null)a=this.getText();return a};c.prototype.setValue=function(a,b){if(typeof b==="undefined")b=false;try{b=!!b;if(typeof a==="boolean")a=a?"1":"0";else if(typeof a==="string")a=this._textProvider.tryParseValue(a);if(this._textProvider.setValue(a))this._updateText();else if(b){var c="",d;c=this.getText();this.setText(a);a=a.trim();d=this.getText().trim();d!==a&&this.setText(c)}else this.setText(a);return true}catch(e){return false}};c.prototype.isValueNull=function(){try{return this._textProvider.isValueNull()}catch(a){return true}};c.prototype.getPostValue=function(){if(!this._isInitialized())return this.element.val();if(this.options.showNullText&&this.isValueNull())return"0";var a=this.options.value?this.options.value:0;if(this.options.type==="percent")a=(a/100).toFixed(10);return a.toString()};c.prototype._updateText=function(a){if(typeof a==="undefined")a=false;if(!this._isInitialized())return;this.options.value=this._textProvider.getValue();d.prototype._updateText.call(this,a);!this._textProvider.checkAndRepairBounds(false,false)&&this._trigger("valueBoundsExceeded")};c.prototype._doSpin=function(f,e){if(!this._allowEdit())return false;if(e&&this.element.data("breakSpinner"))return false;var d=this.element.wijtextselection(),c=new a.wijInputResult;if(this.element.data("focusNotCalledFirstTime")!==-9&&+new Date-this.element.data("focusNotCalledFirstTime")<600){this.element.data("focusNotCalledFirstTime",-9);this.element.data("prevCursorPos",0)}if(this.element.data("prevCursorPos")===-1)this.element.data("prevCursorPos",d.start);else d.start=this.element.data("prevCursorPos");c.testPosition=d.start;this._textProvider[f?"incEnumPart":"decEnumPart"](d.start,c,this.options.increment);this._updateText();this.element.data("prevCursorPos",c.testPosition);this.selectText(c.testPosition,c.testPosition);e&&!this.element.data("breakSpinner")&&window.setTimeout(b.proxy(function(){this._doSpin(f,true)},this),this._calcSpinInterval());return true};c.prototype._deleteSelText=function(b){if(typeof b==="undefined")b=false;var a=this.element.wijtextselection(),e=a.start===0&&a.end===this.element.val().length,c;if(a.start===a.end)if(!b){c=this._textProvider._stringFormat._currentText;if(c.charAt(a.end)===this._textProvider.getGroupSeparator()||c.charAt(a.end)===this._textProvider.getDecimalSeparator()){a.start++;a.end++;this.element.wijtextselection(a);return}}d.prototype._deleteSelText.call(this,b);if(e){this._textProvider._nullvalue=true;this._updateText(true)}};return c}(a.wijinputcore);d.prototype.options=b.extend(true,{},a.wijinputcore.prototype.options,{type:"numeric",value:null,minValue:-1e9,maxValue:1e9,showGroup:false,decimalPlaces:2,increment:1,valueChanged:null,valueBoundsExceeded:null});b.widget("wijmo.wijinputnumber",d.prototype);var e=function(e){__extends(d,e);function d(a,b){e.call(this);this._type="numeric";this._stringFormat=null;this._nullvalue=false;this.inputWidget=a;this._type=b;this._stringFormat=new c(this._type,this.inputWidget.options.decimalPlaces,this.inputWidget.options.showGroup,this._getCulture());this._stringFormat._setValueFromJSFloat(this.getValue())}d.prototype._getCulture=function(){return this.inputWidget._getCulture()};d.prototype.getDecimalSeparator=function(){return this._getCulture().numberFormat["."]};d.prototype.getGroupSeparator=function(){return this._getCulture().numberFormat[","]};d.prototype.tryParseValue=function(a){return this._stringFormat.tryParseValue(a)};d.prototype.toString=function(){return this.inputWidget.options.showNullText&&!this.inputWidget.isFocused()&&this.isValueNull()?this.inputWidget.options.nullText:this._stringFormat.getFormattedValue()};d.prototype.isValueNull=function(){var a=this.inputWidget.options,b=a.minValue;return null===a.value||undefined===a.value||b===a.value||this._nullvalue};d.prototype.set=function(a,b){this.clear();this.insertAt(a,0,b);return true};d.prototype.clear=function(){this._stringFormat.clear()};d.prototype.checkAndRepairBounds=function(a,d){var c=true,b,e;if(typeof a==="undefined")a=false;b=this.inputWidget.options.minValue;e=this.inputWidget.options.maxValue;if(typeof d!=="undefined"&&d)return this._stringFormat.checkMinValue(b,false,true);if(!this._stringFormat.checkMinValue(b,a,false))c=false;if(!this._stringFormat.checkMaxValue(e,a))c=false;this.inputWidget.options.decimalPlaces>=0&&this._stringFormat.checkDigitsLimits(this.inputWidget.options.decimalPlaces);return c};d.prototype.countSubstring=function(c,b){var d=0,a=c.indexOf(b);while(a!==-1){d++;a=c.indexOf(b,a+1)}return d};d.prototype.getAdjustedPositionFromLeft=function(a){for(var e=this._stringFormat._currentText,c,d=0;d<e.length;d++){c=e.charAt(d);if(!b.wij.charValidator.isDigit(c)&&c!==this.getGroupSeparator()&&c!==this.getDecimalSeparator()||c==="0"){if(this._stringFormat.isZero()){if(a<d)a++}else if(a<=d)a++}else break}return a};d.prototype.getDecimalSeparatorPos=function(){var a=this._stringFormat._currentText;return a.indexOf(this.getDecimalSeparator())};d.prototype.removeLeadingZero=function(a){var b=0;if(a.charAt(b)===" "||a.charAt(b)===this._getCulture().numberFormat.currency.symbol)b++;while(a.charAt(b)==="0")a=a.substr(0,b)+a.substr(b+1);return a};d.prototype.insertAt=function(c,e,d){var p=this._getCulture().numberFormat,k,h,g,f,i,j,m,l,n,o;if(!d)d=new a.wijInputResult;else this._nullvalue=false;if(c.length===1){if(c==="+"){this._stringFormat.setPositiveSign();this.checkAndRepairBounds(true,false);return true}if(c==="-"||c===")"||c==="("){this._stringFormat.invertSign();this.checkAndRepairBounds(true,false);d.testPosition=e;if(this._stringFormat.isNegative())d.testPosition=e;else d.testPosition=e-2;return true}if(!b.wij.charValidator.isDigit(c)){if(c===this.getDecimalSeparator()){k=this.getDecimalSeparatorPos();if(k>=0){d.testPosition=k;return true}}if(c!==this.getGroupSeparator()&&c!==this.getDecimalSeparator()&&c!==")"&&c!=="+"&&c!=="-"&&c!=="("&&c!==this.getDecimalSeparator())if(this._type==="percent"&&c===p.percent.symbol){d.testPosition=e;return true}else if(this._type==="currency"&&c===p.currency.symbol){d.testPosition=e;return true}else return false}}e=this.getAdjustedPositionFromLeft(e);h=e;g=this._stringFormat._currentText;if(h>g.length)h=g.length-1;f=this.removeLeadingZero(g.substring(0,h));i=g.substring(h,g.length);if(this._stringFormat.isZero())i=i.replace(/0/,"");d.testPosition=f.length+c.length-1;this._stringFormat.deFormatValue(f+c+i);j=this._stringFormat._currentText;try{if(this.inputWidget.options.showGroup){m=this.countSubstring(f,this._stringFormat._groupSeparator);l=this.countSubstring(j.substring(0,f.length+c.length),this._stringFormat._groupSeparator);d.testPosition+=l-m}else if(c.length===1){n=f.charAt(f.length-1);o=j.charAt(d.testPosition-1);if(o!==n)d.testPosition--}}catch(q){}return true};d.prototype.removeAt=function(e,f,c,k){if(typeof c==="undefined")c=new a.wijInputResult;if(typeof k==="undefined")k=false;var l=this._getCulture().numberFormat,d,h,b,g,j,i;c.testPosition=e;try{d=this._stringFormat._currentText;if(e===f&&d.substring(e,f+1)===this.getDecimalSeparator())return false;h=d.slice(0,e);b=h;g=d.slice(e,f+1).indexOf(this.getDecimalSeparator())>=0;if(g)b+=this.getDecimalSeparator();b+=d.slice(f+1);b=b||"0";this._stringFormat.deFormatValue(b);b=this._stringFormat._currentText;this._nullvalue=false;if(this.inputWidget.options.showGroup)if(g)c.testPosition=b.indexOf(this.getDecimalSeparator());else try{j=this.countSubstring(h,this._stringFormat._groupSeparator);i=this.countSubstring(b.substring(0,Math.max(0,e-1)),this._stringFormat._groupSeparator);c.testPosition-=j-i;if(d.indexOf(l.currency.symbol)===c.testPosition||d.indexOf(l.percent.symbol)===c.testPosition)c.testPosition++}catch(m){}return true}catch(n){}return true};d.prototype.incEnumPart=function(d,b,c){if(!b)b=new a.wijInputResult;this._stringFormat.increment(c);this._nullvalue=false;return this.checkAndRepairBounds(true,false)};d.prototype.decEnumPart=function(d,b,c){if(!b)b=new a.wijInputResult;this._stringFormat.decrement(c);this._nullvalue=false;return this.checkAndRepairBounds(true,false)};d.prototype.getValue=function(){return this._stringFormat.getJSFloatValue()};d.prototype.setValue=function(a){try{this._stringFormat._setValueFromJSFloat(a);this.checkAndRepairBounds(true,false);return true}catch(b){return false}};d.prototype.updateStringFormat=function(){var a="0";if(typeof this._stringFormat!=="undefined")a=this._stringFormat._currentValueInString;this._stringFormat=new c(this._type,this.inputWidget.options.decimalPlaces,this.inputWidget.options.showGroup,this._getCulture());this._stringFormat._currentValueInString=a};return d}(a.wijTextProvider),c=function(){function a(d,a,b,c){this.type=d;this.digitsPlaces=a;this.showGroup=b;this.culture=c;this._currentValueInString="0";this._currentText="0";this._groupSeparator=" "}a.prototype.decimalSeparator=function(){return this.culture.numberFormat["."]};a.prototype.isNegtive=function(a){return a.indexOf("-")!==-1||a.indexOf("(")!==-1};a.prototype.stripValue=function(a){var b=this.culture.numberFormat,h=this.isNegtive(a),d,e,c,g,f;a=a.replace("(","");a=a.replace(")","");a=a.replace("-","");a=a.replace(b.percent.symbol,"");a=a.replace(b.currency.symbol,"");d=b[","];e=b["."];switch(this.type){case"percent":d=b.percent[","];e=b.percent["."];break;case"currency":d=b.currency[","];e=b.currency["."]}this._groupSeparator=d;c=new RegExp("["+d+"]","g");a=a.replace(c,"");c=new RegExp("["+e+"]","g");a=a.replace(c,".");c=new RegExp("[ ]","g");a=a.replace(c,"");try{g=new RegExp("([\\d\\.])+");f=g.exec(a);if(f)a=f[0];if(h)a="-"+a;return a}catch(i){}return null};a.prototype.tryParseValue=function(b){b=this.stripValue(b);if(b===null)return 0;var a;try{a=parseFloat(b);if(isNaN(a))a=0}catch(c){a=0}return a};a.prototype.deFormatValue=function(a){a=this.stripValue(a);if(a===null)return;this._currentValueInString=a;this._currentText=this.formatValue(a)};a.prototype.formatValue=function(c){c=""+c+"";var a=this.culture.numberFormat,j=this.digitsPlaces,h=" ",e=".",f=2,i=this.isNegtive(c),d=new Array(3),g,b;d.push(3);g="n";switch(this.type){case"numeric":g=i?a.pattern[0]:"n";h=a[","];e=a["."];f=a.decimals;d=a.groupSizes;break;case"percent":g=a.percent.pattern[i?0:1];h=a.percent[","];e=a.percent["."];f=a.percent.decimals;d=a.percent.groupSizes;break;case"currency":g=a.currency.pattern[i?0:1];h=a.currency[","];e=a.currency["."];f=a.currency.decimals;d=a.currency.groupSizes}if(j!==-2)f=j;if(!this.showGroup)d=[0];c=c.replace(new RegExp("^[0]+"),"");b=this.formatDigit(c,h,e,f,d);b=b.replace(new RegExp("^[0]+"),"");if(b.indexOf(e)===0)b="0"+b;if(b==="")b="0";this._currentValueInString=c;this._currentText=this.applyFormatPattern(g,b,a.percent.symbol,a.currency.symbol);return this._currentText};a.prototype.getFormattedValue=function(){return this.formatValue(this._currentValueInString)};a.prototype.getJSFloatValue=function(){try{return this._currentValueInString===""?0:parseFloat(this._currentValueInString)}catch(a){return Number.NaN}};a.prototype.clear=function(){this._currentValueInString="0";this._currentText="0"};a.prototype._setValueFromJSFloat=function(a){try{this._currentValueInString=""+a+"";this.formatValue(a);return true}catch(b){return false}};a.prototype.isZero=function(c){if(typeof c==="undefined")c=this._currentValueInString;try{var a=c.replace("-",""),b;a=a.replace("(","");a=a.replace(")","");if(!a.length)a="0";b=parseFloat(a);if(!isNaN(b)&&!b)return true}catch(d){}return false};a.prototype.setPositiveSign=function(){this._currentValueInString=this._currentValueInString.replace("-","");this._currentValueInString=this._currentValueInString.replace("(","");this._currentValueInString=this._currentValueInString.replace(")","")};a.prototype.isNegative=function(){return this._currentValueInString.indexOf("-")!==-1||this._currentValueInString.indexOf("(")!==-1};a.prototype.invertSign=function(){var a=this.isNegative();if(a)this.setPositiveSign();else this._currentValueInString=!this._currentValueInString.length?"0":"-"+this._currentValueInString;if(this.isZero())this._currentValueInString=a?"0":"-0";this.formatValue(this._currentValueInString)};a.prototype.parseNumber=function(a){if(typeof a==="undefined")a=this._currentValueInString;var b=a.split(".",2);return{decimal:parseInt(b[0],10)||0,fraction:(b.length>1?parseInt(b[1],10):0)||0}};a.prototype._change=function(b){var a=this.parseNumber();this._currentValueInString=""+(a.decimal+b)+"."+a.fraction};a.prototype.increment=function(a){if(typeof a==="undefined")a=1;this._change(a)};a.prototype.decrement=function(a){if(typeof a==="undefined")a=1;this._change(-a)};a.prototype.checkDigitsLimits=function(f){try{var a=this._currentValueInString.split("."),d,b,c,e;if(!a.length||a.length===1&&a[0]==="")return;d="";if(a.length>1)d=a[1];b="";for(c=0;c<f;c++){e="0";if(d.length>c)e=d.charAt(c);b=b+e}if(b.length>0)this._currentValueInString=a[0]+"."+b;else this._currentValueInString=a[0]}catch(g){}};a.prototype.checkMinValue=function(g,i,h){if(typeof h==="undefined")h=false;var e=true,a,b,c,d,f;try{a=this._currentValueInString.split(".");b=parseFloat(a[0]===""||a[0]==="-"?"0":a[0]);c=0;if(a.length>1&&parseFloat(a[1])>0)c=parseFloat("1."+a[1]);if(b<0||a[0]==="-")c=c*-1;g=""+g+"";a=g.split(".");d=parseFloat(a[0]);f=0;if(a.length>1&&parseFloat(a[1])>0)f=parseFloat("1."+a[1]);if(b>d)return true;if(b<d||h&&b===d&&c<=f)e=false;else if(b===d&&b<0&&c>f)e=false;else if(b===d&&b>=0&&c<f)e=false;if(!e&&i)this._currentValueInString=""+g+""}catch(j){}return e};a.prototype.checkMaxValue=function(g,h){var d=true,a,b,c,e,f;try{a=this._currentValueInString.split(".");b=parseFloat(a[0]===""||a[0]==="-"?"0":a[0]);c=0;if(a.length>1&&parseFloat(a[1])>0)c=parseFloat("1."+a[1]);if(b<0||a[0]==="-")c=c*-1;g=""+g+"";a=g.split(".");e=parseFloat(a[0]);f=0;if(a.length>1&&parseFloat(a[1])>0)f=parseFloat("1."+a[1]);if(b<e)return true;if(b>e)d=false;if(b===e&&b>=0&&c>f)d=false;if(b===e&&b<0&&c<f)d=false;if(!d&&h)this._currentValueInString=""+g+""}catch(i){}return d};a.prototype.applyFormatPattern=function(f,e,d,c){var a=f,b=new RegExp("[n]","g");a=a.replace(b,e);b=new RegExp("[%]","g");a=a.replace(b,d);b=new RegExp("[$]","g");a=a.replace(b,c);return a};a.prototype.formatDigit=function(l,k,h,j,i){var a=""+l+"",c,b,e,g,f,d;a=a.replace("-","");a=a.replace("(","");a=a.replace(")","");c=a.indexOf(h);if(c===-1)c=a.indexOf(".");if(c===-1)c=a.indexOf(",");if(c===-1)c=a.length;b="";e=0;g=0;for(d=a.length-1;d>=0;d--){f=a.charAt(d);if(d<c){b=f+b;g++;if(g===i[e]*1&&i[e]*1&&d){b=k+b;g=0;if(i.length-1>e)e++}}}if(j>0){b=b+h;for(d=0;d<j;d++){f="0";if(d+c+1<a.length)f=a.charAt(d+c+1);b=b+f}}if(j===-1)if(c<a.length-1){b=b+h;b=b+a.substr(c+1)}return b};return a}()})(wijmo||(wijmo={}));;
/*
 *
 * Wijmo Library 2.3.7
 * http://wijmo.com/
 *
 * Copyright(c) GrapeCity, Inc.  All rights reserved.
 * 
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * licensing@wijmo.com
 * http://wijmo.com/widgets/license/
 *
 **/
(function(a){"use strict";var g="ui-widget ui-widget-content ui-corner-all wijmo-wijlist",c="wijmo-wijlist-item",h=c+"-alternate",i=c+"-selected",j=c+"-first",k=c+"-last",f="ui-state-hover",l="ui-state-active",e="wijmo-wijlistitem-active",b=i+" "+l,d="item.wijlist";a.widget("wijmo.wijlist",{options:{dataSource:null,listItems:[],selected:null,selectionMode:"single",autoSize:false,maxItemsCount:5,addHoverItemClass:true,superPanelOptions:null,disabled:false,focusing:null,focus:null,blur:null,itemRendering:null,itemRendered:null,listRendered:null,keepHightlightOnMouseLeave:false},removeAll:function(){var a=this;a.items=[];a._refresh()},addItem:function(c,b){var a=this;a._checkData();if(b===null||b===undefined)a.items.push(c);else a.items&&a.items.splice(b,0,c);a._refresh()},removeItem:function(c){var b=this,a;b._checkData();a=b.indexOf(c);a>=0&&b.removeItemAt(a)},indexOf:function(e){var c=this,d=-1,a=0,b;c._checkData();for(a=0;a<c.items.length;a++){b=c.items[a];if(b.label===e.label&&b.value===e.value){d=a;break}}return d},findIndexByLabel:function(c){var d=this,b=-1,a=0,e;if(c===null||c===undefined)return b;d._checkData();for(a=0;a<d.items.length;a++){e=d.items[a];if(e.label===c){b=a;break}}return b},removeItemAt:function(b){var a=this;a._checkData();a.items.splice(b,1);a._refresh()},_checkData:function(){var a=this;if(!a.items)a.items=[]},_refresh:function(){var a=this;a.renderList();a.refreshSuperPanel()},_setOption:function(d,h){var c=this,e,g,f;a.Widget.prototype._setOption.apply(c,arguments);if(d==="disabled")c._handleDisabledOption(h,c.element);else if(d==="selectionMode"){e=c.selectedItem;if(e){e.selected=false;e.element&&e.element.removeClass(b);c.selectedItem=undefined}a.each(c.selectedItems,function(c,a){a.selected=false;a.element.removeClass(b)});c.selectedItem=[]}else if(d==="listItems"){g=c._isBind();if(g){f=c._getRenderItems();c.setItems(f)}else c.setItems(h);c.renderList();c.refreshSuperPanel()}else if(d==="dataSource"){g=c._isBind();if(g){f=c._getRenderItems();c.setItems(f);c.renderList();c.refreshSuperPanel()}}else(d==="autoSize"||d==="maxItemsCount")&&c.refreshSuperPanel()},_create:function(){var b=this,c=this.element,f=this.options,d;if(window.wijmoApplyWijTouchUtilEvents)a=window.wijmoApplyWijTouchUtilEvents(a);c.addClass(g).attr({role:"listbox","aria-activedescendant":e,"aria-multiselectable":f.selectionMode==="multiple"}).bind("click."+b.widgetName,b,b._onListClick);if(c.is("div")&&c.children().is("ul")){b._isInnerData=true;b._templates=[];a.each(a("ul > li",c),function(c,a){b._templates.push({templateHtml:a.innerHTML})});b._oriChildren=c.children().hide()}b.ul=a("<ul class='wijmo-wijlist-ul'></ul>").appendTo(c);if(f.listItems!==null){d=b._getRenderItems();if(d){b.setItems(d);b.renderList();b.refreshSuperPanel()}}b.element.is(":hidden")&&b.element.wijAddVisibilityObserver&&b.element.wijAddVisibilityObserver(function(){b.refreshSuperPanel();b.element.wijRemoveVisibilityObserver&&b.element.wijRemoveVisibilityObserver()},"wijlist");f.disabled&&b.disable()},_isBind:function(){var b=this.options,a=b.listItems;return a!==null&&a.label&&a.label.bind?true:false},_getRenderItems:function(){var c=this.options,b=c.listItems;return b!==null?a.isArray(b)&&b.length>0&&typeof b[0].label==="string"?b:b.label&&b.label.bind?this._getMappingItems():null:null},_getMappingItems:function(){var g=this.options,c=g.dataSource,b=g.listItems,d,e,f;if(!c||!b)return null;if(!b.label||!b.label.bind||!b.value||!b.value.bind)return null;e=b.label.bind;f=b.value.bind;if(c&&c.length!==0){d=[];a.each(c,function(b,a){d.push({label:a[e],value:a[f]})});return d}return null},_handleDisabledOption:function(b,c){var a=this;if(b){if(!a.disabledDiv)a.disabledDiv=a._createDisabledDiv(c);a.disabledDiv.appendTo("body")}else if(a.disabledDiv){a.disabledDiv.remove();a.disabledDiv=null}},_createDisabledDiv:function(f){var g=this,b=f||g.element,c=b.offset(),e=b.outerWidth(),d=b.outerHeight();return a("<div></div>").addClass("ui-disabled").css({"z-index":"99999",position:"absolute",width:e,height:d,left:c.left,top:c.top})},setTemplateItems:function(a){this._setItemsByExtend(a,true)},setItems:function(a){this._setItemsByExtend(a,false)},_setItemsByExtend:function(c,e){var b=this,d;if(e){if(b._templates&&c&&c.length!==b._templates.length)return;b.items=c;if(!b.items)b.items=[];a.each(b._templates,function(a){if(b.items[a])b.items[a].templateHtml=b._templates[a].templateHtml;else b.items.push({templateHtml:b._templates[a].templateHtml,label:c[a].label,value:c[a].value})})}else b.items=c;if(!c)return null;d=a.grep(c,function(a){return a.selected});if(b.options.selectionMode==="single"){b.selectedItems=[];b.selectedItem=d.length>0?d[0]:undefined}else b.selectedItems=d},filterItems:function(g,l,k){var c=this,e=c._escapeRegex(g),i,d,j="",n=null,f=false,h=null;if(!this.items)return null;if(a("li[wijhidden].wijmo-wijlist-item",c.element)&&a("li[wijhidden].wijmo-wijlist-item",c.element).length>0)f=true;if(a("span.ui-priority-primary",c.element)&&a("span.ui-priority-primary",c.element).length>0)f=true;if(!f&&(!g||g.length===0)){a.each(this.items,function(d,a){if(a.selected){c.activate(null,a,false);a.element&&a.element.addClass(b);c.selectedItem=a}else a.element&&a.element.hasClass(b)&&a.element.removeClass(b)});return}i=new RegExp(e,"i");a.each(this.items,function(m,f){d=f.label;if(f.templateHtml)d=f.templateHtml;else if(f.text!==undefined)d=f.text;a("span.ui-priority-primary",f.element).length>0&&f.element.empty().append(d);var g=i.exec(f.label);if(g===null&&l){if(f.element){f.element.hide();f.element.attr("wijhidden","wijhidden")}}else{if(f.selected){c.activate(null,f,false);f.element&&f.element.addClass(b);c.selectedItem=f}else f.element&&f.element.hasClass(b)&&f.element.removeClass(b);if(k){j=d.replace(new RegExp("(?![^&;]+;)(?!<[^<>]*)("+e+")(?![^<>]*>)(?![^&;]+;)","gi"),"<span class='ui-priority-primary'>$1</span>");f.element&&f.element.html(j)}if(f.element&&!f.element.is(":visible")){f.element.show();f.element.removeAttr("wijhidden")}if(e!==undefined&&e.length!==0&&h===null&&g&&g.index===0)h=f}});return h},popItem:function(){var a=this;a._checkData();a.items.pop();a._refresh()},getList:function(){return this.ul},_onListClick:function(b){if(!a(b.target).closest(".wijmo-wijlist-item").length)return;var c=b.data;c.select(b)},destroy:function(){var b=this,c=this.element;b.superPanel!==undefined&&b.superPanel.destroy();c.removeClass("wijmo-wijobserver-visibility").removeClass(g).removeAttr("role").removeAttr("aria-activedescendant").unbind("."+b.widgetName);b.ul.remove();if(b.disabledDiv){b.disabledDiv.remove();b.disabledDiv=null}b._isInnerData&&b._oriChildren.show();a.Widget.prototype.destroy.apply(b,arguments)},activate:function(d,b,g){var a=this,h,c;a.deactivate();if(b===null||b===undefined)return;if(a._trigger("focusing",d,b)===false)return;h=a.active=b;c=b.element;if(c){a.options.addHoverItemClass&&c.addClass(f);c.attr("id",e)}g&&a.superPanel!==undefined&&a.superPanel.scrollChildIntoView(c);a.element.is(":visible")&&a._trigger("focus",d,b)},deactivate:function(){var a=this,c=a.active,b;if(!c)return;b=c.element;a._trigger("blur",null,c);b&&b.removeClass(f).removeAttr("id");a.active=undefined},next:function(a){this.move("next","."+c+":first",a)},nextPage:function(){this.superPanel.doScrolling("bottom",true)},previous:function(a){this.move("prev","."+c+":last",a)},previousPage:function(){this.superPanel.doScrolling("top",true)},first:function(){return this.active&&!this.active.element.prev().length},last:function(){return this.active&&!this.active.element.next().length},move:function(h,f,b){var a=this,g,e;if(!a.active){g=a.ul.children(":visible"+f).data(d);a.activate(b,g,true);return}e=a.active.element[h+"All"](":visible."+c).eq(0);if(e.length)a.activate(b,e.data(d),true);else a.activate(b,a.element.children(f).data(d),true)},select:function(j,k){var e=this,g,h,c,i,f;if(e.active===undefined)return;g=e.active.element;if(g===undefined||g.attr("wijhidden"))return;c=g.data(d);if(!c)return;i=e.options.selectionMode==="single";if(i){f=e.selectedItem;g.addClass(b).attr("aria-selected","true");c.selected=true;if(f!==undefined&&c!==f){f.selected=false;f.element&&f.element.removeClass(b).removeAttr("aria-selected")}e.selectedItem=c;h=a.inArray(c,e.items);e._trigger("selected",j,{item:c,previousItem:f,selectedIndex:h,data:k})}else{c.selected=!c.selected;if(c.selected)g.addClass(b).attr("aria-selected","true");else g.removeClass(b).removeAttr("aria-selected","true");h=[];e.selectedItems=a.grep(e.items,function(a,b){a.selected&&h.push(b);return a.selected});e._trigger("selected",j,{selectedIndex:h,item:c,selectedItems:e.selectedItems})}},_findItemsByValues:function(c){var b,d=[];d=a.grep(this.items,function(d){b=false;for(var a=0;a<c.length;a++)if(d.value===c[a])b=true;return b});return d},_findItemsByIndices:function(c){var d=this,e=this.items.length,b=[];a.each(c,function(c,a){a>=0&&a<e&&b.push(d.items[a])});return b},getItems:function(b,h){var g=this,f,c,d,e;c=a.isArray(b);f=!c&&typeof b==="number"||c&&typeof b[0]==="number";d=c?b:[b];if(!h)e=g._findItemsByValues(d);else{if(!f)return null;e=g._findItemsByIndices(d)}return e},selectItems:function(j,g,i){var c=this,h=this.options.selectionMode==="single",e,d,f;f=c.getItems(j,i);if(h){if(f.length>0){e=f[0];e.selected=true;e.element.addClass(b)}d=c.selectedItem;if(d){d.selected=false;d.element.removeClass(b)}c.selectedItem=e;g&&c._trigger("selected",null,{item:e,previousItem:d})}else{a.each(f,function(c,a){a.selected=true;a.element.addClass(b)});c.selectedItems=a.grep(c.items,function(a){return a.selected});g&&c._trigger("selected",null,{selectedItems:c.selectedItems})}},unselectItems:function(f){var c=this,g=this.options.selectionMode,d,e;if(g==="single"){d=c.selectedItem;if(d){d.selected=false;d.element.removeClass(b);c.selectedItem=undefined}}else{e=c.getItems(f,true);if(!e||e.length===0)return;a.each(e,function(c,a){a.selected=false;a.element.removeClass(b)});c.selectedItems=a.grep(c.items,function(a){return a.selected})}},renderList:function(){var e=this,g=this.ul,l=this.options,b,c,h,d,i,f;g.empty();b=e.items;if(b===undefined)return;c=b.length;if(b===undefined||b===null&&c===0)return;h=l.selectionMode==="single";f=[];for(d=0;d<c;d++){i=b[d];f.push(e._renderItem(g,i,d,h))}a(f).appendTo(g);if(c>0){b[0].element&&b[0].element.addClass(j);b[c-1].element&&b[c-1].element.addClass(k)}e._trigger("listRendered",null,e)},_renderItem:function(l,c,j){var e=this,f=a("<li role='option' class='wijmo-wijlist-item ui-corner-all'></li>"),g,i;c.element=f;c.list=e;if(e._trigger("itemRendering",null,c)===false)return;g=c.label;c.title&&f.attr("title",c.title);if(c.templateHtml)g=c.templateHtml;else if(c.text!==undefined)g=c.text;f.bind("mouseover",function(a){e.activate(a,c,false)}).bind("mouseout",function(){!e.options.keepHightlightOnMouseLeave&&e.deactivate()}).data(d,c).append(g);if(!e._isInnerData){i=c.imageUrl;i!==undefined&&i.length>0&&f.prepend("<img src='"+c.imageUrl+"'>")}if(c.selected){e.activate(null,c,false);f.addClass(b)}j%2===1&&f.addClass(h);e._trigger("itemRendered",null,c);return f},_escapeRegex:function(a){return a===undefined?a:a.replace(/([\^\$\(\)\[\]\{\}\*\.\+\?\|\\])/gi,"\\$1")},adjustOptions:function(){var b=this.options,a;if(b.data!==null)for(a=0;a<b.listItems.length;a++){delete b.listItems[a].element;delete b.listItems[a].list}return b},refreshSuperPanel:function(){var b=this,c=this.element,p=this.options,d=this.ul,q=d.children(".wijmo-wijlist-item:first"),g,f,j,k=null,i,m,n,e,h,l,o;if(!c.is(":visible"))return false;f=d.outerHeight();j=c.innerWidth();if(p.autoSize)k=q.outerHeight(true)*p.maxItemsCount;k!==null&&c.height(Math.min(k,f));i=c.innerHeight();m=i/(f-i);h=101*m/(1+m);n=q.outerHeight()/(f-i)*(101-h);if(b.superPanel===undefined){l={allowResize:false,keyboardSupport:false,bubbleScrollingEvent:true,hScroller:{scrollBarVisibility:"hidden"},vScroller:{scrollSmallChange:n,scrollLargeChange:h}};a.extend(l,p.superPanelOptions);b.superPanel=c.wijsuperpanel(l).data("wijsuperpanel");if(b.superPanel.vNeedScrollBar){d.setOutWidth(j-18);b.superPanel.refresh()}}else{e=b.superPanel.options.vScroller;e.scrollLargeChange=h;e.scrollSmallChange=n;b.superPanel.paintPanel();if(b.superPanel.vNeedScrollBar){d.setOutWidth(j-18);b.superPanel.refresh()}else{d.setOutWidth(c.outerWidth());g=c.children(".wijmo-wijsuperpanel-header").outerHeight();g!==null&&g!==undefined&&c.height(f+g);b.superPanel.refresh()}}o=d.css("padding-top");if(o.length>0){e=b.superPanel.options.vScroller;e.firstStepChangeFix=b.superPanel.scrollPxToValue(parseFloat(o),"v")}else e.firstStepChangeFix=0;d.setOutWidth(d.parent().parent().innerWidth())}})})(jQuery);;
/*
 *
 * Wijmo Library 2.3.7
 * http://wijmo.com/
 *
 * Copyright(c) GrapeCity, Inc.  All rights reserved.
 * 
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * licensing@wijmo.com
 * http://wijmo.com/widgets/license/
 *
 **/
(function(a){"use strict";a.fn.extend({getBounds:function(){return a.extend({},a(this).offset(),{width:a(this).outerWidth(true),height:a(this).outerHeight(true)})},setBounds:function(b){a(this).css({left:b.left,top:b.top}).width(b.width).height(b.height);return this},getMaxZIndex:function(){var b=(a(this).css("z-index")==="auto"?0:a(this).css("z-index"))*1;a(this).siblings().each(function(d,c){b=Math.max(b,(a(c).css("z-index")==="auto"?0:a(c).css("z-index"))*1)});return b}});a.widget("wijmo.wijpopup",{options:{ensureOutermost:false,showEffect:"show",showOptions:{},showDuration:300,hideEffect:"hide",hideOptions:{},hideDuration:100,autoHide:false,position:{at:"left bottom",my:"left top"},showing:null,shown:null,hiding:null,hidden:null,posChanged:null},_create:function(){if(window.wijmoApplyWijTouchUtilEvents)a=window.wijmoApplyWijTouchUtilEvents(a)},_init:function(){if(!!this.options.ensureOutermost){var b=a("form");if(b.length===0)b=a(document.body);this.element.appendTo(b)}this.element.data("visible.wijpopup",false);this.element.css("position","absolute");this.element.position({of:a(document.body)});this.element.hide()},_setOption:function(c){a.Widget.prototype._setOption.apply(this,arguments);if(c==="autoHide"){var b=this.isVisible();this.hide();b&&this.show()}},destroy:function(){a.Widget.prototype.destroy.apply(this,arguments);this.isVisible()&&this.hide();if(a.browser.msie&&a.browser.version<7){jFrame=this.element.data("backframe.wijpopup");!jFrame&&jFrame.remove()}var b=this;this.element.unbind(".wijpopup");a.each(["visible","backframe","animating","width"],function(c,a){b.element.removeData(a+".wijpopup")})},isVisible:function(){return!!this.element.data("visible.wijpopup")&&this.element.is(":visible")},isAnimating:function(){return!!this.element.data("animating.wijpopup")},_pushQueue:function(){var c=a(window),b=c.data("wijPopupQueue"),d;if(!b){b=[];c.data("wijPopupQueue",b)}return b.push(this)},show:function(d){this._setPosition(d);if(this.isVisible())return;if(this._trigger("showing")===false)return;var e=this;if(this.options.autoHide)this._pushQueue()===1&&a(document).bind("mouseup.wijpopup",function(a){e._onDocMouseUp(a)});var b=this.options.showEffect||"show",c=this.options.showDuration||300,f=this.options.showOptions||{};this.element.data("animating.wijpopup",true);if(a.effects&&(a.effects[b]||a.effects.effect&&a.effects.effect[b]))this.element.show(b,f,c,a.proxy(this._showCompleted,this));else if(this.element[b])this.element[b](b==="show"?null:c,a.proxy(this._showCompleted,this));else this.element.show();(!b||!c||b==="show"||c<=0)&&this._showCompleted()},_showCompleted:function(){this.element.removeData("animating.wijpopup");this.element.data("visible.wijpopup",true);this._trigger("shown")},showAt:function(a,b){this.show({my:"left top",at:"left top",of:document.body,offset:""+a+" "+b})},hide:function(){if(!this.isVisible())return;if(this._trigger("hiding")===false)return;var b=this.options.hideEffect||"hide",c=this.options.hideDuration||300,d=this.options.hideOptions||{};this.element.data("animating.wijpopup",true);if(a.effects&&(a.effects[b]||a.effects.effect&&a.effects.effect[b]))this.element.hide(b,d,c,a.proxy(this._hideCompleted,this));else if(this.element[b])this.element[b](b==="hide"?null:c,a.proxy(this._hideCompleted,this));else this.element.hide();(!b||!c||b==="hide"||c<=0)&&this._hideCompleted()},_hideCompleted:function(){if(this.element.data("width.wijpopup")!==undefined){this.element.width(this.element.data("width.wijpopup"));this.element.removeData("width.wijpopup")}this.element.removeData("animating.wijpopup").unbind("move.wijpopup");if(a.browser.msie&&a.browser.version<7){var b=this.element.data("backframe.wijpopup");b&&b.hide()}this._trigger("hidden")},_onDocMouseUp:function(e){var f=a(window),c=a(e.target?e.target:e.srcElement),d=f.data("wijPopupQueue"),b;if(c.parents().hasClass("wijmo-wijcombobox-list")||c.parents().hasClass("wijmo-wijcalendar"))return;if(!!d){while(b=d.pop())if(b.isVisible()){if(!!b.options.autoHide){if(c.get(0)!=b.element.get(0)&&c.parents().index(b.element)<0)b.hide();else d.push(b);break}}else break;d.length===0&&a(document).unbind("mouseup.wijpopup")}},_onMove:function(){var a=this.element.data("backframe.wijpopup");if(a){this.element.before(a);a.css({top:this.element.css("top"),left:this.element.css("left")})}},_addBackgroundIFrame:function(){if(a.browser.msie&&a.browser.version<7){var b=this.element.data("backframe.wijpopup");if(!b){b=jQuery("<iframe/>").css({position:"absolute",display:"none",filter:"progid:DXImageTransform.Microsoft.Alpha(style=0,opacity=0)"}).attr({src:"javascript:'<html></html>';",scrolling:"no",frameborder:"0","tabIndex ":-1});this.element.before(b);this.element.data("backframe.wijpopup",b);this.element.bind("move.wijpopup",a.proxy(this._onMove,this))}b.setBounds(this.element.getBounds());b.css({display:"block",left:this.element.css("left"),top:this.element.css("top"),"z-index":this.element.css("z-index")-1})}},_setZIndex:function(b){this.element.css("z-index",b);var a=this.element.data("backframe.wijpopup");a&&a.css("z-index",this.element.css("z-index")-1)},_setPosition:function(c){var d=this.element.is(":visible");this.element.show();this.element.position(a.extend({},this.options.position,c?c:{}));!d&&this.element.hide();this._addBackgroundIFrame();var b=1e3;if(this.options.position.of)b=Math.max(b,a(this.options.position.of).getMaxZIndex());this._setZIndex(b+10);this._trigger("posChanged")}})})(jQuery);;
/*
 *
 * Wijmo Library 2.3.7
 * http://wijmo.com/
 *
 * Copyright(c) GrapeCity, Inc.  All rights reserved.
 * 
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * licensing@wijmo.com
 * http://wijmo.com/widgets/license/
 *
 **/
(function(a){"use strict";var c={general:0,weekEnd:1,otherMonth:2,outOfRange:4,today:8,custom:16,disabled:32,selected:64,gap:128};a.widget("wijmo.wijcalendar",{options:{culture:"",monthCols:1,monthRows:1,titleFormat:"MMMM yyyy",showTitle:true,displayDate:undefined,dayRows:6,dayCols:7,weekDayFormat:"short",showWeekDays:true,showWeekNumbers:false,calendarWeekRule:"firstDay",minDate:new Date(1900,0,1),maxDate:new Date(2099,11,31),showOtherMonthDays:true,showDayPadding:false,selectionMode:{day:true,days:true},allowPreview:false,allowQuickPick:true,toolTipFormat:"dddd, MMMM dd, yyyy",prevTooltip:"Previous",nextTooltip:"Next",quickPrevTooltip:"Quick Previous",quickNextTooltip:"Quick Next",prevPreviewTooltip:"",nextPreviewTooltip:"",navButtons:"default",quickNavStep:12,direction:"horizontal",duration:250,easing:"easeInQuad",popupMode:false,autoHide:true,customizeDate:null,title:null,beforeSlide:null,afterSlide:null,beforeSelect:null,afterSelect:null,selectedDatesChanged:null},_create:function(){var b=this;if(window.wijmoApplyWijTouchUtilEvents)a=window.wijmoApplyWijTouchUtilEvents(a);a.isFunction(window.wijmoASPNetParseOptions)&&wijmoASPNetParseOptions(this.options);this.element.addClass("wijmo-wijcalendar ui-datepicker-inline ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all").attr("role","grid");this._previewWrapper(this.options.allowPreview);this.element.data("preview.wijcalendar",false);b.element.is(":hidden")&&b.element.wijAddVisibilityObserver&&b.element.wijAddVisibilityObserver(function(){b.refresh();b.element.wijRemoveVisibilityObserver&&b.element.wijRemoveVisibilityObserver()},"wijcalendar")},_init:function(){if(this.options.popupMode){var a={autoHide:!!this.options.autoHide},b=this;if(this.options.beforePopup)a.showing=this.options.beforePopup;if(this.options.afterPopup)a.shown=this.options.afterPopup;if(this.options.beforeClose)a.hiding=this.options.beforeClose;a.hidden=function(a){b.element.removeData("lastdate.wijcalendar");b.options.afterClose&&b.options.afterClose.call(a)};this.element.wijpopup(a)}this._getSelectedDates();this._getDisabledDates();this._resetWidth();this.refresh();this.element.width(this.element.width()+2)},destroy:function(){a.Widget.prototype.destroy.apply(this,arguments);this.close();this.element.html("");this.element.removeClass("wijmo-wijcalendar ui-datepicker-inline ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all ui-datepicker-multi").removeAttr("role");var b=this;a.each(["preview","disableddates","selecteddates","dragging","lastdate","animating"],function(c,a){b.element.removeData(a+".wijcalendar")});this._previewWrapper(false)},_setOption:function(c,b){a.Widget.prototype._setOption.apply(this,arguments);switch(c){case"showWeekDays":case"showWeekNumbers":case"showTitle":case"showOtherMonthDays":case"selectionMode":this.unSelectAll();this._resetWidth();this.refresh();break;case"culture":this.refresh();break;case"allowPreview":this._previewWrapper(b);this.refresh();break;case"monthCols":if(this._myGrid)this._myGrid=undefined;this._resetWidth();this.refresh();break;case"monthRows":if(this._myGrid)this._myGrid=undefined;break;case"autoHide":this.element.wijpopup({autoHide:this.options.autoHide});break;case"selectedDates":this._getSelectedDates().setDates(b);this.refresh();break;case"disabledDates":this._getDisabledDates().setDates(b);this.refresh();break;case"displayDate":this.refresh()}},_previewWrapper:function(a){if(a)!this.element.parent().hasClass("wijmo-wijcalendar-preview-wrapper")&&this.element.wrap("<div class='wijmo-wijcalendar-preview-wrapper ui-helper-clearfix'></div>");else this.element.parent().hasClass("wijmo-wijcalendar-preview-wrapper")&&this.element.unwrap()},_isRTL:function(){return!!this._getCulture().isRTL},refresh:function(){this.element.empty().append(this._createCalendar());this.element[(this._isRTL()?"add":"remove")+"Class"]("ui-datepicker-rtl");this._bindEvents()},refreshDate:function(b){if(!this._monthViews)return;if(b<this._groupStartDate||b>this._groupEndDate)return;a.each(this._monthViews,function(){this._refreshDate(b)})},getDisplayDate:function(){var a=this.options.displayDate?this.options.displayDate:new Date;if(b.isSameDate(a,new Date(1900,0,1)))a=new Date;return a},getSelectedDate:function(){var a=this.options.selectedDates;return!a||a.length===0?null:a[0]},selectDate:function(a){a=new Date(a);if(this._getDisabledDates().contains(a))return false;if(a<this.options.minDate||a>this.options.maxDate)return false;this._getSelectedDates().add(a);this.refreshDate(a);return true},unSelectDate:function(a){a=new Date(a);if(this._getDisabledDates().contains(a))return false;if(a<this.options.minDate||a>this.options.maxDate)return false;this._getSelectedDates().remove(a);this.refreshDate(a);return true},unSelectAll:function(){var a=this.options.selectedDates,b;if(a&&a.length>0){this._getSelectedDates().clear();for(b=0;b<a.length;b++)this.refreshDate(a[b])}},_slideToDate:function(a){if(b.isSameMonth(this.getDisplayDate(),a))return;var c=this.element.is(":visible");if(!c)this.options.displayDate=a;else{if(this._trigger("beforeSlide")===false)return;if(this._isSingleMonth())this._playSlideAnimation(a);else this._playMmSlideAnimation(a)}},isPopupShowing:function(){return!!this.options.popupMode?this.element.wijpopup("isVisible"):false},popup:function(a){this._myGrid=undefined;this.refresh();this.element.data("dragging.wijcalendar",false);this.element.data("wijpopup")&&this.element.wijpopup("show",a)},popupAt:function(a,b){this._myGrid=undefined;this.refresh();this.element.data("dragging.wijcalendar",false);this.element.data("wijpopup")&&this.element.wijpopup("showAt",a,b)},close:function(){this.isPopupShowing()&&this.element.wijpopup("hide")},_getCulture:function(a){return Globalize.findClosestCulture(a||this.options.culture)},_getDates:function(b){var c=b.toLowerCase()+".wijcalendar",a=this.element.data(c);if(a===undefined){a=new f(this,b);this.element.data(c,a)}return a},_getDisabledDates:function(){return this._getDates("disabledDates")},_getSelectedDates:function(){return this._getDates("selectedDates")},_onDayDragStart:function(a){a.preventDefault();a.stopPropagation();return false},_onDayMouseDown:function(c){c.preventDefault();c.stopPropagation();var d=this.options,j=this,b,g,e=false,f=d.selectedDates,i=false,h=[];if(c.which!==1)return false;b=this._getCellDate(c.currentTarget);if(b===undefined)return false;if(!d.selectionMode.day)return false;g={date:b};if(this._trigger("beforeSelect",null,g)===false)return false;(!d.selectionMode.days||!c.metaKey&&!c.shiftKey&&!c.ctrlKey)&&this.unSelectAll();if(!!d.selectionMode.days)if(c.shiftKey&&this.element.data("lastdate.wijcalendar")){this._selectRange(this.element.data("lastdate.wijcalendar"),b);e=true}else if(c.ctrlKey){this.element.data("lastdate.wijcalendar",b);a.each(f,function(c,a){if(b.getFullYear()===a.getFullYear()&&b.getMonth()===a.getMonth()&&b.getDate()===a.getDate()){i=true;return false}});if(i)this.unSelectDate(b);else this.selectDate(b);f=d.selectedDates;a.each(f,function(b,a){h.push(new Date(a))});this._trigger("selectedDatesChanged",null,{dates:h});e=true}if(!e){this.element.data("lastdate.wijcalendar",b);e=this.selectDate(b);this._trigger("selectedDatesChanged",null,{dates:[b]})}if(e){this._trigger("afterSelect",null,g);if(!!d.selectionMode.days){this.element.data("dragging.wijcalendar",true);a(document.body).bind("mouseup."+this.widgetName,function(){a(document.body).unbind("mouseup."+j.widgetName);j.element.data("dragging.wijcalendar",false)})}}return false},_onMouseUp:function(a){a.preventDefault();a.stopPropagation();this.element.data("dragging.wijcalendar",false);return false},_onDayClicked:function(c){var b=this._getCellDate(c.currentTarget);if(b===undefined)return false;if(!this.options.selectionMode.day)return false;if(this.isPopupShowing())this.close();else a(c.currentTarget).hasClass("ui-datepicker-other-month")&&this._slideToDate(b);return false},_onDayMouseEnter:function(b){a(b.currentTarget).attr("state","hover");this._refreshDayCell(b.currentTarget);if(!!this.element.data("dragging.wijcalendar")){var c=this._getCellDate(b.currentTarget);if(c===undefined)return;this.unSelectAll();this._selectRange(this.element.data("lastdate.wijcalendar"),c,true)}},_onDayMouseLeave:function(b){a(b.currentTarget).attr("state","normal");this._refreshDayCell(b.currentTarget)},_selectRange:function(a,e,g){if(a!==undefined&&a!==new Date(1900,1,1)){var c=a,f=e,d=[];if(a>e){f=a;c=e}for(;;){if(c>f)break;this.selectDate(c);d[d.length]=c;c=b.addDays(c,1)}!g&&this.element.removeData("lastdate.wijcalendar");this._trigger("selectedDatesChanged",null,{dates:d})}else{this.selectDate(a);this._trigger("selectedDatesChanged",null,{dates:[a]})}return true},_getCellDate:function(c){var b=a(c).attr("date");return b===undefined?b:new Date(b)},_getParentTable:function(c){var b=a(c).parents("table");return b.length===0?undefined:b.get(0)},_initMonthSelector:function(e){if(a(e).data("cells")!==undefined)return;var d=e.id.split("_"),k,b,h=[],f,g,c,j,i;if(d[d.length-1]!=="ms")throw Error.create("not a monthview");k=d.slice(0,d.length-1).join("_");b=this._getParentTable(e);if(b){if(b.id!==k)throw Error.create("not a monthview");for(f=0;f<b.rows.length;f++){i=b.rows[f];for(g=0;g<i.cells.length;g++){c=i.cells[g];if(c){j=a(c).attr("daytype");if(j!==undefined)if(a(c).find("a").hasClass("ui-priority-secondary")===false)if(this._isSelectable(parseInt(j,10)))h[h.length]=c}}}}a(e).data("cells",h)},_onMonthSelectorClicked:function(h){this._initMonthSelector(h.currentTarget);var f=a(h.currentTarget).data("cells"),c=[],b,g,e,d;this.element.removeData("lastdate.wijcalendar");this.unSelectAll();for(b=0;b<f.length;b++){g=f[b];e=a(g).attr("date");if(e!==undefined){d=new Date(e);this.selectDate(d);c[c.length]=d}}this._trigger("selectedDatesChanged",null,{dates:c});this.isPopupShowing()&&this.close();return false},_onMonthSelectorMouseEnter:function(b){this._initMonthSelector(b.currentTarget);for(var d=a(b.currentTarget).data("cells"),c=0;c<d.length;c++){b.currentTarget=d[c];this._onDayMouseEnter(b)}},_onMonthSelectorMouseLeave:function(b){this._initMonthSelector(b.currentTarget);for(var d=a(b.currentTarget).data("cells"),c=0;c<d.length;c++){b.currentTarget=d[c];this._onDayMouseLeave(b)}},_initWeekDaySelector:function(e){if(a(e).data("cells")!==undefined)return;var b=e.id.split("_"),g,k,c,h=[],f=0,j,d,i;if(b[b.length-2]!=="cs")throw Error.create("not a column");g=parseInt(b[b.length-1],10);k=b.slice(0,b.length-2).join("_");c=this._getParentTable(e);if(c){if(c.id!==k)throw Error.create("not a column");if(this.options.showWeekDays)f++;for(;f<c.rows.length;f++){j=c.rows[f];if(g<j.cells.length){d=j.cells[g];if(d){i=a(d).attr("daytype");if(i!==undefined)if(a(d).find("a").hasClass("ui-priority-secondary")===false)if(this._isSelectable(parseInt(i,10)))h[h.length]=d}}}}a(e).data("cells",h)},_onWeekDayClicked:function(h){this._initWeekDaySelector(h.currentTarget);var f=a(h.currentTarget).data("cells"),c=[],b,g,e,d;this.unSelectAll();for(b=0;b<f.length;b++){g=a(f[b]);e=g.attr("date");if(e!==undefined){d=new Date(e);this.selectDate(d);c[c.length]=d}}this._trigger("selectedDatesChanged",null,{dates:c});this.isPopupShowing()&&this.close();return false},_onWeekDayMouseEnter:function(b){this._initWeekDaySelector(b.currentTarget);for(var d=a(b.currentTarget).data("cells"),c=0;c<d.length;c++){b.currentTarget=d[c];this._onDayMouseEnter(b)}},_onWeekDayMouseLeave:function(b){this._initWeekDaySelector(b.currentTarget);for(var d=a(b.currentTarget).data("cells"),c=0;c<d.length;c++){b.currentTarget=d[c];this._onDayMouseLeave(b)}},_initWeekNumberSelector:function(g){if(a(g).data("cells")!==undefined)return;var b=g.id.split("_"),j,k,e,h=[],f,d,c,i;if(b[b.length-2]!=="rs")throw Error.create("not a row");j=parseInt(b[b.length-1],10);k=b.slice(0,b.length-2).join("_");e=this._getParentTable(g);if(e){if(e.id!==k)throw Error.create("not a row");f=e.rows[j];if(f){d=0;if(this.options.showWeekNumbers)d++;for(;d<f.cells.length;d++){c=f.cells[d];if(c){i=a(c).attr("daytype");if(i!==undefined)if(a(c).find("a").hasClass("ui-priority-secondary")===false)if(this._isSelectable(parseInt(i,10)))h[h.length]=c}}}}a(g).data("cells",h)},_onWeekNumberClicked:function(h){this._initWeekNumberSelector(h.currentTarget);var f=a(h.currentTarget).data("cells"),c=[],b,g,e,d;this.unSelectAll();for(b=0;b<f.length;b++){g=a(f[b]);e=g.attr("date");if(e!==undefined){d=new Date(e);this.selectDate(d);c[c.length]=d}}this._trigger("selectedDatesChanged",null,{dates:c});this.isPopupShowing()&&this.close();return false},_onWeekNumberMouseEnter:function(b){this._initWeekNumberSelector(b.currentTarget);for(var d=a(b.currentTarget).data("cells"),c=0;c<d.length;c++){b.currentTarget=d[c];this._onDayMouseEnter(b)}},_onWeekNumberMouseLeave:function(b){this._initWeekNumberSelector(b.currentTarget);for(var d=a(b.currentTarget).data("cells"),c=0;c<d.length;c++){b.currentTarget=d[c];this._onDayMouseLeave(b)}},_isAnimating:function(){return!!this.element.data("animating.wijcalendar")},_onPreviewMouseEnter:function(h){if(!!this.element.data("previewContainer"))return;if(this._isAnimating())return;var g=a(h.currentTarget),d=g.attr("id"),f=this.getDisplayDate(),e=this.options.monthCols*this.options.monthRows,c=a("<div/>");if(d===undefined)return;if(d==="prevPreview")e=-e;this.options.displayDate=b.addMonths(f,e);this.element.data("preview.wijcalendar",true);c.appendTo(document.body);c.hide();c.addClass("wijmo-wijcalendar ui-datepicker-inline ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all");c.append(this._createCalendar());this.options.displayDate=f;this.element.data("preview.wijcalendar",false);this._createMonthViews();c.wijpopup({showEffect:"slide",showOptions:{direction:d==="prevPreview"?"right":"left"},hideEffect:"slide",hideOptions:{direction:d==="prevPreview"?"right":"left"}});c.wijpopup("show",{my:d==="prevPreview"?"right top":"left top",at:d==="prevPreview"?"left top":"right top",of:g});this.element.data("previewContainer",c)},_onPreviewMouseLeave:function(c){var f=a(c.currentTarget),d=f.attr("id"),b=this.element.data("previewContainer"),e=this;if(d===undefined)return;if(b)if(b.wijpopup("isAnimating"))window.setTimeout(function(){e._onPreviewMouseLeave(c)},200);else{b.wijpopup("hide");this.element.removeData("previewContainer")}},_resetWidth:function(){if(!this._myGrid){this.element.css("height","");if(this.options.monthCols>1){this.element.css("width",17*this.options.monthCols+"em");this.element.addClass("ui-datepicker-multi")}else{this.element.css("width","");this.element.removeClass("ui-datepicker-multi")}}},_playMmSlideAnimation:function(f){var i=this.element.width(),g=this.element.height(),h=this.getDisplayDate(),c,a,b,e=this.options.direction||"horizontal",d=this;this.element.height(g);this.element.wrapInner("<div class='wijmo-wijcalendar-multi-aniwrapper'></div>");c=this.element.find(">:first-child").width(i).height(g);a=c.clone(false);a.hide();this.options.displayDate=f;this._createMonthViews();a.empty().append(this._createMonthGroup());a.appendTo(this.element);b=f>h;this.element.data("animating.wijcalendar",true);c.effect("slide",{mode:"hide",direction:e==="horizontal"?b?"left":"right":b?"up":"down",easing:this.options.easing||"easeOutBack",duration:this.options.duration},function(){c.remove()});a.effect("slide",{direction:e==="horizontal"?b?"right":"left":b?"down":"up",easing:this.options.easing||"easeOutBack",duration:this.options.duration},function(){while(a.parent().is(".wijmo-wijcalendar-multi-aniwrapper"))a.parent().replaceWith(a);a.replaceWith(a.contents());d.element.height("");d._bindEvents();d.element.data("animating.wijcalendar",false);d._trigger("afterSlide")})},_playSlideAnimation:function(m){if(!this._isSingleMonth())return;var f=this,n=this.getDisplayDate(),c=this.element.find(".ui-datepicker-calendar"),b,k,l=1,j=this.options.direction||"horizontal",h=m>n,d=[],g,i;if(c.parent().is(".wijmo-wijcalendar-aniwrapper"))b=c.parent();else{b=a.effects.createWrapper(c).css({overflow:"hidden"});b.removeClass("ui-effects-wrapper");b.addClass("wijmo-wijcalendar-aniwrapper")}if(b.parent().is(".wijmo-wijcalendar-aniwrapper"))k=b.parent();else{k=a.effects.createWrapper(b).css({overflow:"hidden"});k.removeClass("ui-effects-wrapper");k.addClass("wijmo-wijcalendar-aniwrapper")}if(this._myGrid)switch(this._myGrid.gridType){case"month":l=1;break;case"year":l=10;break;case"decade":l=100}d[d.length]=m;g=c.outerWidth();i=c.outerHeight();if(j==="horizontal"){c.width(g).css("float",h?"left":"right");b.width((d.length+1)*g);b.css("left",h?0:-d.length*g).css("position","absolute")}else{b.width(g);b.css("top",h?0:-d.length*i).css("position","absolute");b.height((d.length+1)*i)}a.each(d,function(l,c){if(f._myGrid===undefined){var k=new e(f,c),d=f._customize(k.getHtml(true));if(j==="horizontal")d.width(g).css("float",h?"left":"right").appendTo(b);else d.appendTo(b)}else if(j==="horizontal")a(f._myGrid.getHtml(c,true)).width(g).height(i).css("float",h?"left":"right").appendTo(b);else a(f._myGrid.getHtml(c,true)).height(i).appendTo(b)});this.options.displayDate=m;this._myGrid===undefined&&this._createMonthViews();this._refreshTitle();this.element.data("animating.wijcalendar",true);b.effect("slide",{mode:"hide",direction:j==="horizontal"?h?"left":"right":h?"up":"down",easing:this.options.easing||"easeOutBack",distance:(j==="horizontal"?g:i)*d.length,duration:this.options.duration},function(){c=b.children(":last");while(c.parent().is(".wijmo-wijcalendar-aniwrapper"))c.parent().replaceWith(c);c.css({"float":"",width:""});f._bindEvents();f.element.data("animating.wijcalendar",false);f._trigger("afterSlide")})},_onTitleClicked:function(){if(!this.options.allowQuickPick||!this._isSingleMonth())return;if(this._isAnimating())return;if(this._myGrid===undefined)this._myGrid=new g(this);else switch(this._myGrid.gridType){case"month":this._myGrid.gridType="year";break;case"year":this._myGrid.gridType="decade";break;case"decade":return}this._refreshTitle();this.element.width(this.element.width()).height(this.element.height());var d=this.element.find(".ui-datepicker-calendar"),b,e,c,o=d.outerWidth(),k=d.outerHeight(),f,j,n,i,h,m,l=this;if(d.parent().is(".wijmo-wijcalendar-aniwrapper"))b=d.parent();else b=a.effects.createWrapper(d).css({overflow:"hidden"}).removeClass("ui-effects-wrapper").addClass("wijmo-wijcalendar-aniwrapper");if(b.parent().is(".wijmo-wijcalendar-aniwrapper"))e=b.parent();else e=a.effects.createWrapper(b).css({overflow:"hidden"}).removeClass("ui-effects-wrapper").addClass("wijmo-wijcalendar-aniwrapper").width(o).height(k);c=a(this._myGrid.getHtml(true)).css({position:"absolute",top:0,left:0,opacity:0}).appendTo(e).height(k);f=this._myGrid.getSelectedIndex();j=Math.floor(f/4);n=f-j*4;i=o/4;h=k/3;m={left:i*n,top:h*j,width:i,height:h};d.width("100%").height("100%");b.css({border:"solid 1px #cccccc"});this.element.data("animating.wijcalendar",true);b.effect("size",{to:m,duration:this.options.duration||500},function(){b.remove()});c.animate({opacity:1},this.options.duration||500,function(){c.css({position:"",top:"",left:"",filter:""});while(c.parent().is(".wijmo-wijcalendar-aniwrapper"))c.parent().replaceWith(c);l._bindEvents();l.element.data("animating.wijcalendar",false)})},_onMyGridClicked:function(p){if(this._myGrid===undefined)return false;if(this._isAnimating())return false;var d=a(p.currentTarget),i=parseInt(d.attr("index"),10),o=parseInt(d.attr("value"),10),b=this.element.find(".ui-datepicker-calendar"),k,g,j,f,l,h,m,n,c,e=this;if(this._myGrid.gridType!=="month")if(!i||i===11)return false;!d.hasClass("ui-state-active")&&this._myGrid.select(i,o);if(this._myGrid.gridType==="decade")this._myGrid.gridType="year";else if(this._myGrid.gridType==="year")this._myGrid.gridType="month";else this._myGrid=undefined;this._refreshTitle();j=b.outerWidth();f=b.outerHeight();if(b.parent().is(".wijmo-wijcalendar-aniwrapper"))g=b.parent();else g=a.effects.createWrapper(b).css({overflow:"hidden"}).removeClass("ui-effects-wrapper").addClass("wijmo-wijcalendar-aniwrapper").width(j).height(f);l=a.extend({},d.position(),{width:d.width(),height:d.height()});if(this._myGrid===undefined){this._createMonthViews();m=this.getDisplayDate();n=this._getMonthView(m);h=this._customize(n.getHtml(true))}else h=a(this._myGrid.getHtml(true));c=h.height(f).appendTo(g);k=a.effects.createWrapper(c).css({overflow:"hidden"}).removeClass("ui-effects-wrapper").addClass("wijmo-wijcalendar-aniwrapper").css(a.extend(l,{border:"solid 1px #cccccc",position:"absolute"}));this.element.data("animating.wijcalendar",true);k.animate({left:0,top:0,width:j,height:f},this.options.duration||500,function(){c.css("width","")});b.animate({opacity:0},this.options.duration||500,function(){b.remove();while(c.parent().is(".wijmo-wijcalendar-aniwrapper"))c.parent().replaceWith(c);e._myGrid===undefined&&e.element.width("").height("");e._bindEvents();e.element.data("animating.wijcalendar",false)});return false},_onMyGridMouseEnter:function(d){if(this._myGrid===undefined)return;var c=a(d.currentTarget),b=parseInt(c.attr("index"),10);if(this._myGrid.gridType!=="month"&&(b<0||b>11))return;c.addClass("ui-state-hover")},_onMyGridMouseLeave:function(d){if(this._myGrid===undefined)return;var c=a(d.currentTarget),b=parseInt(c.attr("index"),10);if(this._myGrid.gridType!=="month"&&(b<0||b>11))return;c.removeClass("ui-state-hover")},_bindEvents:function(){if(!this.element.data("preview.wijcalendar")&&!this.options.disabledState&&!this.options.disabled){this.element.find("div .wijmo-wijcalendar-navbutton").unbind().bind("mouseout.wijcalendar",function(){var b=a(this);b.removeClass("ui-state-hover");if(b.hasClass("ui-datepicker-next-hover"))b.removeClass("ui-datepicker-next-hover");else b.hasClass("ui-datepicker-prev-hover")&&b.removeClass("ui-datepicker-prev-hover")}).bind("mouseover.wijcalendar",function(){var b=a(this);b.addClass("ui-state-hover");if(b.hasClass("ui-datepicker-next"))b.addClass("ui-datepicker-next-hover");else b.hasClass("ui-datepicker-prev")&&b.addClass("ui-datepicker-prev-hover")}).bind("click.wijcalendar",a.proxy(this._onNavButtonClicked,this));this.element.unbind(".wijcalendar").bind({"mouseup.wijcalendar":a.proxy(this._onMouseUp,this)});this.element.find(".ui-datepicker-title").unbind().bind("mouseout.wijcalendar",function(){a(this).removeClass("ui-state-hover")}).bind("mouseover.wijcalendar",function(){a(this).addClass("ui-state-hover")}).bind("click.wijcalendar",a.proxy(this._onTitleClicked,this));this.element.find(".wijmo-wijcalendar-prevpreview-button, .wijmo-wijcalendar-nextpreview-button").unbind("mouseenter.wijcalendar").unbind("mouseleave.wijcalendar").bind({"mouseenter.wijcalendar":a.proxy(this._onPreviewMouseEnter,this),"mouseleave.wijcalendar":a.proxy(this._onPreviewMouseLeave,this)});if(this._myGrid===undefined){this.element.find(".wijmo-wijcalendar-day-selectable").unbind().bind({"click.wijcalendar":a.proxy(this._onDayClicked,this),"mouseenter.wijcalendar":a.proxy(this._onDayMouseEnter,this),"mouseleave.wijcalendar":a.proxy(this._onDayMouseLeave,this),"mousedown.wijcalendar":a.proxy(this._onDayMouseDown,this),"dragstart.wijcalendar":a.proxy(this._onDayDragStart,this)});!!this.options.selectionMode.month&&this.element.find(".wijmo-wijcalendar-monthselector").unbind().bind({"click.wijcalendar":a.proxy(this._onMonthSelectorClicked,this),"mouseenter.wijcalendar":a.proxy(this._onMonthSelectorMouseEnter,this),"mouseleave.wijcalendar":a.proxy(this._onMonthSelectorMouseLeave,this)});!!this.options.selectionMode.weekDay&&this.element.find(".ui-datepicker-week-day").unbind().bind({"click.wijcalendar":a.proxy(this._onWeekDayClicked,this),"mouseenter.wijcalendar":a.proxy(this._onWeekDayMouseEnter,this),"mouseleave.wijcalendar":a.proxy(this._onWeekDayMouseLeave,this)});!!this.options.selectionMode.weekNumber&&this.element.find(".wijmo-wijcalendar-week-num").unbind().bind({"click.wijcalendar":a.proxy(this._onWeekNumberClicked,this),"mouseenter.wijcalendar":a.proxy(this._onWeekNumberMouseEnter,this),"mouseleave.wijcalendar":a.proxy(this._onWeekNumberMouseLeave,this)})}else this.element.find(".wijmo-wijcalendar-day-selectable").unbind().bind({"click.wijcalendar":a.proxy(this._onMyGridClicked,this),"mouseenter.wijcalendar":a.proxy(this._onMyGridMouseEnter,this),"mouseleave.wijcalendar":a.proxy(this._onMyGridMouseLeave,this)})}},_isSelectable:function(a){var b=this.options;return b.showOtherMonthDays&&a&c.otherMonth||!(a&(c.outOfRange|c.disabled|c.otherMonth))},_getCellClassName:function(b,h,f){var e=this.options,a="",d="ui-state-default",g=!!e.selectionMode.day||!!e.selectionMode.days;f=f||false;if(!f&&!e.disabledState&&!e.disabled&&g&&this._isSelectable(b))a+=" wijmo-wijcalendar-day-selectable";if(b&c.weekEnd)a+=" ui-datepicker-week-end";if(b&c.otherMonth){a+=" ui-datepicker-other-month";d+=" ui-priority-secondary"}if(b&c.outOfRange){a+=" wijmo-wijcalendar-outofrangeday";d+=" ui-priority-secondary"}if(b&c.gap)a+=" wijmo-wijcalendar-gap";else{if(b&c.disabled){a+=" ui-datepicker-unselectable";d+=" ui-state-disabled"}if(b&c.today){a+=" ui-datepicker-days-cell-over ui-datepicker-today";d+=" ui-state-highlight"}if(b&c.selected&&(b&(c.outOfRange|c.disabled))===0){a+=" ui-datepicker-current-day";d+=" ui-state-active"}if(b&c.gap)a+=" wijmo-wijcalendar-gap";if(b&c.custom)a+=" wijmo-wijcalendar-customday"}return{cssCell:a,cssText:d}},_onNavButtonClicked:function(g){if(this._isAnimating())return false;var c=1,f=a(g.currentTarget).attr("id"),e=this.getDisplayDate(),d=e;if(this._myGrid===undefined){c=f.indexOf("quick")>=0?this.options.quickNavStep:1;c=f.indexOf("next")>=0?c:-c;c=c*this.options.monthRows*this.options.monthCols;d=b.addMonths(e,c)}else{c=f.indexOf("next")>=0?1:-1;switch(this._myGrid.gridType){case"month":d=b.addYears(e,c);break;case"year":d=b.addYears(e,c*10);break;case"decade":d=b.addYears(e,c*100)}}this._slideToDate(d);return false},_getMonthGroupHtml:function(){var f=this.getDisplayDate(),c,h,a,g,e;if(this._isSingleMonth()){c=this._getMonthView(f);c.showPreview=this.options.allowPreview&&!this.element.data("preview.wijcalendar");return c.getHtml()}h=100/this.options.monthCols+"%";a=new d;for(g=0;g<this.options.monthRows;g++){for(e=0;e<this.options.monthCols;e++){a.writeBeginTag("div");a.writeAttribute("class","ui-datepicker-group"+(e===0?" ui-datepicker-group-first":"")+(e===this.options.monthCols-1?" ui-datepicker-group-last":""));a.writeAttribute("style","width:"+h);a.writeTagRightChar();c=this._getMonthView(f);c.showPreview=false;a.write(c.getHtml());a.writeEndTag("div");f=b.addMonths(f,1)}a.writeBeginTag("div");a.writeAttribute("class","ui-datepicker-row-break");a.writeTagRightChar();a.writeEndTag("div")}return a.toString()},_getCalendarHtml:function(){this._createMonthViews();var a=new d;a.write(this._getMonthGroupHtml());return a.toString()},_customizeDayCell:function(a){a.attr("state")===undefined&&a.attr("state","normal");if(a.attr("daytype")===undefined)return;if(a.attr("date")===undefined)return;var b=parseInt(a.attr("daytype"),10),d=new Date(a.attr("date")),c=a.attr("state")==="hover";this.options.customizeDate(a,d,b,c)},_customize:function(c){var e=this.options,d=this,b=a(c);if(!a.isFunction(e.customizeDate))return b;a.each(b.find(".wijmo-wijcalendar-day-selectable"),function(c,b){d._customizeDayCell(a(b))});return b},_createCalendar:function(){return this._customize(a(this._getCalendarHtml()))},_createMonthGroup:function(){return this._customize(a(this._getMonthGroupHtml()))},_getMonthID:function(a){return a.getFullYear()+"_"+(a.getMonth()+1)},_createMonthViews:function(){this._monthViews={};for(var c="",a=this.getDisplayDate(),f,d,g,h=0;h<this.options.monthRows;h++)for(f=0;f<this.options.monthCols;f++){c=this._getMonthID(a);this._monthViews[c]=new e(this,a);if(h===0){if(f===0)this._monthViews[c].isFirst=true;if(f===this.options.monthCols-1)this._monthViews[c].isLast=true}a=b.addMonths(a,1)}a=this.getDisplayDate();c=this._getMonthID(a);d=this._monthViews[c];if(d)this._groupStartDate=d.getStartDate();g=this.options.monthRows*this.options.monthCols;if(g>1){a=b.addMonths(a,g-1);c=this._getMonthID(a);d=this._monthViews[c]}if(d)this._groupEndDate=d.getEndDate()},_getMonthView:function(b){var a=this._getMonthID(b);return this._monthViews[a]},_getId:function(){return this.element.attr("id")},_getChildElement:function(b){var a=this.element.find("[id*='"+b+"']");return a.length===0?undefined:a},_refreshDayCell:function(h){var b=a(h),i=this.options,d,g,f,e;b.attr("state")===undefined&&b.attr("state","normal");if(b.attr("daytype")===undefined)return;if(b.attr("date")===undefined)return;d=parseInt(b.attr("daytype"),10);g=new Date(b.attr("date"));f=b.attr("state")==="hover";b.attr("class",this._getCellClassName(d,g).cssCell);b.removeAttr("aria-selected");d&c.selected&&b.attr("aria-selected",true);if(a.isFunction(i.customizeDate))if(this._customizeDayCell(b))return;e=b.find("a");if(e.length>0){e.toggleClass("ui-state-hover",f);e.toggleClass("ui-state-active",(d&c.selected)!==0)}},_isSingleMonth:function(){return this.options.monthCols*this.options.monthRows===1},_splitString:function(f,e,b){if(b===undefined)return f.split(e);for(var c=[],d=f.split(e),a=0;a<d.length;a++)if(a>=b)c[b-1]=c[b-1]+e+d[a];else c.push(d[a]);return c},_getNavButtonHtml:function(f,e,c,b){var a=new d;a.writeBeginTag("a");a.writeAttribute("id",f);a.writeAttribute("class",e);a.writeAttribute("role","button");a.writeAttribute("href","#");if(b){a.writeAttribute("title",b);a.writeAttribute("aria-label",b)}a.writeTagRightChar();a.writeBeginTag("span");a.writeAttribute("class",c);a.writeTagRightChar();b&&a.write(b);a.writeEndTag("span");a.writeEndTag("a");return a.toString()},_getTitleText:function(d){if(this._myGrid!==undefined)return this._myGrid.getTitle();else{var b=d||this.getDisplayDate(),c=this.options.titleFormat||"MMMM yyyy";return a.isFunction(this.options.title)?this.options.title(b,c)||this._formatDate(c,b):this._formatDate(c,b)}},_refreshTitle:function(){this.element.find(".ui-datepicker-title").html(this._getTitleText())},_fillTitle:function(a,b){a.writeBeginTag("div");a.writeAttribute("class","ui-datepicker-title wijmo-wijcalendar-title ui-state-default ui-corner-all");a.writeTagRightChar();a.write(this._getTitleText(b));a.writeEndTag("div")},_getHeaderHtml:function(g,e,c){var h=!!this.element.data("preview.wijcalendar"),f=h?"none":this._isSingleMonth()?this.options.navButtons:"default",b=this.element.is(".ui-datepicker-rtl"),a=new d;if(f==="quick"){a.writeBeginTag("div");a.writeAttribute("class","ui-widget-header wijmo-wijcalendar-header ui-helper-clearfix ui-corner-all");a.writeAttribute("role","heading");a.writeTagRightChar();!!e&&a.write(this._getNavButtonHtml("quickprev","wijmo-wijcalendar-navbutton ui-datepicker-prev ui-corner-all","ui-icon ui-icon-seek-"+(b?"next":"prev"),this.options.quickPrevTooltip.replace("#",this.options.quickNavStep)));a.writeBeginTag("div");a.writeAttribute("class","ui-datepicker-header wijmo-wijcalendar-header-inner");a.writeTagRightChar();!!e&&a.write(this._getNavButtonHtml("prev","wijmo-wijcalendar-navbutton ui-datepicker-prev ui-corner-all","ui-icon ui-icon-circle-triangle-"+(b?"e":"w"),this.options.prevTooltip));this._fillTitle(a,g);!!c&&a.write(this._getNavButtonHtml("next","wijmo-wijcalendar-navbutton ui-datepicker-next ui-corner-all","ui-icon ui-icon-circle-triangle-"+(b?"w":"e"),this.options.nextTooltip));a.writeEndTag("div");!!c&&a.write(this._getNavButtonHtml("quicknext","wijmo-wijcalendar-navbutton ui-datepicker-next ui-corner-all","ui-icon ui-icon-seek-"+(b?"prev":"next"),this.options.quickNextTooltip.replace("#",this.options.quickNavStep)));a.writeEndTag("div")}else{a.writeBeginTag("div");a.writeAttribute("class","ui-datepicker-header ui-widget-header ui-datepicker-header ui-helper-clearfix ui-corner-all");a.writeAttribute("role","heading");a.writeTagRightChar();f!=="none"&&!!e&&a.write(this._getNavButtonHtml("prev","wijmo-wijcalendar-navbutton ui-datepicker-prev ui-corner-all","ui-icon ui-icon-circle-triangle-"+(b?"e":"w"),this.options.prevTooltip));this._fillTitle(a,g);f!=="none"&&!!c&&a.write(this._getNavButtonHtml("next","wijmo-wijcalendar-navbutton ui-datepicker-next ui-corner-all","ui-icon ui-icon-circle-triangle-"+(b?"w":"e"),this.options.nextTooltip));a.writeEndTag("div")}return a.toString()},_formatDate:function(c,a){return!b.getTicks(a)?"&nbsp;":Globalize.format(a,c,this._getCulture())}});var d=function(){this._html=[]};d.prototype={_html:null,writeTagLeftChar:function(){this._html[this._html.length]="<"},writeTagRightChar:function(){this._html[this._html.length]=">"},write:function(a){this._html[this._html.length]=" "+a+" "},writeBeginTag:function(a){this._html[this._html.length]="<"+a},writeEndTag:function(a){this._html[this._html.length]="</"+a+">"},writeFullBeginTag:function(a){this._html[this._html.length]="<"+a+">"},writeSelfClosingTagEnd:function(){this._html[this._html.length]="/>"},writeAttribute:function(b,a){if(a===undefined||a===null)return;this._html[this._html.length]=" "+b+'="';this._html[this._html.length]=a;this._html[this._html.length]='"'},clean:function(){this._html=[]},toString:function(){return this._html.join("")}};var b={addDays:function(a,c){var b=new Date(a.getFullYear(),a.getMonth(),a.getDate()+c);if(c)if(b.getDate()===a.getDate()){b=new Date(a.getFullYear(),a.getMonth(),a.getDate());b.setTime(b.getTime()+c*864e5)}return b},addMonths:function(a,b){return new Date(a.getFullYear(),a.getMonth()+b,1)},addYears:function(b,a){return this.addMonths(b,a*12)},getDate:function(a){return new Date(a.getFullYear(),a.getMonth(),a.getDate())},getTicks:function(a){return a.valueOf()},isSameDate:function(a,b){return a.getFullYear()===b.getFullYear()&&a.getMonth()===b.getMonth()&&a.getDate()===b.getDate()},isSameMonth:function(a,b){return a.getFullYear()===b.getFullYear()&&a.getMonth()===b.getMonth()},getDaysInMonth:function(a){return new Date(a.getFullYear(),a.getMonth()+1,0).getDate()},getWeekStartDate:function(a,b){return new Date(a.getFullYear(),a.getMonth(),a.getDate()-(a.getDay()-b+7)%7)},getDayOfYear:function(a){var c=new Date(a.getFullYear(),0,1),b=this.getTicks(a)-this.getTicks(c),d=b/864e5;return Math.floor(d)+1},getFirstDayWeekOfYear:function(c,e){var d=this.getDayOfYear(c)-1,a=c.getDay()-d%7,b;a=(a-e+14)%7;b=(d+a)/7;return Math.floor(b)+1},getDayOfWeek:function(b,a){return(b.getDay()-a+7)%7},getWeekOfYearFullDays:function(d,f,b,e){var c=this.getDayOfYear(d)-1,a=this.getDayOfWeek(d,b)-c%7;a=(b-a+14)%7;if(a&&a>=e)a-=7;a=c-a;return a>=0?Math.floor(a/7)+1:this.getWeekOfYearFullDays(this.addDays(d,-(c+1)),f,b,e)},getWeekOfYear:function(b,c,a){switch(c){case"firstDay":return this.getFirstDayWeekOfYear(b,a);case"firstFullWeek":return this.getWeekOfYearFullDays(b,c,a,7);case"firstFourDayWeek":return this.getWeekOfYearFullDays(b,c,a,4)}return this.getFirstDayWeekOfYear(b,a)},getDateToken:function(a){return a.getFullYear()+"_"+a.getMonth()+"_"+a.getDate()}},e=function(c,a){this.calendar=c;if(a===undefined||b.isSameDate(a,new Date(1900,0,1)))a=new Date;this.displayDate=a;this.id=this.calendar._getId()+"_"+this.calendar._getMonthID(a);this.isFirst=false;this.isLast=false;this.showPreview=false;this.culture=this.calendar._getCulture();this._calcDates(this.displayDate)};e.prototype={_calcDates:function(a){var c=b.getDaysInMonth(a);this._startDateInMonth=new Date(a.getFullYear(),a.getMonth(),1);this._endDateInMonth=b.addDays(this._startDateInMonth,c-1);this._startDate=b.getWeekStartDate(this._startDateInMonth,this.culture.calendar.firstDay);this._endDate=b.addDays(this._startDate,this.calendar.options.dayRows*this.calendar.options.dayCols-1)},_isFirstMonth:function(){var a=this.calendar.getDisplayDate();return b.isSameMonth(this._startDateInMonth,a)},_isLastMonth:function(){var a=this.calendar.getDisplayDate();a=new Date(a.getFullYear(),a.getMonth(),1);a=b.addMonths(a,this.calendar.options.monthCols*this.calendar.options.monthRows-1);return b.isSameMonth(this._startDateInMonth,a)},getStartDate:function(){return this._startDate},getEndDate:function(){return this._endDate},_getMonthDate:function(){this._startDateInMonth===undefined&&this._calcDates(this.getDisplayDate());return this._startDateInMonth},_setMonthDate:function(a){this._calcDates(a)},_getWeekDayText:function(c,d){d=d||"short";var b=this.culture.calendar.days,a="";switch(d){case"full":a=b.names[c];break;case"firstLetter":a=b.names[c].substring(0,1);break;case"abbreviated":a=b.namesAbbr[c];break;default:a=b.namesShort[c]}return a},_getRowCount:function(){var a=this.calendar.options;return a.showWeekDays?a.dayRows+1:a.dayRows},_getColCount:function(){var a=this.calendar.options;return a.showWeekNumbers?a.dayCols+1:a.dayCols},_getDayType:function(d){var e=this.calendar.options,a=c.general,h=d.getDay(),m=h===6||h===0,g=d<e.minDate||d>e.maxDate,f=d<this._startDateInMonth||d>this._endDateInMonth,i=g||this.calendar._getDisabledDates().contains(d),j=this.calendar._getSelectedDates().contains(d),n=new Date,l=b.isSameDate(d,n),k=false;if(m)a|=c.weekEnd;if(l)a|=c.today;if(i)a|=c.disabled;if(f)a|=c.otherMonth;if(g)a|=c.outOfRange;if(j)a|=c.selected;if(k)a|=c.custom;if(f&&!e.showOtherMonthDays)a|=c.gap;return a},_refreshDate:function(b){if(b<this._startDate||b>this._endDate)return;var j=this.calendar.options,l=Date.UTC(b.getFullYear(),b.getMonth(),b.getDate()),k=Date.UTC(this._startDate.getFullYear(),this._startDate.getMonth(),this._startDate.getDate()),i=Math.floor(Math.abs(l-k)/864e5),f=Math.floor(i/this.calendar.options.dayCols),e=Math.floor(i%this.calendar.options.dayCols),c,g,d,h;if(j.showWeekNumbers)e++;if(j.showWeekDays)f++;c=a("#"+this.id,this.calendar.element).get(0);if(c)if(f<c.rows.length){g=c.rows[f];if(e<g.cells.length){d=g.cells[e];h=this._getDayType(b);a(d).attr("daytype",h.toString());this.calendar._refreshDayCell(d)}}},_fillDayCell:function(a,b,k){var j=this.calendar.options,f=null,d=b.getDate().toString(),h=this.calendar._formatDate(j.toolTipFormat||"dddd, MMMM dd, yyyy",b),e=this._getDayType(b),g=this.calendar._isSelectable(e),i=this.calendar._getCellClassName(e,b,k);d=j.showDayPadding&&d.length===1?"0"+d:d;a.writeBeginTag("td");a.writeAttribute("daytype",e.toString());if(g){a.writeAttribute("title",h);a.writeAttribute("aria-label",h)}a.writeAttribute("date",b.toDateString());a.writeAttribute("class",i.cssCell);a.writeAttribute("role","gridcell");!g&&a.writeAttribute("aria-disabled","true");a.writeTagRightChar();if(e&c.gap)a.write("&#160;");else if(f&&f.content)a.write(f.content);else{a.writeBeginTag("a");a.writeAttribute("class",i.cssText);a.writeAttribute("href","#");a.writeAttribute("onclick","return false;");a.writeTagRightChar();a.write(d);a.writeEndTag("a")}a.writeEndTag("td")},getHtml:function(g){g=!!g;var c=this.calendar.options,h=!!this.calendar.element.data("preview.wijcalendar"),a=new d,e,m,f,k,q,o,r,l,j,i,p,n;!g&&c.showTitle&&a.write(this.calendar._getHeaderHtml(this._startDateInMonth,this.isFirst,this.isLast));if(!g&&!h&&this.showPreview){a.writeBeginTag("div");a.writeAttribute("class","wijmo-wijcalendar-prevpreview-button");a.writeAttribute("role","button");a.writeAttribute("aria-haspopup","true");a.writeAttribute("id","prevPreview");a.writeTagRightChar();a.writeBeginTag("a");a.writeAttribute("class","ui-icon ui-icon-grip-dotted-vertical");a.writeAttribute("href","#");a.writeAttribute("title",c.prevPreviewTooltip);a.writeAttribute("aria-label",c.prevPreviewTooltip);a.writeAttribute("onclick","return false;");a.writeTagRightChar();a.write("&#160;");a.writeEndTag("a");a.writeEndTag("div")}a.writeBeginTag("table");a.writeAttribute("id",this.id);a.writeAttribute("class","ui-datepicker-calendar wijmo-wijcalendar-table");a.writeAttribute("role","grid");a.writeAttribute("summary",this.calendar._getTitleText(this._startDateInMonth));a.writeAttribute("onselectstart","return false;");a.writeTagRightChar();if(c.showWeekDays){a.writeFullBeginTag("thead");a.writeBeginTag("tr");a.writeTagRightChar();if(c.showWeekNumbers){a.writeBeginTag("th");a.writeAttribute("id",this.id+"_ms");a.writeAttribute("class","ui-datepicker-week-col wijmo-wijcalendar-monthselector"+(!!c.selectionMode.month?" wijmo-wijcalendar-selectable":""));a.writeAttribute("role","columnheader");a.writeTagRightChar();if(!!c.selectionMode.month&&!h&&!c.disabledState&&!c.disabled){a.writeBeginTag("a");a.writeAttribute("class","ui-icon ui-icon-triangle-1-se");a.writeSelfClosingTagEnd()}else a.write("Wk");a.writeEndTag("th")}f=this._startDate.getDay();k=this._startDate;for(e=0;e<c.dayCols;e++){q=f===6||f===0;o=e+(c.showWeekNumbers?1:0);r=this._getWeekDayText(f,c.weekDayFormat);l=this._getWeekDayText(f,"full");a.writeBeginTag("th");a.writeAttribute("id",this.id+"_cs_"+o);a.writeAttribute("class","ui-datepicker-week-day"+(q?" ui-datepicker-week-end":"")+(!!c.selectionMode.weekDay?" wijmo-wijcalendar-selectable":""));a.writeAttribute("role","columnheader");a.writeTagRightChar();a.writeBeginTag("span");a.writeAttribute("title",l);a.writeAttribute("aria-label",l);a.writeTagRightChar();a.write(r);a.writeEndTag("span");a.writeEndTag("th");f=(f+1)%7;k=b.addDays(k,1)}a.writeEndTag("tr");a.writeEndTag("thead")}a.writeFullBeginTag("tbody");j=this._startDate;i=this._startDateInMonth;for(e=0;e<c.dayRows;e++){a.writeBeginTag("tr");a.writeTagRightChar();if(c.showWeekNumbers){p=e+(c.showWeekDays?1:0);a.writeBeginTag("td");a.writeAttribute("id",this.id+"_rs_"+p);a.writeAttribute("class","ui-datepicker-week-col wijmo-wijcalendar-week-num"+(!!c.selectionMode.weekNumber?" wijmo-wijcalendar-selectable":""));a.writeAttribute("role","rowheader");a.writeTagRightChar();n=b.getWeekOfYear(i,c.calendarWeekRule,this.culture.calendar.firstDay);a.write(n);a.writeEndTag("td");i=b.addDays(i,c.dayCols)}for(m=0;m<c.dayCols;m++){this._fillDayCell(a,j,h);j=b.addDays(j,1)}a.writeEndTag("tr")}a.writeEndTag("tbody");a.writeEndTag("table");if(!g&&!h&&this.showPreview){a.writeBeginTag("div");a.writeAttribute("class","wijmo-wijcalendar-nextpreview-button");a.writeAttribute("role","button");a.writeAttribute("aria-haspopup","true");a.writeAttribute("id","nextPreview");a.writeTagRightChar();a.writeBeginTag("a");a.writeAttribute("class","ui-icon ui-icon-grip-dotted-vertical");a.writeAttribute("href","#");a.writeAttribute("title",c.nextPreviewTooltip);a.writeAttribute("aria-label",c.nextPreviewTooltip);a.writeAttribute("onclick","return false;");a.writeTagRightChar();a.write("&#160;");a.writeEndTag("a");a.writeEndTag("div")}return a.toString()}};var f=function(b,a){this._calendar=b;this._optionName=a;this._normalize()};f.prototype={_calendar:null,_optionName:"selectedDates",getDates:function(){if(this._calendar.options[this._optionName]===undefined)this._calendar.options[this._optionName]=[];return this._calendar.options[this._optionName]},setDates:function(a){this._calendar.options[this._optionName]=a;this._normalize()},getCount:function(){return this.getDates().length},clear:function(){this.setDates([])},add:function(a){this.addRange(a,a)},remove:function(a){this.removeRange(a,a)},indexOf:function(a){return!this.getCount()?-1:this._findRangeBound(a,true,false)},contains:function(a){return this.indexOf(a)!==-1},removeRange:function(g,f){if(!this.getCount())return;var c=this._findRangeBound(g,false,true),a=this._findRangeBound(f,false,false),b,d,e;if(c<0||a<0)return;if(c>a)return;b=this.getDates();if(b[a]>f)return;d=!c?[]:b.slice(0,c);e=a>=b.length-1?[]:b.slice(a+1);this.setDates(d.concat(e))},addRange:function(c,d){this.removeRange(c,d);var g=this.getDates(),e=this._findRangeBound(c,false,true),h=!e?[]:g.slice(0,e),i=g.slice(e),f=[],a;c=b.getDate(c);d=b.getDate(d);for(a=c;a<=d;a=b.addDays(a,1))f[f.length]=a;this.setDates(h.concat(f.concat(i)))},_findRangeBound:function(f,h,g){var e=this.getDates(),c=0,d=e.length,a;while(c<d){a=c+d>>1;if(b.isSameDate(f,e[a]))return a;if(f<e[a])d=a;else c=a+1}return h?-1:g?c:d},_parseDate:function(a){var b;if(!a)a=new Date;else if(typeof a==="string")b=a;if(b){b=b.replace(/-/g,"/");try{a=new Date(b);if(isNaN(a))a=new Date}catch(c){a=new Date}}return a},_normalize:function(){var c=this._calendar.options[this._optionName],d=this,b;if(a.isArray(c)){b=a.map(c,function(a){return d._parseDate(a)});this._calendar.options[this._optionName]=b.sort(function(a,b){return a.getTime()-b.getTime()})}}};var g=function(a){this.gridType="month";this.calendar=a;this.culture=a._getCulture()};g.prototype={gridType:"month",calendar:null,culture:undefined,select:function(c,b){var a=this.calendar.getDisplayDate();switch(this.gridType){case"month":a.setMonth(b);break;case"year":a.setFullYear(b);break;case"decade":a.setFullYear(b)}this.calendar.options.displayDate=a},getSelectedIndex:function(){var b=this.calendar.getDisplayDate(),a=b.getFullYear(),d=Math.floor(a/10)*10-1,c=Math.floor(a/100)*100-10;switch(this.gridType){case"month":return b.getMonth();case"year":return a-d;case"decade":return Math.floor((a-c)/10)}return 0},getTitle:function(){var d=this.calendar.getDisplayDate(),a=d.getFullYear(),c=Math.floor(a/10)*10-1,b=Math.floor(a/100)*100-10;switch(this.gridType){case"month":return a.toString();case"year":return c+1+" - "+(c+10);case"decade":return b+10+" - "+(b+109)}return""},getHtml:function(g,l){if(g===undefined)g=this.calendar.getDisplayDate();else if(typeof g==="boolean"){l=g;g=this.calendar.getDisplayDate()}l=!!l;var e=this.calendar.options,s=3,u=4,a=new d,p,h,o,r,q,t,m,n,c,k,f,j,b,i;e.showTitle&&!l&&a.write(this.calendar._getHeaderHtml(null,true,true));p=100/s+"%";p="30%";a.writeBeginTag("table");a.writeAttribute("class","ui-datepicker-calendar wijmo-wijcalendar-mygrid");a.writeAttribute("role","grid");a.writeAttribute("onselectstart","return false;");a.writeTagRightChar();h=g.getFullYear();o=g.getFullYear()*12;r=Math.floor(h/10)*10-1;q=Math.floor(h/100)*100-10;t=this.culture.calendar.months;for(m=0;m<s;m++){a.writeBeginTag("tr");a.writeAttribute("height",p);a.writeTagRightChar();for(n=0;n<u;n++){c=m*4+n;k=false;f=false;j="";b=null;switch(this.gridType){case"month":if(g.getMonth()===c)k=true;b=c;j=t.namesAbbr[c];f=o+c<e.minDate.getFullYear()*12+e.minDate.getMonth()||o+c>e.maxDate.getFullYear()*12+e.maxDate.getMonth();break;case"year":if(c===0||c===11)f=true;b=r+c;if(b<e.minDate.getFullYear()||b>e.maxDate.getFullYear())f=true;else k=h===b;j=b.toString();break;case"decade":if(c===0||c===11)f=true;b=q+c*10;if(b+10<e.minDate.getFullYear()||b>e.maxDate.getFullYear())f=true;else k=h>=b&&h<b+10;j=b.toString()+"-<br/>"+(b+9).toString()}i="ui-datepicker-week-day";if(f)i=i+" ui-datepicker-other-month ui-priority-secondary ui-datepicker-unselectable";else if(!e.disabledState&&!e.disabled)i+=" wijmo-wijcalendar-day-selectable";i+=" ui-state-default"+(f?" ui-state-disabled":"")+(k?" ui-state-active ui-state-highlight":"");a.writeBeginTag("td");a.writeAttribute("class",i);a.writeAttribute("role","gridcell");a.writeAttribute("index",c.toString());a.writeAttribute("value",b.toString());a.writeAttribute("other",f.toString());a.writeTagRightChar();a.writeBeginTag("a");a.writeAttribute("href","#");a.writeTagRightChar();a.write(j);a.writeEndTag("a");a.writeEndTag("td")}a.writeEndTag("tr")}a.writeEndTag("table");return a.toString()}}})(jQuery);;
/*
 *
 * Wijmo Library 2.3.7
 * http://wijmo.com/
 *
 * Copyright(c) GrapeCity, Inc.  All rights reserved.
 * 
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * licensing@wijmo.com
 * http://wijmo.com/widgets/license/
 *
 **/
(function(a){"use strict";var e=0,d=0;function c(){return++e}function b(){return++d}a.widget("wijmo.wijtabs",{options:{alignment:"top",sortable:false,scrollable:false,ajaxOptions:null,cache:false,cookie:null,collapsible:false,hideOption:null,showOption:null,disabledIndexes:[],event:"click",idPrefix:"ui-tabs-",panelTemplate:"",spinner:"",tabTemplate:"",add:null,remove:null,select:null,beforeShow:null,show:null,load:null,disable:null,enable:null},_defaults:{panelTemplate:"<div></div>",spinner:"<em>Loading&#8230;</em>",tabTemplate:'<li><a href="#{href}"><span>#{label}</span></a></li>'},_create:function(){var b=this,c=b.options;if(window.wijmoApplyWijTouchUtilEvents)a=window.wijmoApplyWijTouchUtilEvents(a);b.element.is(":hidden")&&b.element.wijAddVisibilityObserver&&b.element.wijAddVisibilityObserver(function(){b.element.wijRemoveVisibilityObserver&&b.element.wijRemoveVisibilityObserver();var c=b.element.data("wijtabs"),a=b.element.data("wijmoWijtabs");b.destroy();b.element.data("wijtabs",c);b.element.data("wijmoWijtabs",a);b._tabify(true)},"wijtabs");b._tabify(true);(c.disabledstate||c.disabled)&&b.disable();a.Widget.prototype._create.apply(b,arguments)},_setOption:function(c,b){a.Widget.prototype._setOption.apply(this,arguments);switch(c){case"selected":if(this.options.collapsible&&b===this.options.selected)return;this.select(b);break;case"alignment":this._innerDestroy();this._tabify(true);break;default:this._tabify()}},_initScroller:function(){var c=a.inArray(this._getAlignment(),["top","bottom"])!==-1,b=0;if(!c)return;this.lis.each(function(){b+=a(this).outerWidth(true)});if(!!this.options.scrollable&&this.element.innerWidth()<b){if(this.scrollWrap===undefined){this.list.wrap("<div class='scrollWrap'></div>");this.scrollWrap=this.list.parent();a.effects.save(this.list,["width","height","overflow"])}this.list.width(b+2);this.scrollWrap.height(this.list.outerHeight(true));this.scrollWrap.wijsuperpanel({allowResize:false,hScroller:{scrollMode:"edge"},vScroller:{scrollBarVisibility:"hidden"}})}else this._removeScroller()},_removeScroller:function(){if(this.scrollWrap){this.scrollWrap.wijsuperpanel("destroy").replaceWith(this.scrollWrap.contents());this.scrollWrap=undefined;a.effects.restore(this.list,["width","height","overflow"])}},_tabId:function(d){var e=a(d),b,f;if(e.data&&e.data("tabid"))return e.data("tabid");if(d.href&&d.href.length){f=this._getURLParameters(d.href);if(f.tabId){b=f.tabId;e.data("tabid",b);return b}}b=d.title&&d.title.replace(/\s/g,"_").replace(/[^A-Za-z0-9\-_:\.]/g,"")||this.options.idPrefix+c();e.data("tabid",b);return b},_getURLParameters:function(e){var d={},b,c;if(e.indexOf("?")>-1){b=e.split("?")[1];c=b.split("&");a.each(c,function(c,b){var a=b.split("=");if(a.length>1)d[a[0]]=a[1]})}return d},_sanitizeSelector:function(a){return a.replace(/:/g,"\\:")},_cookie:function(){var c=this.cookie||(this.cookie=this.options.cookie.name||"ui-tabs-"+b());return a.cookie.apply(null,[c].concat(a.makeArray(arguments)))},_ui:function(a,b){return{tab:a,panel:b,index:this.anchors.index(a)}},_cleanup:function(){this.lis.filter(".ui-tabs-loading").removeClass("ui-tabs-loading").find("span:data(label.tabs)").each(function(){var b=a(this);b.html(b.data("label.tabs")).removeData("label.tabs")})},_getAlignment:function(b){b=b===undefined?true:b;var a=this.options.alignment||"top";if(b)return a;switch(a){case"top":a="bottom";break;case"bottom":a="top";break;case"left":a="right";break;case"right":a="left"}return a},_saveLayout:function(){var b=["width","height","overflow"],c=this.panels.filter(":not(.ui-tabs-hide)");a.effects.save(this.element,b);a.effects.save(this.list,b);a.effects.save(this.element.find(".wijmo-wijtabs-content"),b);this.list.width(this.list.width());this.element.data("panel.width",c.width());this.element.data("panel.outerWidth",c.outerWidth(true))},_restoreLayout:function(){var b=["width","height","overflow"];a.effects.restore(this.element,b);a.effects.restore(this.list,b);a.effects.restore(this.element.find(".wijmo-wijtabs-content"),b)},_hideContent:function(){var a=this.element.find(".wijmo-wijtabs-content");if(a.length){this._saveLayout();a.addClass("ui-tabs-hide").attr("aria-hidden",true);this.element.width(this.list.outerWidth(true))}},_showContent:function(){var a=this.element.find(".wijmo-wijtabs-content");if(a.length){this._restoreLayout();a.removeClass("ui-tabs-hide").attr("aria-hidden",false)}},_blindPanel:function(b,c){var j=this.options,h=b.parent(".wijmo-wijtabs-content"),k=["position","top","left","width"],f=c==="show"?j.showOption:j.hideOption,e,i,g,d=this;if(!h.length)return;this.list.width(this.list.width());a.effects.save(b,k);b.show();if(c==="show"){b.removeClass("ui-tabs-hide").attr("aria-hidden",false);b.width(this.element.data("panel.width"))}else b.width(b.width());e=a.effects.createWrapper(b).css({overflow:"hidden"});c==="show"&&e.css(a.extend({width:0},f.fade?{opacity:0}:{}));i=a.extend({width:c==="show"?this.element.data("panel.outerWidth"):0},f.fade?{opacity:c==="show"?1:0}:{});g=this.list.outerWidth(true);e.animate(i,{duration:f.duration,step:function(){var a=e.outerWidth(true);d.element.width(g+a);h.width(Math.max(0,d.element.innerWidth()-g-6))},complete:function(){if(c==="hide"){d.lis.removeClass("ui-tabs-active ui-state-active").attr("aria-selected",false);b.addClass("ui-tabs-hide").attr("aria-hidden",true)}else b.css("width","");a.effects.removeWrapper(b);c==="show"&&d._restoreLayout();d._resetStyle(b);b.dequeue();d.element.dequeue("tabs")}})},_resetStyle:function(b){b.css({display:""});!a.support.opacity&&b[0].style.removeAttribute("filter")},_normalizeBlindOption:function(a){if(a.blind===undefined)a.blind=false;if(a.fade===undefined)a.fade=false;if(a.duration===undefined)a.duration=200;if(typeof a.duration==="string")try{a.duration=parseInt(a.duration,10)}catch(b){a.duration=200}},_tabify:function(n){this.list=this.element.children("ol,ul").eq(0);this.lis=a("li:has(a)",this.list);this.anchors=this.lis.map(function(){return a("a",this)[0]});this.panels=a([]);var c=this,b=this.options,m=/^#.+/,d,l,f,g,e,i,h,k,j;this.anchors.each(function(j,e){var d=a(e).attr("href")||"",h=d.split("#")[0],i,g,f;if(h&&(h===location.toString().split("#")[0]||(i=a("base")[0])&&h===i.href)){d=e.hash;e.href=d}if(m.test(d))c.panels=c.panels.add(c._sanitizeSelector(d),c.element);else if(d!=="#"){a.data(e,"href.tabs",d);a.data(e,"load.tabs",d.replace(/#.*$/,""));g=c._tabId(e);e.href="#"+g;f=a("#"+g);if(!f.length){f=a(b.panelTemplate||c._defaults.panelTemplate).attr("id",g).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").insertAfter(c.panels[j-1]||c.list);f.data("destroy.tabs",true)}c.panels=c.panels.add(f)}else b.disabledIndexes.push(j)});d=this._getAlignment();l=this._getAlignment(false);if(n){this.list.attr("role","tablist");this.lis.attr("role","tab");this.panels.attr("role","tabpanel");this.element.addClass("ui-tabs wijmo-wijtabs ui-tabs-"+d+" ui-widget ui-widget-content ui-corner-all ui-helper-clearfix");this.list.addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all");this.lis.addClass("ui-state-default ui-corner-"+d);this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-"+l);switch(d){case"bottom":this.list.appendTo(this.element);break;case"left":f=a("<div/>").addClass("wijmo-wijtabs-content").appendTo(this.element);this.panels.appendTo(f);break;case"right":f=a("<div/>").addClass("wijmo-wijtabs-content").insertBefore(this.list);this.panels.appendTo(f);break;case"top":this.list.prependTo(this.element)}b.sortable&&this.list.sortable&&this.list.sortable({axis:d==="top"||d==="bottom"?"x":"y"});if(b.selected===undefined){location.hash&&this.anchors.each(function(c,a){if(a.hash===location.hash){b.selected=c;return false}});if(typeof b.selected!=="number"&&b.cookie)b.selected=parseInt(c._cookie(),10);if(typeof b.selected!=="number"&&this.lis.filter(".ui-tabs-active").length)b.selected=this.lis.index(this.lis.filter(".ui-tabs-active"));b.selected=b.selected||(this.lis.length?0:-1)}else if(b.selected===null)b.selected=-1;b.selected=b.selected>=0&&this.anchors[b.selected]||b.selected<0?b.selected:0;b.disabledIndexes=a.unique(b.disabledIndexes.concat(a.map(this.lis.filter(".ui-state-disabled"),function(a){return c.lis.index(a)}))).sort();a.inArray(b.selected,b.disabledIndexes)!==-1&&b.disabledIndexes.splice(a.inArray(b.selected,b.disabledIndexes),1);this.panels.addClass("ui-tabs-hide").attr("aria-hidden",true);this.lis.removeClass("ui-tabs-active ui-state-active").attr("aria-selected",false);if(b.selected>=0&&this.anchors.length){this.panels.eq(b.selected).removeClass("ui-tabs-hide").attr("aria-hidden",false);this.lis.eq(b.selected).addClass("ui-tabs-active ui-state-active").attr("aria-selected",true);c.element.queue("tabs",function(){c.element.wijTriggerVisibility&&a(c.panels[b.selected]).wijTriggerVisibility();c._trigger("show",null,c._ui(c.anchors[b.selected],c.panels[b.selected]))});this.load(b.selected)}a(window).bind("unload",function(){c.lis&&c.lis.add(c.anchors).unbind(".tabs");c.lis=c.anchors=c.panels=null})}else b.selected=this.lis.index(this.lis.filter(".ui-tabs-active"));this.element[b.collapsible?"addClass":"removeClass"]("ui-tabs-collapsible");b.cookie&&this._cookie(b.selected,b.cookie);for(g=0;e=this.lis[g];g++){a(e)[a.inArray(g,b.disabledIndexes)!==-1&&!a(e).hasClass("ui-tabs-active")?"addClass":"removeClass"]("ui-state-disabled");a(e).hasClass("ui-state-disabled")&&a(e).attr("aria-disabled",true)}b.cache===false&&this.anchors.removeData("cache.tabs");this.lis.add(this.anchors).unbind(".tabs");if(!b.disabledState&&!b.disabled&&b.event!=="mouseover"){i=function(b,a){a.is(":not(.ui-state-disabled)")&&a.addClass("ui-state-"+b)};h=function(a,b){b.removeClass("ui-state-"+a)};this.lis.bind("mouseover.tabs",function(){i("hover",a(this))});this.lis.bind("mouseout.tabs",function(){h("hover",a(this))});this.anchors.bind("focus.tabs",function(){i("focus",a(this).closest("li"))});this.anchors.bind("blur.tabs",function(){h("focus",a(this).closest("li"))})}if(b.showOption===undefined||b.showOption===null)b.showOption={};this._normalizeBlindOption(b.showOption);if(b.hideOption===undefined||b.hideOption===null)b.hideOption={};this._normalizeBlindOption(b.hideOption);k=(b.showOption.blind||b.showOption.fade)&&b.showOption.duration>0?function(g,e){a(g).closest("li").addClass("ui-tabs-active ui-state-active").attr("aria-selected",true);c._showContent();e.removeClass("ui-tabs-hide").attr("aria-hidden",false);if(d==="top"||d==="bottom"){var f={duration:b.showOption.duration};if(b.showOption.blind)f.height="toggle";if(b.showOption.fade)f.opacity="toggle";e.hide().removeClass("ui-tabs-hide").attr("aria-hidden",false).animate(f,b.showOption.duration||"normal",function(){c._resetStyle(e);e.wijTriggerVisibility&&e.wijTriggerVisibility();c._trigger("show",null,c._ui(g,e[0]))})}else{c._showContent();c._blindPanel(e,"show")}}:function(d,b){a(d).closest("li").addClass("ui-tabs-active ui-state-active").attr("aria-selected",true);c._showContent();b.removeClass("ui-tabs-hide").attr("aria-hidden",false);b.wijTriggerVisibility&&b.wijTriggerVisibility();c._trigger("show",null,c._ui(d,b[0]))};j=(b.hideOption.blind||b.hideOption.fade)&&b.hideOption.duration>0?function(f,a){if(d==="top"||d==="bottom"){var e={duration:b.hideOption.duration};if(b.hideOption.blind)e.height="toggle";if(b.hideOption.fade)e.opacity="toggle";a.animate(e,b.hideOption.duration||"normal",function(){c.lis.removeClass("ui-tabs-active ui-state-active").attr("aria-selected",false);a.addClass("ui-tabs-hide").attr("aria-hidden",true);c._resetStyle(a);c.element.dequeue("tabs")})}else{c._saveLayout();c._blindPanel(a,"hide")}}:function(b,a){c.lis.removeClass("ui-tabs-active ui-state-active").attr("aria-selected",false);c._hideContent();a.addClass("ui-tabs-hide").attr("aria-hidden",true);c.element.dequeue("tabs")};!b.disabledState&&!b.disabled&&this.anchors.bind(b.event+".tabs",function(){var g=this,f=a(this).closest("li"),d=c.panels.filter(":not(.ui-tabs-hide)"),e=a(c._sanitizeSelector(this.hash),c.element);if(f.hasClass("ui-tabs-active")&&!b.collapsible||f.hasClass("ui-state-disabled")||f.hasClass("ui-tabs-loading")||c._trigger("select",null,c._ui(this,e[0]))===false){this.blur();return false}b.selected=c.anchors.index(this);c.abort();if(b.collapsible)if(f.hasClass("ui-tabs-active")){b.selected=-1;b.cookie&&c._cookie(b.selected,b.cookie);c.element.queue("tabs",function(){j(g,d)}).dequeue("tabs");this.blur();return false}else if(!d.length){b.cookie&&c._cookie(b.selected,b.cookie);c.element.queue("tabs",function(){k(g,e)});c.load(c.anchors.index(this));this.blur();return false}b.cookie&&c._cookie(b.selected,b.cookie);if(e.length){d.length&&c.element.queue("tabs",function(){j(g,d)});c.element.queue("tabs",function(){k(g,e)});c.load(c.anchors.index(this))}else throw"jQuery UI Tabs: Mismatching fragment identifier.";a.browser.msie&&this.blur()});this._initScroller();this.anchors.bind("click.tabs",function(){return false})},destroy:function(){this._innerDestroy();a.Widget.prototype.destroy.apply(this,arguments)},_innerDestroy:function(){var c=this.options,b=a(".wijmo-wijtabs-content");this.abort();this._removeScroller();this.element.unbind(".tabs").removeClass(["wijmo-wijtabs","ui-tabs-top","ui-tabs-bottom","ui-tabs-left","ui-tabs-right","ui-tabs","ui-widget","ui-widget-content","ui-corner-all","ui-tabs-collapsible","ui-helper-clearfix"].join(" ")).removeData("tabs").removeAttr("role");this.list.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfixui-widget-header ui-corner-all").removeAttr("role");this.anchors.each(function(){var c=a.data(this,"href.tabs"),b;if(c)this.href=c;b=a(this).unbind(".tabs");a.each(["href","load","cache"],function(c,a){b.removeData(a+".tabs")})});this.lis.unbind(".tabs").add(this.panels).each(function(){if(a.data(this,"destroy.tabs"))a(this).remove();else a(this).removeClass(["ui-state-default","ui-corner-top","ui-corner-bottom","ui-corner-left","ui-corner-right","ui-tabs-active","ui-state-active","ui-state-hover","ui-state-focus","ui-state-disabled","ui-tabs-panel","ui-widget-content","ui-tabs-hide"].join(" ")).css({position:"",left:"",top:""}).removeAttr("role").removeAttr("aria-hidden").removeAttr("aria-selected").removeAttr("aria-disabled")});b.length&&b.replaceWith(b.contents());c.cookie&&this._cookie(null,c.cookie);return this},add:function(h,l,b){if(b===undefined)b=this.anchors.length;var c=this,f=this.options,e=a((f.tabTemplate||c._defaults.tabTemplate).replace(/#\{href\}/g,h).replace(/#\{label\}/g,l)),i=!h.indexOf("#")?h.replace("#",""):this._tabId(a("a",e)[0]),k=this._getAlignment(),j=this._getAlignment(false),d=a("#"+i),g;e.addClass("ui-state-default ui-corner-"+k).data("destroy.tabs",true).attr("role","tab").attr("aria-selected",false);if(!d.length)d=a(f.panelTemplate||c._defaults.panelTemplate).attr("id",i).data("destroy.tabs",true).attr("role","tabpanel");d.addClass("ui-tabs-panel ui-widget-content ui-corner-"+j+" ui-tabs-hide").attr("aria-hidden",true);if(b>=this.lis.length){e.appendTo(this.list);if(this.panels.length>0)d.insertAfter(this.panels[this.panels.length-1]);else{g=this.element.find(".wijmo-wijtabs-content");if(g.length===0)g=this.element;d.appendTo(g)}}else{e.insertBefore(this.lis[b]);d.insertBefore(this.panels[b])}f.disabledIndexes=a.map(f.disabledIndexes,function(a){return a>=b?++a:a});this._removeScroller();this._tabify();if(this.anchors.length===1){f.selected=0;e.addClass("ui-tabs-active ui-state-active").attr("aria-selected",true);d.removeClass("ui-tabs-hide").attr("aria-hidden",false);this.element.queue("tabs",function(){c.element.wijTriggerVisibility&&a(c.panels[0]).wijTriggerVisibility();c._trigger("show",null,c._ui(c.anchors[0],c.panels[0]))});this.load(0)}this._trigger("add",null,this._ui(this.anchors[b],this.panels[b]));return this},remove:function(b){var d=this.options,c=this.lis.eq(b).remove(),e=this.panels.eq(b).remove();c.hasClass("ui-tabs-active")&&this.anchors.length>1&&this.select(b+(b+1<this.anchors.length?1:-1));d.disabledIndexes=a.map(a.grep(d.disabledIndexes,function(a){return a!==b}),function(a){return a>=b?--a:a});this._removeScroller();this._tabify();this._trigger("remove",null,this._ui(c.find("a")[0],e[0]));return this},enableTab:function(b){var c=this.options;if(a.inArray(b,c.disabledIndexes)===-1)return;this.lis.eq(b).removeClass("ui-state-disabled").removeAttr("aria-disabled");c.disabledIndexes=a.grep(c.disabledIndexes,function(a){return a!==b});this._trigger("enable",null,this._ui(this.anchors[b],this.panels[b]));return this},disableTab:function(a){var b=this.options;if(a!==b.selected){this.lis.eq(a).addClass("ui-state-disabled").attr("aria-disabled",true);b.disabledIndexes.push(a);b.disabledIndexes.sort();this._trigger("disable",null,this._ui(this.anchors[a],this.panels[a]))}return this},select:function(a){if(typeof a==="string")a=this.anchors.index(this.anchors.filter("[href$="+a+"]"));else if(a===null)a=-1;if(a===-1&&this.options.collapsible)a=this.options.selected;this.anchors.eq(a).trigger(this.options.event+".tabs");return this},load:function(c){var b=this,e=this.options,d=this.anchors.eq(c)[0],g=a.data(d,"load.tabs"),f=a("span",d);this.abort();if(!g||this.element.queue("tabs").length!==0&&a.data(d,"cache.tabs")){this.element.dequeue("tabs");return}this.lis.eq(c).addClass("ui-tabs-loading");(e.spinner||b._defaults.spinner)&&f.data("label.tabs",f.html()).html(e.spinner||b._defaults.spinner);this.xhr=a.ajax(a.extend({},e.ajaxOptions,{url:g,success:function(f,g){a(b._sanitizeSelector(d.hash),b.element).html(f);b._cleanup();e.cache&&a.data(d,"cache.tabs",true);b._trigger("load",null,b._ui(b.anchors[c],b.panels[c]));try{e.ajaxOptions.success(f,g)}catch(h){}},error:function(a,f){b._cleanup();b._trigger("load",null,b._ui(b.anchors[c],b.panels[c]));try{e.ajaxOptions.error(a,f,c,d)}catch(g){}}}));b.element.dequeue("tabs");return this},abort:function(){this.element.queue([]);this.panels.stop(false,true);this.element.queue("tabs",this.element.queue("tabs").splice(-2,2));if(this.xhr){this.xhr.abort();delete this.xhr}this._cleanup();return this},url:function(a,b){this.anchors.eq(a).removeData("cache.tabs").data("load.tabs",b);return this},length:function(){return this.anchors.length}})})(jQuery);;
/*
 *
 * Wijmo Library 2.3.7
 * http://wijmo.com/
 *
 * Copyright(c) GrapeCity, Inc.  All rights reserved.
 * 
 * Licensed under the Wijmo Commercial License. Also available under the GNU GPL Version 3 license.
 * licensing@wijmo.com
 * http://wijmo.com/widgets/license/
 *
 *
 **/
(function(a){"use strict";var c,b,d;c=function(b){var a=this;a.data={};a.reader=null;a.proxy=null;a.items=[];a.loading=null;a.loaded=null;a._constructor(b)};window.wijdatasource=c;a.extend(c.prototype,{_constructor:function(b){a.extend(this,b)},load:function(c,e){var b=this,d=b.proxy;if(a.isFunction(b.loading))if(b.loading(b,c)===false)return;if(d)d.request(b,b.loaded,c);else{(b.items.length===0||e)&&this.read();a.isFunction(b.loaded)&&b.loaded(b,c)}},read:function(){var a=this,b=a.data;if(b&&a.reader)a.reader.read(a);else a.items=a.data}});b=function(b){a.isFunction(window.wijmoASPNetParseOptions)&&wijmoASPNetParseOptions(b);if(a.isArray(b))this.fields=b};window.wijarrayreader=b;a.extend(b.prototype,{read:function(b){if(a.isArray(b.data))b.items=this._map(b.data);else b.items=[]},_map:function(d){var c=this,b=[];if(c.fields===undefined||c.fields.length===0){a.extend(true,b,d);return b}else a.each(d,function(f,d){var e={};a.each(c.fields,function(g,b){if(b.mapping&&typeof b.mapping&&window[b.mapping])b.mapping=window[b.mapping];if(a.isFunction(b.mapping)){e[b.name]=b.mapping(d);return true}var f=b.mapping!==undefined?b.mapping:b.name,c=d[f];if(c===undefined)if(b.defaultValue!==undefined)c=b.defaultValue;else c=d;e[b.name]=c});b.push(e)});return b}});d=function(b){this.options=b;a.isFunction(window.wijmoASPNetParseOptions)&&wijmoASPNetParseOptions(b)};window.wijhttpproxy=d;a.extend(d.prototype,{request:function(d,e,f){var g=this,b=a.extend({},this.options),c=b.success;b.success=function(h){a.isFunction(c)&&c(h);g._complete(h,d,e,b,f)};a.ajax(b)},_complete:function(e,b,c,d,f){b.data=d.key!==undefined?e[d.key]:e;b.read();a.isFunction(c)&&c(b,f)}})})(jQuery);;
/*
 *
 * Wijmo Library 2.3.7
 * http://wijmo.com/
 *
 * Copyright(c) GrapeCity, Inc.  All rights reserved.
 * 
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * licensing@wijmo.com
 * http://wijmo.com/widgets/license/
 *
 **/
(function(a){"use strict";var j="wijmo-wijsplitter-",t=j+"wrapper",m=j+"horizontal",n=j+"vertical",c=j+"h-",b=j+"v-",o="-content",d={panel1:{n:"panel1",content:"panel1"+o},panel2:{n:"panel2",content:"panel2"+o}},v="bar",s="expander",r="ui-widget-header",g="ui-widget-content",q="ui-state-default",h="ui-state-hover",l="ui-state-active",e="ui-corner-",u="ui-icon",k="ui-icon-triangle-1-",i="collapsed",f="expanded",p="resize-helper";a.widget("wijmo.wijsplitter",{options:{sizing:null,sized:null,expand:null,collapse:null,expanded:null,collapsed:null,barZIndex:-1,showExpander:true,splitterDistance:100,orientation:"vertical",fullSplit:false,resizeSettings:{animationOptions:{duration:100,easing:"swing",disabled:false},ghost:false},panel1:{minSize:1,collapsed:false,scrollBars:"auto"},panel2:{minSize:1,collapsed:false,scrollBars:"auto"},collapsingPanel:"panel1"},_setOption:function(c,d){var b=this,f=b.options,e,g=a.extend({},f[c]);if(c==="fullSplit")b._setFullSplit(d);else if(a.isPlainObject(f[c])){if(c==="panel1"&&d.collapsed!==undefined)b._setPanel1Collapsed(d.collapsed);else c==="panel2"&&d.collapsed!==undefined&&b._setPanel2Collapsed(d.collapsed);f[c]=a.extend(true,f[c],d);return}a.Widget.prototype._setOption.apply(b,arguments);if(g!==d)if(c==="orientation")b.refresh();else if(c==="collapsingPanel")b.refresh();else if(c==="fullSplit")b.refresh(true,false);else if(c==="splitterDistance"){b.refresh(false,false);b._trigger("sized")}else if(c==="showExpander"){e=b._fields.expander;e&&e.length&&e.css("display",d?"":"none")}c==="disabled"&&b._handleDisabledOption(d,b.element)},_create:function(){var b=this,e=b.element,c=b.options,d;if(window.wijmoApplyWijTouchUtilEvents)a=window.wijmoApplyWijTouchUtilEvents(a);if(c.splitterDistance==100){d=this.element.width()-c.panel2.minSize;if(c.panel1.minSize>c.splitterDistance)c.splitterDistance=c.panel1.minSize;else if(d<c.splitterDistance)c.splitterDistance=d}b._fields={width:e.width(),height:e.height()};c.fullSplit&&b._setFullSplit(true);b._splitterify();b._updateElementsCss();b._updateElements();b._bindEvents();b._initResizer();c.disabled&&b.disable();b.element.wijAddVisibilityObserver&&b.element.wijAddVisibilityObserver(function(){if(c.fullSplit){b._updateElements();b._initResizer()}},"wijsplitter");b._trigger("load",null,b)},_handleDisabledOption:function(b,c){var a=this;if(b){if(!a.disabledDiv)a.disabledDiv=a._createDisabledDiv(c);a.disabledDiv.appendTo("body")}else if(a.disabledDiv){a.disabledDiv.remove();a.disabledDiv=null}},_createDisabledDiv:function(d){var h=this,b=d?d:h.element,c=b.offset(),g=b.outerWidth(),f=b.outerHeight(),e={"z-index":"99999",position:"absolute",width:g,height:f,left:c.left,top:c.top};a.browser.msie&&a.extend(e,{"background-color":"#fff",opacity:.1});return a("<div></div>").addClass("ui-disabled").css(e)},destroy:function(){var e=this,j=e.element,d=e._fields,s=d.wrapper,r=d.expander,t=d.bar,f=d.panel1,q=d.panel2,p=d.originalStyle,k=e.widgetName,h=d.oriPnl1Content,i=d.oriPnl2Content,l=d.oriPnl1ContentStyle,o=d.oriPnl2ContentStyle;f&&f.n.is(":ui-resizable")&&f.n.resizable("destroy");if(h){h.removeClass(b+f.contentCss+" "+c+f.contentCss+" "+g);if(l===undefined)h.removeAttr("style");else h.attr("style",l);h.appendTo(j)}if(i){i.removeClass(b+q.contentCss+" "+c+q.contentCss+" "+g);if(o===undefined)i.removeAttr("style");else i.attr("style",o);i.appendTo(j)}f.n.unbind("."+k);r.unbind("."+k);t.unbind("."+k);a(window).unbind("."+k);s.remove();j.removeClass(n+" "+m);if(p===undefined)j.removeAttr("style");else j.attr("style",p);if(e.disabledDiv){e.disabledDiv.remove();e.disabledDiv=null}e._fields=null},refresh:function(e,d){var a=this,c=a._fields,b=c.panel1;if(c._isResizing)return;(d||d===undefined)&&a._updateElementsCss();a._updateElements();if(e||e===undefined){b&&b.n.is(":ui-resizable")&&b.n.resizable("destroy");a._initResizer()}},_splitterify:function(){var i=this,f=i.element,k=i.options,b=i._fields,e,g,h,j,c={n:null,content:f.find(">div:eq(0)")},d={n:null,content:f.find(">div:eq(1)")};b.originalStyle=f.attr("style");e=a("<div></div>").appendTo(f);c.n=a("<div></div>").appendTo(e);if(c.content.length===0)c.content=a("<div></div>");else{b.oriPnl1Content=c.content;b.oriPnl1ContentStyle=c.content.attr("style")}c.content.appendTo(c.n);g=a("<div></div>").appendTo(e);k.barZIndex!==-1&&g.css("z-index",k.barZIndex);h=a("<div></div>").appendTo(g).attr("role","button");j=a("<span></span>").appendTo(h);d.n=a("<div></div>").appendTo(e);if(d.content.length===0)d.content=a("<div></div>");else{b.oriPnl2Content=d.content;b.oriPnl2ContentStyle=d.content.attr("style")}d.content.appendTo(d.n);b.wrapper=e;b.panel1=c;b.panel2=d;b.bar=g;b.expander=h;b.icon=j},_updateElementsCss:function(){var j=this,p=j.element,l=j.options,f=l.orientation==="vertical",i=j._fields,w=i.wrapper,a=l.collapsingPanel,h=l.collapsingPanel==="panel1"?"panel2":"panel1",y=i.bar,o=i.expander,x=i.icon;p.removeClass(n+" "+m).addClass(f?n:m);w.attr("class",t);i[a].n.removeClass(b+d[a].n+" "+c+d[a].n).addClass((f?b:c)+d[a].n);i[a].content.removeClass(b+d[a].content+" "+c+d[a].content+" "+g).addClass((f?b:c)+d[a].content+" "+g);y.attr("class",(f?b:c)+v+" "+r).css("width","").css("height","");o.attr("class",e+(f?"bl "+b:"tr "+c)+s+" "+q).css("left","").css("top","");x.attr("class",u+" "+k+(f?"w":"n"));i[h].n.removeClass(b+d[h].n+" "+c+d[h].n).addClass((f?b:c)+d[h].n);i[h].content.removeClass(b+d[h].content+" "+c+d[h].content+" "+g).addClass((f?b:c)+d[h].content+" "+g);j._updateExpanderCss()},_updateExpanderCss:function(){var t=this,a=t.options,s=t._fields,j=s.expander,l=s.icon,g=a.orientation==="vertical",d=a.collapsingPanel!=="panel1",h=g?b:c,m=(["bl","tr","tr","bl"])[g*2+d],n=(["br","tl"])[+d],q=(["s","n","e","w"])[g*2+d],o=(["tr","bl","bl","tr"])[g*2+d],p=(["tl","br"])[+d],r=(["n","s","w","e"])[g*2+d];j.removeClass(h+a.collapsingPanel+"-"+f+" "+h+a.collapsingPanel+"-"+i+" "+e+m+" "+e+n+" "+e+o+" "+e+p);l.removeClass(k+q+" "+k+r);if(a.panel1.collapsed||a.panel2.collapsed){j.addClass(e+m+" "+e+n+" "+h+a.collapsingPanel+"-"+i);l.addClass(k+q)}else{j.addClass(e+o+" "+e+p+" "+h+a.collapsingPanel+"-"+f);l.addClass(k+r)}},_updateElements:function(){var n=this,p=n.element,h=n.options,d=h.splitterDistance,k=h.collapsingPanel,r=h.collapsingPanel==="panel1"?"panel2":"panel1",a=n._fields,q=a.wrapper,s=a.panel1,t=a.panel2,o=a.bar,g=a.expander,j=p.width(),e=p.height(),m,l;q.height(e);n._setPanelsScrollMode();if(h.orientation==="vertical"){m=o.outerWidth(true);if(d>j-m)d=j-m;q.width(j*2);if(h.panel1.collapsed){k==="panel1"&&g.addClass(b+"panel1-"+i);a.panel1.n.css("display","none");a.panel2.n.css("display","");d=0}else{k==="panel1"&&g.addClass(b+"panel1-"+f);a.panel1.n.css("display","");a.panel2.n.css("display",h.panel2.collapsed?"none":"")}if(h.panel2.collapsed){k==="panel2"&&g.addClass(b+"panel2-"+i);a.panel2.n.css("display","none");d=k==="panel1"?j-m:j}else{k==="panel2"&&g.addClass(b+"panel2-"+f);a.panel2.n.css("display","")}!h.panel1.collapsed&&!h.panel2.collapsed&&g.addClass(b+h.collapsingPanel+"-"+f);if(k==="panel1"){a.panel1.n.height(e).width(d);a.panel2.n.height(e).width(j-d-m)}else{a.panel1.n.height(e).width(d-m);a.panel2.n.height(e).width(j-d);a.panel2.content.width(j-d)}a.panel1.content.outerHeight(e,true);o.outerHeight(e,true);a.panel2.content.outerHeight(e,true);g.css("cursor","pointer").css("top",e/2-g.outerHeight(true)/2)}else{l=o.outerHeight(true);if(d>e-l)d=e-l;if(h.panel1.collapsed){k==="panel1"&&g.addClass(c+"panel1-"+i);a.panel1.n.css("display","none");a.panel2.n.css("display","");d=0}else{k==="panel1"&&g.addClass(c+"panel1-"+f);a.panel1.n.css("display","");a.panel2.n.css("display",h.panel2.collapsed?"none":"")}if(h.panel2.collapsed){k==="panel2"&&g.addClass(c+"panel2-"+i);a.panel2.n.css("display","none");d=k==="panel1"?e-l:e}else{k==="panel2"&&g.addClass(c+"panel2-"+f);a.panel2.n.css("display","")}if(k==="panel1"){a.panel1.n.width(j).height(d);a.panel2.n.width(j).height(e-d-l);a.panel1.content.outerHeight(d,true);a.panel2.content.outerHeight(e-d-l,true)}else{a.panel1.n.width(j).height(d-l);a.panel2.n.width(j).height(e-d);a.panel1.content.outerHeight(d-l,true);a.panel2.content.outerHeight(e-d,true)}g.css("cursor","pointer").css("left",j/2-g.outerWidth(true)/2)}g.css("display",h.showExpander?"":"none")},_setFullSplit:function(b){var c=this,a=c._fields,e=b?"100%":a.width,d=b?"100%":a.height;c.element.css("width",e).css("height",d)},_setPanel1Collapsed:function(d,g){var b=this,c=b.options,f=c.panel1.collapsed,e=a(".ui-resizable-handle",b.element);if(f===d)return;if(c.collapsingPanel==="panel1")if(!b._trigger(f?"expand":"collapse",g,null))return;c.panel1.collapsed=d;if(d){c.panel2.collapsed=false;c.collapsingPanel==="panel2"&&e.hide()}else e.show();b._updateElements();b._updateExpanderCss();c.collapsingPanel==="panel1"&&b._trigger(d?"collapsed":"expanded",g,null)},_setPanel2Collapsed:function(d,g){var b=this,c=b.options,f=c.panel2.collapsed,e=a(".ui-resizable-handle",b.element);if(f===d)return;if(c.collapsingPanel==="panel2")if(!b._trigger(f?"expand":"collapse",g,null))return;c.panel2.collapsed=d;if(d){c.panel1.collapsed=false;c.collapsingPanel==="panel1"&&e.hide()}else e.show();b._updateElements();b._updateExpanderCss();c.collapsingPanel==="panel2"&&b._trigger(d?"collapsed":"expanded",g,null)},_bindEvents:function(){var b=this,c=b.options,g=b._fields,f=g.bar,e=g.expander,d=b.widgetName;e.bind("mouseover."+d,function(){if(c.disabled)return;e.addClass(h)}).bind("mouseout."+d,function(){if(c.disabled)return;e.removeClass(h).removeClass(l)}).bind("mousedown."+d,function(){if(c.disabled)return;e.addClass(l)}).bind("mouseup."+d,function(a){if(c.disabled)return;e.removeClass(l);if(c.collapsingPanel==="panel1")b._setPanel1Collapsed(!c.panel1.collapsed,a);else b._setPanel2Collapsed(!c.panel2.collapsed,a)});f.bind("mouseover."+d,function(){if(c.disabled)return;f.addClass(h)}).bind("mouseout."+d,function(){if(c.disabled)return;f.removeClass(h)});g.panel1.n.bind("animating."+d,function(a){if(c.disabled)return;b._adjustLayout(b);b._trigger("sizing",a,null)}).bind("animated."+d,function(a){if(c.disabled)return;b._adjustLayout(b);b._trigger("sized",a,null)});a(".ui-resizable-handle",b.element).live("mouseover."+d,function(){if(c.disabled)return;f.addClass(h)}).live("mouseout."+d,function(){if(c.disabled)return;f.removeClass(h)});a(window).bind("resize."+d,function(){if(c.disabled)return;if(c.fullSplit&&b.element.is(":visible")){b._updateElements();b._initResizer()}})},_initResizer:function(){var m=this,h=m.element,d=m.options,e=m._fields,u=e.bar,n=d.collapsingPanel,l=d.collapsingPanel==="panel1"?"panel2":"panel1",k=d.resizeSettings,g=k.animationOptions,o=g.disabled?0:g.duration,w=h.width(),v=h.height(),r,t,j,q,s,i,f;if(d.orientation==="vertical"){r=u.outerWidth(true);t=w-r-d[l].minSize;j=d[n].minSize;if(j<2)j=2;e.panel1.n.resizable({wijanimate:true,minWidth:j,maxWidth:t,handles:"e",helper:b+p,animateDuration:o,animateEasing:g.easing,ghost:k.ghost,start:function(){e._isResizing=true},stop:function(){e._isResizing=false}})}else{q=u.outerHeight(true);s=v-q-d[l].minSize;i=d[n].minSize;if(i<2)i=2;e.panel1.n.resizable({wijanimate:true,minHeight:i,maxHeight:s,handles:"s",helper:c+p,animateDuration:o,animateEasing:g.easing,ghost:k.ghost,start:function(){e._isResizing=true},stop:function(){e._isResizing=false}})}f=a(".ui-resizable-handle",h);if(d[l].collapsed)f.hide();else f.show();if(a.browser.msie&&a.browser.version<7)d.orientation==="vertical"&&f.height(h.height())},_adjustLayout:function(a){var b=a.options,e=a._fields,d=e.panel1,c=b.orientation==="vertical"?d.n.width():d.n.height();if(b.splitterDistance===c)return;b.splitterDistance=c;a._updateElements()},_setPanelsScrollMode:function(){var d=this,c=d._fields,e=d.options,b=[e.panel1.scrollBars,e.panel2.scrollBars];a.each([c.panel1,c.panel2],function(a,c){if(b[a]==="auto")c.content.css("overflow","auto");else if(b[a]==="both")c.content.css("overflow","scroll");else if(b[a]==="none")c.content.css("overflow","hidden");else if(b[a]==="horizontal")c.content.css("overflow-x","scroll").css("overflow-y","hidden");else b[a]==="vertical"&&c.content.css("overflow-x","hidden").css("overflow-y","scroll")})}})})(jQuery);(function(a){"use strict";a.ui.plugin.add("resizable","wijanimate",{stop:function(l){var b=a(this).data("resizable"),i=b.options,c=b.element,d=b._proportionallyResizeElements,h=d.length&&/textarea/i.test(d[0].nodeName),j=h&&a.ui.hasScroll(d[0],"left")?0:b.sizeDiff.height,k=h?0:b.sizeDiff.width,g,e,f;c.css("width",b.originalSize.width).css("height",b.originalSize.height);g={width:b.size.width-k,height:b.size.height-j};e=parseInt(c.css("left"),10)+(b.position.left-b.originalPosition.left)||null;f=parseInt(c.css("top"),10)+(b.position.top-b.originalPosition.top)||null;c.animate(a.extend(g,f&&e?{top:f,left:e}:{}),{duration:i.animateDuration,easing:i.animateEasing,step:function(){var e={width:parseInt(c.css("width"),10),height:parseInt(c.css("height"),10),top:parseInt(c.css("top"),10),left:parseInt(c.css("left"),10)};d&&d.length&&a(d[0]).css({width:e.width,height:e.height});b._updateCache(e);b._propagate("resize",l);c.trigger("animating")},complete:function(){c.trigger("animated")}})}})})(jQuery);;
(function(h){var g="wijmo-wijsuperpanel ui-widget ui-widget-content",i="ui-corner-all",m="ui-state-disabled",b="ui-state-hover",a="ui-state-active",f="ui-state-default",c="wijmo-wijsuperpanel-handle",l="wijmo-wijsuperpanel-hbarcontainer",o="wijmo-wijsuperpanel-vbarcontainer",d="<div class='wijmo-wijsuperpanel-statecontainer'><div class='wijmo-wijsuperpanel-contentwrapper'><div class='wijmo-wijsuperpanel-templateouterwrapper'></div></div></div>",e="<div class='wijmo-wijsuperpanel-hbarcontainer ui-widget-header'><div class='wijmo-wijsuperpanel-handle ui-state-default ui-corner-all'><span class='ui-icon ui-icon-grip-solid-vertical'></span></div><div class='wijmo-wijsuperpanel-hbar-buttonleft ui-state-default ui-corner-bl'><span class='ui-icon ui-icon-triangle-1-w'></span></div><div class='wijmo-wijsuperpanel-hbar-buttonright ui-state-default ui-corner-br'><span class='ui-icon ui-icon-triangle-1-e'></span></div></div>",k="<div class='wijmo-wijsuperpanel-vbarcontainer ui-widget-header'><div class='wijmo-wijsuperpanel-handle ui-state-default ui-corner-all'><span class='ui-icon ui-icon-grip-solid-horizontal'></span></div><div class='wijmo-wijsuperpanel-vbar-buttontop ui-state-default ui-corner-tr'><span class='ui-icon ui-icon-triangle-1-n'></span></div><div class='wijmo-wijsuperpanel-vbar-buttonbottom ui-state-default ui-corner-br'><span class='ui-icon ui-icon-triangle-1-s'></span></div></div>",j="<div class='ui-state-default wijmo-wijsuperpanel-button wijmo-wijsuperpanel-buttonleft'><span class='ui-icon ui-icon-carat-1-w'></span></div><div class='ui-state-default wijmo-wijsuperpanel-button wijmo-wijsuperpanel-buttonright'><span class='ui-icon ui-icon-carat-1-e'></span></div>",n="<div class='ui-state-default wijmo-wijsuperpanel-button wijmo-wijsuperpanel-buttontop'><span class='ui-icon ui-icon-carat-1-n'></span></div><div class='ui-state-default wijmo-wijsuperpanel-button wijmo-wijsuperpanel-buttonbottom'><span class='ui-icon ui-icon-carat-1-s'></span></div>";h.widget("wijmo.wijsuperpanel",{options:{allowResize:false,autoRefresh:false,animationOptions:{queue:false,disabled:false,duration:250,easing:undefined},hScrollerActivating:null,hScroller:{scrollBarPosition:"bottom",scrollBarVisibility:"auto",scrollMode:"scrollBar",scrollValue:null,scrollMax:100,scrollMin:0,scrollLargeChange:null,scrollSmallChange:null,scrollMinDragLength:6,increaseButtonPosition:null,decreaseButtonPosition:null,hoverEdgeSpan:20,firstStepChangeFix:0},keyboardSupport:false,keyDownInterval:100,mouseWheelSupport:true,bubbleScrollingEvent:true,resizableOptions:{handles:"all",helper:"ui-widget-content wijmo-wijsuperpanel-helper"},resized:null,dragStop:null,painted:null,scrolling:null,scroll:null,scrolled:null,showRounder:true,vScrollerActivating:null,vScroller:{scrollBarPosition:"right",scrollBarVisibility:"auto",scrollMode:"scrollBar",scrollValue:null,scrollMax:100,scrollMin:0,scrollLargeChange:null,scrollSmallChange:null,scrollMinDragLength:6,increaseButtonPosition:null,decreaseButtonPosition:null,hoverEdgeSpan:20,firstStepChangeFix:0},customScrolling:false,listenContentScroll:false},_setOption:function(s,v){var p=this,x=p.options,u=p._fields(),w=u.hbarDrag,q=u.vbarDrag,t=u.resizer;if(s==="animationOptions"){v=h.extend(x.animationOptions,v)}else{if(s==="hScroller"){if(v.scrollLargeChange!==undefined&&v.scrollLargeChange!==null){p._autoHLarge=false}v=h.extend(x.hScroller,v)}else{if(s==="vScroller"){if(v.scrollLargeChange!==undefined&&v.scrollLargeChange!==null){p._autoVLarge=false}v=h.extend(x.vScroller,v)}else{if(s==="resizableOptions"){v=h.extend(p.resizableOptions,v)}}}}h.Widget.prototype._setOption.apply(p,arguments);if(h.isPlainObject(v)){p.options[s]=v}switch(s){case"allowResize":p._initResizer();break;case"disabled":if(v){if(w!==undefined){w.draggable("disable")}if(q!==undefined){q.draggable("disable")}if(t!==undefined){t.resizable("disable")}}else{if(w!==undefined){w.draggable("enable")}if(q!==undefined){q.draggable("enable")}if(t!==undefined){t.resizable("enable")}}break;case"mouseWheelSupport":case"keyboardSupport":p._bindElementEvents(p,u,p.element,x);break}return p},_create:function(){var p=this,q=p.options;q.vScroller.dir="v";q.hScroller.dir="h";if(window.wijmoApplyWijTouchUtilEvents){h=window.wijmoApplyWijTouchUtilEvents(h)}p.paintPanel();p._initResizer();if(p.options.disabled){p.disable()}p._detectAutoRefresh();if(q.listenContentScroll){p._listenContentScroll()}if(p.element.is(":hidden")&&p.element.wijAddVisibilityObserver){p.element.wijAddVisibilityObserver(function(){if(p.element.wijRemoveVisibilityObserver){p.element.wijRemoveVisibilityObserver()}p.refresh()},"wijsuperpanel")}},_detectAutoRefresh:function(){var p=this,q=h.wijmo.wijsuperpanel.panels;if(q===undefined){q=[];h.wijmo.wijsuperpanel.panels=q}q.push(p);if(p.options.autoRefresh){if(!h.wijmo.wijsuperpanel.setAutoRefreshInterval){h.wijmo.wijsuperpanel.setAutoRefreshInterval=p._setAutoRefreshInterval;h.wijmo.wijsuperpanel.setAutoRefreshInterval()}}},_setAutoRefreshInterval:function(){var p=h.wijmo.wijsuperpanel.autoRereshInterval,q=h.wijmo.wijsuperpanel.panels,r=window.setInterval(function(){window.clearInterval(r);var v=q.length,x=false,u,s,z,t,w,y;for(u=0;u<v;u++){s=q[u];z=s.element[0];t=s.options.autoRefresh;if(t){x=true}w=s.getContentElement();y=s._paintedMark;if(s.options.autoRefresh&&w.is(":visible")&&(y===undefined||y.width!==w[0].offsetWidth||y.height!==w[0].offsetHeight||y.mainWidth!==z.offsetWidth||y.mainHeight!==z.offsetHeight)){s.paintPanel()}}if(x){window.setTimeout(h.wijmo.wijsuperpanel.setAutoRefreshInterval,0)}},p===undefined?500:p)},destroy:function(){var p=this,t=p._fields(),s=p.element,r,q;h.wijmo.wijsuperpanel.panels=h.grep(h.wijmo.wijsuperpanel.panels,function(u){return u!==p});if(!t.initialized){return}if(p._radiusKey){p.element.css(p._radiusKey,"")}if(t.intervalID!==undefined){window.clearInterval(t.intervalID);t.intervalID=undefined}if(t.resizer!==undefined){t.resizer.resizable("destroy")}if(t.hbarContainer!==undefined){t.hbarDrag.remove();t.hbarContainer.unbind("."+p.widgetName)}if(t.vbarContainer!==undefined){t.vbarDrag.remove();t.vbarContainer.unbind("."+p.widgetName)}s.unbind("."+p.widgetName);t.contentWrapper.unbind("."+p.widgetName);r=t.stateContainer.find(">.wijmo-wijsuperpanel-button");r.unbind("."+p.widgetName);q=t.templateWrapper;q.contents().each(function(u,v){s.append(v)});t.stateContainer.remove();if(t.tabindex){s.removeAttr("tabindex")}s.removeClass(g+" "+i);h.Widget.prototype.destroy.apply(p,arguments)},_fields:function(){var p=this,r=p.element,q=p.widgetName+"-fields",s=p._fieldsStore;if(s===undefined){s={};r.data(q,s);p._fieldsStore=s}return s},_hasMode:function(p,r){var q=p.scrollMode.split(",");q=h.map(q,function(s){return h.trim(s).toLowerCase()});return h.inArray(r.toLowerCase(),q)>-1},_bindElementEvents:function(q,u,t,v){var p=q._hasMode(v.hScroller,"edge"),s=q._hasMode(v.vScroller,"edge"),r=q.widgetName;if(p||s){if(q._mousemoveBind===undefined){q._mousemoveBind=true;t.bind("mousemove."+r,q,q._contentMouseMove);t.bind("mouseleave."+r,null,function(){q._clearInterval()})}}else{t.unbind("mousemove",q._contentMouseMove);q._mousemoveBind=undefined}if(v.mouseWheelSupport){if(q._mouseWheelBind===undefined){q._mouseWheelBind=true;t.bind("mousewheel."+r,q,q._panelMouseWheel)}}else{q.element.unbind("mousewheel",q._panelMouseWheel);q._mouseWheelBind=undefined}if(v.keyboardSupport){if(q._keyboardBind===undefined){q._keyboardBind=true;t.bind("keydown."+r,q,q._panelKeyDown)}}else{t.unbind("keydown",q._panelKeyDown);q._keyboardBind=undefined}},_dragStop:function(s,p,q){var r={dragHandle:q};p._trigger("dragStop",s,r)},_contentMouseMove:function(D){var w=D.data,y=w.options,s,p,t,C,E,v,G,F,q,u,A,r,B,z,x;if(y.disabled){return}s=y.hScroller;p=y.vScroller;t=h(D.currentTarget);C=w._fields();E=w._hasMode(s,"edge");v=w._hasMode(p,"edge");w._clearInterval();G={X:D.pageX,Y:D.pageY};F=t.offset();q=F.left;u=F.top;q=G.X-q;u=G.Y-u;A=s.hoverEdgeSpan;r=p.hoverEdgeSpan;B=t.innerHeight();z=t.innerWidth();x="";if(E){if(q<A){x="left"}if(q>(z-A)){x="right"}}if(v){if(u<r){x="top"}if(u>(B-r)){x="bottom"}}w._setScrollingInterval(C,x,w,false)},_setScrollingInterval:function(s,q,p,r){var t=p.options;if(q.length>0){s.internalFuncID=window.setInterval(function(){p._doScrolling(q,p,r)},t.keyDownInterval)}},_scrollButtonMouseOver:function(r){var p=r.data,q;if(p.options.disabled){return}q=h(r.currentTarget);if(!q.hasClass(m)){q.bind("mouseout."+p.widgetName,p,p._buttonMouseOut).bind("mousedown."+p.widgetName,p,p._buttonMouseDown).bind("mouseup."+p.widgetName,p,p._buttonMouseUp).addClass(b);p._buttonScroll(q,p,"buttonshover")}},_buttonScroll:function(s,p,v){var r="",u=p.options,t=p._fields(),q=p._hasMode(u.hScroller,v),w=p._hasMode(u.vScroller,v);if(s.hasClass("wijmo-wijsuperpanel-buttonleft")&&q){r="left"}else{if(s.hasClass("wijmo-wijsuperpanel-buttonright")&&q){r="right"}else{if(s.hasClass("wijmo-wijsuperpanel-buttontop")&&w){r="top"}else{if(s.hasClass("wijmo-wijsuperpanel-buttonbottom")&&w){r="bottom"}}}}if(r.length>0){p._clearInterval();p._doScrolling(r,p,true);p._setScrollingInterval(t,r,p,true)}},_listenContentScroll:function(){var F=this,s=F.options,A=F._fields(),z=A.hbarContainer,u=A.hbarDrag,C=A.vbarContainer,B=A.vbarDrag,t=A.templateWrapper,y=A.contentWrapper,E=y.width(),x=y.height(),v=t&&t.offset(),r=v&&v.left,q=v&&v.top,p=A.contentWidth,D=A.contentHeight;y.bind("scroll",function(G){var I=t.position(),w=I.left,H=I.top;y.scrollTop(0).scrollLeft(0);t.css({left:w,top:H});if(w<=0&&w>E-p){s.hScroller.scrollValue=F.scrollPxToValue(-w,"h");F._scrollDrag("h",z,u,true)}if(H<=0&&H>x-D){s.vScroller.scrollValue=F.scrollPxToValue(-H,"v");F._scrollDrag("v",C,B,true)}})},_buttonMouseDown:function(r){var p=r.data,q;if(p.options.disabled){return}q=h(r.currentTarget);if(!q.hasClass(m)){q.addClass(a);p._buttonScroll(q,p,"buttons")}},_buttonMouseUp:function(r){var p=r.data,q=h(r.currentTarget);q.removeClass("ui-state-active");p._clearInterval()},_buttonMouseOut:function(r){var p=r.data,q=h(r.currentTarget);q.unbind("mouseout",p._buttonMouseOut).unbind("mousedown",p._buttonMouseDown).unbind("mouseup",p._buttonMouseUp).removeClass(b).removeClass(a);p._clearInterval()},_panelKeyDown:function(s){var r=s.data,t=r.options,q,p;if(!t.keyboardSupport||t.disabled){return}q=s.shiftKey;p=s.keyCode;if(p===h.ui.keyCode.LEFT){r._doScrolling("left",r,q)}else{if(p===h.ui.keyCode.RIGHT){r._doScrolling("right",r,q)}else{if(p===h.ui.keyCode.UP){r._doScrolling("top",r,q)}else{if(p===h.ui.keyCode.DOWN){r._doScrolling("bottom",r,q)}}}}s.stopPropagation();s.preventDefault()},_draggingInternal:function(x,E,z,C){var t=z.dir,y=t==="h",B=y?"left":"top",s=x.position[B]-E._getScrollContainerPadding(B),q=E._getTrackLen(t)-C[y?"outerWidth":"outerHeight"](true),w=s/q,u=(z.scrollMax-z.scrollLargeChange+1),A=w*u,D,p,r;if(A<z.scrollMin){A=z.scrollMin}if(A>u){A=u}D={oldValue:z.scrollValue,newValue:A,dir:t};if(!E._scrolling(true,E,D)){return}if(E.customScroll){r=Math.abs(E.customScroll);p=E.scrollPxToValue(r,z.dir)}z.scrollValue=p||A;E.customScroll=undefined;E._setDragAndContentPosition(true,false,t,"dragging")},_dragging:function(u,s,r){var v=r.options,q=h(u.target),t=q.parent();if(t.hasClass(l)){r._draggingInternal(s,r,v.hScroller,q)}else{r._draggingInternal(s,r,v.vScroller,q)}},_panelMouseWheel:function(u,w){var y=u.data,p=y.options,x,q,r,t,s,v;if(!p.mouseWheelSupport||p.disabled){return}x=h(u.srcElement||u.originalEvent.target);q="";r=x.closest("."+l,y.element).size()>0;t=p.hScroller;s=p.vScroller;if(w>0){q=r?"left":"top"}else{q=r?"right":"bottom"}if(q.length>0){y._doScrolling(q,y)}v=false;if(q==="left"){v=!y.hNeedScrollBar||Math.abs(t.scrollValue-t.scrollMin)<0.001}if(q==="right"){v=!y.hNeedScrollBar||Math.abs(t.scrollValue-(t.scrollMax-y._getHScrollBarLargeChange()+1))<0.001}if(q==="top"){v=!y.vNeedScrollBar||Math.abs(s.scrollValue-s.scrollMin)<0.001}if(q==="bottom"){v=!y.vNeedScrollBar||Math.abs(s.scrollValue-(s.scrollMax-y._getVScrollBarLargeChange()+1))<0.001}if(!v||!p.bubbleScrollingEvent||q==="left"||q==="right"){u.stopPropagation();u.preventDefault()}},_documentMouseUp:function(r){var p=r.data.self,q=r.data.ele;q.removeClass(a);p._clearInterval();h(document).unbind("mouseup",p._documentMouseUp)},_scrollerMouseOver:function(s){var q=s.data,p,r,t;if(q.options.disabled){return}p=h(s.srcElement||s.originalEvent.target);r=null;t=false;if(p.hasClass(f)){r=p;t=true}else{if(p.parent().hasClass(f)){r=p.parent();t=true}else{if(p.hasClass(o)||p.hasClass(l)){r=p}}}if(r!==undefined){if(t){r.addClass(b)}r.bind("mouseout."+q.widgetName,q,q._elementMouseOut);r.bind("mousedown."+q.widgetName,q,q._elementMouseDown);r.bind("mouseup."+q.widgetName,q,q._elementMouseUp)}},_elementMouseUp:function(q){var p=h(q.currentTarget);p.removeClass("ui-state-active")},_elementMouseDown:function(u){var z=h(u.currentTarget),y=u.data,p,x,r,q,w,t,v,s;if(y.options.disabled||u.which!==1){return}p="";x=false;r=false;if(z.hasClass("wijmo-wijsuperpanel-vbar-buttontop")){p="top";r=true}else{if(z.hasClass("wijmo-wijsuperpanel-vbar-buttonbottom")){p="bottom";r=true}else{if(z.hasClass("wijmo-wijsuperpanel-hbar-buttonleft")){p="left";r=true}else{if(z.hasClass("wijmo-wijsuperpanel-hbar-buttonright")){p="right";r=true}else{if(z.hasClass(c)){z.addClass("ui-state-active");return}else{if(z.hasClass(l)){q=z.find("."+c);w=q.offset();if(u.pageX<w.left){p="left"}else{p="right"}x=true}else{if(z.hasClass(o)){t=z.find("."+c);v=t.offset();if(u.pageY<v.top){p="top"}else{p="bottom"}x=true}}}}}}}y._clearInterval();y._doScrolling(p,y,x);s=y._fields();y._setScrollingInterval(s,p,y,x);if(r){z.addClass("ui-state-active")}h(document).bind("mouseup."+y.widgetName,{self:y,ele:z},y._documentMouseUp)},doScrolling:function(p,q){this._doScrolling(p,this,q)},_setScrollerValue:function(u,x,A,q,D,B,F){var y=x.scrollMin,z=B?q:A,C=x.scrollValue,E,s,v,w,p,r;if(!C){C=y}E=0;if(D){s=x.scrollMax-q+1;if(Math.abs(C-s)<0.001){F._clearInterval();return false}v=x.firstStepChangeFix;E=C+z;if(!B&&Math.abs(C-y)<0.0001&&!isNaN(v)){E+=v}if(E>s){E=s}}else{if(Math.abs(C-y)<0.001){F._clearInterval();return false}E=C-z;if(E<0){E=y}}w={oldValue:x.scrollValue,newValue:E,direction:u,dir:x.dir};if(!F._scrolling(true,F,w)){return false}if(F.customScroll){r=Math.abs(F.customScroll);p=F.scrollPxToValue(r,x.dir)}x.scrollValue=p||E;F.customScroll=undefined;return true},_doScrolling:function(r,y,x){var q=y.options,t=q.vScroller,u=q.hScroller,s=y._getVScrollBarSmallChange(),w=y._getVScrollBarLargeChange(),v=y._getHScrollBarLargeChange(),p=y._getHScrollBarSmallChange();if(r==="top"||r==="bottom"){if(!y._setScrollerValue(r,t,s,w,r==="bottom",x,y)){return}r="v"}else{if(r==="left"||r==="right"){if(!y._setScrollerValue(r,u,p,v,r==="right",x,y)){return}r="h"}}y._setDragAndContentPosition(true,true,r)},_disableButtonIfNeeded:function(B){var v=B._fields(),p,q,s,t,C,x,y,u,w,A,D,z,r;if(v.intervalID>0){window.clearInterval(v.intervalID)}p=B.options;q=v.buttonLeft;s=v.buttonRight;t=v.buttonTop;C=v.buttonBottom;if(q!==undefined){x=B._getHScrollBarLargeChange();y=p.hScroller.scrollMax-x+1;u=p.hScroller.scrollValue;w=p.hScroller.scrollMin;if(u===undefined){u=w}if(Math.abs(u-w)<0.001||!v.hScrolling){q.addClass(m)}else{q.removeClass(m)}if(Math.abs(u-y)<0.001||!v.hScrolling){s.addClass(m)}else{s.removeClass(m)}}if(t!==undefined){A=B._getVScrollBarLargeChange();D=p.vScroller.scrollMax-A+1;z=p.vScroller.scrollValue;r=p.vScroller.scrollMin;if(z===undefined){z=r}if(Math.abs(z-r)<0.001||!v.vScrolling){t.addClass(m)}else{t.removeClass(m)}if(Math.abs(z-D)<0.001||!v.vScrolling){C.addClass(m)}else{C.removeClass(m)}}},_clearInterval:function(){var q=this._fields(),p=q.internalFuncID;if(p>0){window.clearInterval(p);q.internalFuncID=-1}},_elementMouseOut:function(q){var r=h(q.currentTarget),p=q.data;r.unbind("mouseout",p._elementMouseOut);r.unbind("mousedown",p._elementMouseDown);r.unbind("mouseup",p._elementMouseUp);r.removeClass(b)},_getScrollOffset:function(v){var r=h(v),w,z,B,x,t,s,y,p,u,q,A={left:null,top:null};if(r.size()===0){return A}w=this._fields();z=w.contentWrapper;B=w.templateWrapper;x=r.offset();t=B.offset();x.leftWidth=x.left+r.outerWidth();x.topHeight=x.top+r.outerHeight();s=z.offset();s.leftWidth=s.left+z.outerWidth();s.topHeight=s.top+z.outerHeight();u=x.left-t.left;if(x.left<s.left){A.left=u}else{if(x.leftWidth>s.leftWidth){q=x.leftWidth-t.left-z.innerWidth();if(u<q){A.left=u}else{A.left=q}}}y=x.top-t.top;if(x.top<s.top){A.top=y}else{if(x.topHeight>s.topHeight){p=x.topHeight-t.top-z.innerHeight();if(y<p){A.top=y}else{A.top=p}}}return A},_scrollDrag:function(t,x,s,p){var G=this,r=G.options,E=t==="v",z=E?r.vScroller:r.hScroller,u=z.scrollMin,B=z.scrollMax,y=z.scrollValue===undefined?u:(z.scrollValue-u),A=G._getLargeChange(t),C=B-u-A+1,F=-1,q,w,D;if(y>C){y=C}if(x!==undefined){q=G._getTrackLen(t);w=s[E?"outerHeight":"outerWidth"]();D=G._getScrollContainerPadding(E?"top":"left");F=(y/C)*(q-w)+D}if(F>=0){s.css(E?"top":"left",F+"px")}G._scrollEnd(p,G,t)},needToScroll:function(p){var q=this._getScrollOffset(p);return q.top!==null||q.left!==null},scrollChildIntoView:function(p){var s=this._getScrollOffset(p),r=s.left,q=s.top;if(r!==null){this.hScrollTo(r)}if(q!==null){this.vScrollTo(q)}},hScrollTo:function(p){var q=this.options;q.hScroller.scrollValue=this.scrollPxToValue(p,"h");this._setDragAndContentPosition(true,true,"h","nonestop")},vScrollTo:function(q){var p=this.options;p.vScroller.scrollValue=this.scrollPxToValue(q,"v");this._setDragAndContentPosition(true,true,"v","nonestop")},scrollPxToValue:function(A,q){var p=this.options,r=(q==="h"?"outerWidth":"outerHeight"),C=(q==="h"?"contentWidth":"contentHeight"),t=(q==="h"?"hScroller":"vScroller"),u=this._fields(),B=u.contentWrapper,E=u[C],z=B[r](),w=p[t].scrollMin,D=p[t].scrollMax,s=D-w,y=(q==="h"?this._getHScrollBarLargeChange():this._getVScrollBarLargeChange()),x=s-y+1,v=x*(A/(E-z));if(v<w){v=w}if(v>x){v=x}return v},scrollTo:function(p,q){this.hScrollTo(p);this.vScrollTo(q)},refresh:function(){this.paintPanel()},paintPanel:function(q){var p=this,t=p.element,u,v,s,r;if(t.is(":visible")){u=typeof document.activeElement!="unknown"?document.activeElement:undefined;v=p.options;s=p._fields();if(!s.initialized){p._initialize(s,t,p)}p._resetLargeChange(p,s,v);p._bindElementEvents(p,s,t,v);r=s.templateWrapper;r.css({"float":"left",left:"0px",top:"0px",width:"auto",height:"auto"});r.hide();r.show();s.contentWidth=r.width();s.contentHeight=r.height();r.css("float","");p._setRounder(p,t);p._setInnerElementsSize(s,t);if(p._testScroll(p,s,v)===false){return false}p._initScrollBars(p,s,v);p._initScrollButtons(p,s,v);p._trigger("painted");p._paintedMark={date:new Date(),mainWidth:t[0].offsetWidth,mainHeight:t[0].offsetHeight,width:s.contentWidth,height:s.contentWidth};if(u!==undefined&&!q){h(u).focus()}return true}return false},_resetLargeChange:function(p,r,s){var q;if(p._autoVLarge){s.vScroller.scrollLargeChange=null}if(p._autoHLarge){s.hScroller.scrollLargeChange=null}r.vTrackLen=undefined;r.hTrackLen=undefined;if(r.vbarContainer){q=r.vbarContainer.children("."+c+":eq(0)");q.detach();r.vbarContainer.remove();r.vbarContainer=undefined}if(r.hbarContainer){q=r.hbarContainer.children("."+c+":eq(0)");q.detach();r.hbarContainer.remove();r.hbarContainer=undefined}},_initialize:function(s,r,q){s.initialized=true;r.addClass(g);s.oldHeight=r.css("height");var p=r.css("overflow");r.css("overflow","");r.height(r.height());r.css("overflow",p);q._createAdditionalDom(q,s,r)},getContentElement:function(){return this._fields().templateWrapper},_setButtonPosition:function(D,q,v,r,x,w,p){var u=r==="h",B="mouseover."+D.widgetName,E=u?"buttonLeft":"buttonTop",A=u?"buttonRight":"buttonBottom",s=w[E],C=w[A],t,y,z;if(D._hasMode(v,"buttons")||D._hasMode(v,"buttonshover")){t=u?j:n;if(s===undefined){y=h(t).appendTo(p);y.bind(B,D,D._scrollButtonMouseOver);w[E]=s=p.children(u?".wijmo-wijsuperpanel-buttonleft":".wijmo-wijsuperpanel-buttontop");w[A]=C=p.children(u?".wijmo-wijsuperpanel-buttonright":".wijmo-wijsuperpanel-buttonbottom")}z={my:u?"left":"top",of:x,at:u?"left":"top",collision:"none"};h.extend(z,v.decreaseButtonPosition);s.position(z);z={my:u?"right":"bottom",of:x,at:u?"right":"bottom",collision:"none"};h.extend(z,v.increaseButtonPosition);C.position(z)}else{if(s!==undefined){s.remove();C.remove();w[E]=w[A]=undefined}}},_initScrollButtons:function(q,s,t){var p=s.contentWrapper,r=s.stateContainer;q._setButtonPosition(q,t,t.hScroller,"h",p,s,r);q._setButtonPosition(q,t,t.vScroller,"v",p,s,r)},_getVScrollBarSmallChange:function(){var q=this.options,p;if(!q.vScroller.scrollSmallChange){p=this._getVScrollBarLargeChange();q.vScroller.scrollSmallChange=p/2}return q.vScroller.scrollSmallChange},_getVScrollBarLargeChange:function(){return this._getLargeChange("v")},_getLargeChange:function(s){var G=this,r=G.options,z=G._fields(),F=s==="v",y=F?r.vScroller:r.hScroller,A=F?"innerHeight":"innerWidth",w=F?"contentHeight":"contentWidth",x=F?"_autoVLarge":"_autoHLarge",D,u,q,C,p,t,B,E;if(y.scrollLargeChange){return y.scrollLargeChange}D=y.scrollMax;u=y.scrollMin;q=D-u;C=z.contentWrapper;p=C[A]();t=z[w];B=p/(t-p);E=((q+1)*B)/(1+B);if(isNaN(E)){E=0}y.scrollLargeChange=E;G[x]=true;return y.scrollLargeChange},_getHScrollBarSmallChange:function(){var q=this.options,p;if(!q.hScroller.scrollSmallChange){p=this._getHScrollBarLargeChange();q.hScroller.scrollSmallChange=p/2}return q.hScroller.scrollSmallChange},_getHScrollBarLargeChange:function(){return this._getLargeChange("h")},_initScrollBars:function(E,J,G){var x=G.hScroller,B=x.scrollMax,z=x.scrollMin,A=B-z,r=G.vScroller,F=r.scrollMax,D=r.scrollMin,u=F-D,t=J.hbarDrag,I=J.vbarDrag,q,H,w,L,K,y,s,C,p,v;if(E.hNeedScrollBar&&t.is(":visible")){q=E._getHScrollBarLargeChange();H=E._getTrackLen("h");w=E._getDragLength(A,q,H,G.hScroller.scrollMinDragLength);t.width(w);L=t.outerWidth(true)-t.width();t.width(w-L);K=t.children("span");K.css("margin-left",(t.width()-K[0].offsetWidth)/2);if(H<=t.outerWidth(true)){t.hide()}else{t.show()}if(E._isDragging==true){h(document).trigger("mouseup");E._isDragging=false}}if(E.vNeedScrollBar&&I.is(":visible")){y=E._getVScrollBarLargeChange();s=E._getTrackLen("v");C=E._getDragLength(u,y,s,G.vScroller.scrollMinDragLength);I.height(C);p=I.outerHeight(true)-I.height();I.height(C-p);v=I.children("span");v.css("margin-top",(I.height()-v[0].offsetHeight)/2);if(s<=I.outerHeight(true)){I.hide()}else{I.show()}if(E._isDragging==true){h(document).trigger("mouseup");E._isDragging=false}}E._setDragAndContentPosition(false,false,"both")},_getTrackLen:function(s){var r=this,u=r._fields(),t=s+"TrackLen",q,w,p,v;if(u[t]!==undefined){return u[t]}q=u.hbarContainer;w=u.vbarContainer;p=0;v=0;if(s==="h"){v=r._getScrollContainerPadding("h");p=q.innerWidth()}if(s==="v"){v=r._getScrollContainerPadding("v");p=w.innerHeight()}u[t]=(p-v);return u[t]},_getScrollContainerPadding:function(p){var r=this,t=r._fields(),u=0,q,s;if(p==="h"){u=r._getScrollContainerPadding("left")+r._getScrollContainerPadding("right")}else{if(p==="v"){u=r._getScrollContainerPadding("top")+r._getScrollContainerPadding("bottom")}else{if(p==="left"||p==="right"){q=t.hbarContainer}else{q=t.vbarContainer}s=p+"Padding";if(t[s]!==undefined){u=t[s];return u}if(q&&q.css){u=parseFloat(q.css("padding-"+p))}t[s]=u}}return u},_triggerScroll:function(p,q,s){var r={position:p,dir:q,animationOptions:s};this._trigger("scroll",null,r)},_contentDragAnimate:function(aa,N,T,C,I,w,x){var A=this,W=A.options,S=aa==="v",G=S?W.vScroller:W.hScroller,R=S?"outerHeight":"outerWidth",O=S?"innerHeight":"innerWidth",L=S?"contentHeight":"contentWidth",y=S?"top":"left",F=G.scrollMin,X=G.scrollMax,P=X-F,B=G.scrollValue===undefined?F:(G.scrollValue-F),U=A._getLargeChange(aa),K=P-U+1,Z=A._fields(),q=Z.contentWrapper,z=Z.templateWrapper,M,u,J,t,V,Y,s,p,D,Q,E,H;if(B>K){B=K}M=(Z[L]-q[O]())*(B/K);if(Math.abs(M)<0.001){M=0}M=Math.round(M);u=-1;if(T!==undefined){if(N&&C.is(":animated")&&I!=="nonestop"){C.stop(true,false)}J=A._getTrackLen(aa);t=C[R](true);V=J-t;Y=A._getScrollContainerPadding(y);u=(B/K)*V+Y}if(N&&W.animationOptions&&!W.animationOptions.disabled){if(u>=0&&x!=="dragging"){s=h.extend({},W.animationOptions);s.complete=undefined;p=S?{top:u}:{left:u};C.animate(p,s)}D=h.extend({},W.animationOptions);Q=W.animationOptions.complete;D.complete=function(){A._scrollEnd(w,A,aa);if(h.isFunction(Q)){Q(arguments)}};if(N&&z.is(":animated")&&I!=="nonestop"){z.stop(true,false)}E=S?{top:-M}:{left:-M};if(!W.customScrolling){z.animate(E,D)}else{A._scrollEnd(w,A,aa,B)}A._triggerScroll(M,aa,D)}else{H=S?"top":"left";if(u>=0&&x!=="dragging"){C[0].style[H]=u+"px"}if(!W.customScrolling){z[0].style[H]=-M+"px"}A._triggerScroll(M,aa);A._scrollEnd(w,A,aa,B)}},_setDragAndContentPosition:function(p,s,r,x,y){var z=this,u=z._fields(),t=u.hbarContainer,q=u.hbarDrag,w=u.vbarContainer,v=u.vbarDrag;if((r==="both"||r==="h")&&u.hScrolling){z._contentDragAnimate("h",s,t,q,x,p,y)}if((r==="both"||r==="v")&&u.vScrolling){z._contentDragAnimate("v",s,w,v,x,p,y)}if(u.intervalID>0){window.clearInterval(u.intervalID)}u.intervalID=window.setInterval(function(){z._disableButtonIfNeeded(z)},500)},_scrolling:function(q,p,t){var s=true;if(q){t.beforePosition=p.getContentElement().position();p._beforePosition=t.beforePosition;s=p._trigger("scrolling",null,t);p.customScroll=t.customScroll}return s},_scrollEnd:function(r,p,q,s){if(r){window.setTimeout(function(){var t=p.getContentElement(),v,u;if(!t.is(":visible")){return}v=p.getContentElement().position();u={dir:q,beforePosition:p._beforePosition,afterPosition:v};if(!isNaN(s)){u.newValue=s}p._trigger("scrolled",null,u)},0)}},_getDragLength:function(s,p,q,t){var v=s/p,u=q/v,r=t;if(u<r){u=r}else{if((u+1)>=q){u=q-1}}return Math.round(u)},_needScrollbar:function(q,r){var p=this._hasMode(q,"scrollbar"),s=q.scrollBarVisibility,t=p&&(s==="visible"||(s==="auto"&&r));return t},_bindBarEvent:function(r,s,q){var p=this;r.bind("mouseover."+p.widgetName,p,p._scrollerMouseOver);s.draggable({axis:q==="h"?"x":"y",start:function(u,t){p._isDragging=true},drag:function(u,t){p._dragging(u,t,p)},containment:"parent",stop:function(t){p._dragStop(t,p,q);h(t.target).removeClass("ui-state-active");p._isDragging=false}})},_createBarIfNeeded:function(C,u,s,x,z){if(C){var D=this,v,y=D._fields(),r=s+"barContainer",t=s+"barDrag",w=s==="h",p=z[w?"innerHeight":"innerWidth"](),B=y[r]=h(x),q,A;u.append(B);q=B[0][w?"offsetHeight":"offsetWidth"];p=p-q;v={direction:w?"horizontal":"vertical",targetBarLen:q,contentLength:p};if(D._trigger(w?"hScrollerActivating":"vScrollerActivating",null,v)===false){return false}A=y[t]=B.find("."+c);D._bindBarEvent(B,A,s);z[w?"height":"width"](p)}},_setScrollbarPosition:function(r,A,D,q,B,v,p,H,J,C,z){var s=C==="h",x,I,t,y,G,w,F,E,u;if(v){x=q[0][s?"offsetHeight":"offsetWidth"];I=A._getScrollContainerPadding(C);t=s?"top":"left";y=s?{top:"0px",bottom:"auto",left:"auto",right:"auto"}:{left:"0px",right:"auto",top:"auto",bottom:"auto"};G=s?{top:x+"px"}:{left:x+"px"};w=s?{top:"auto",right:"auto",left:"auto",bottom:"0px"}:{left:"auto",right:"0px",top:"auto",bottom:"auto"};F=s?{top:""}:{left:""};E=D[s?"innerWidth":"innerHeight"]();if(H===t){q.css(y);D.css(G);if(s){q.children(".wijmo-wijsuperpanel-hbar-buttonleft").removeClass("ui-corner-bl").addClass("ui-corner-tl");q.children(".wijmo-wijsuperpanel-hbar-buttonright").removeClass("ui-corner-br").addClass("ui-corner-tr");q.removeClass("ui-corner-bottom").addClass("ui-corner-top")}else{q.children(".wijmo-wijsuperpanel-vbar-buttontop").removeClass("ui-corner-tr").addClass("ui-corner-tl");q.children(".wijmo-wijsuperpanel-vbar-buttonbottom").removeClass("ui-corner-br").addClass("ui-corner-bl");q.removeClass("ui-corner-right").addClass("ui-corner-left")}}else{q.css(w);D.css(F);if(s){q.children(".wijmo-wijsuperpanel-hbar-buttonleft").removeClass("ui-corner-tl").addClass("ui-corner-bl");q.children(".wijmo-wijsuperpanel-hbar-buttonright").removeClass("ui-corner-bl").addClass("ui-corner-br");q.removeClass("ui-corner-top").addClass("ui-corner-bottom")}else{q.children(".wijmo-wijsuperpanel-vbar-buttontop").removeClass("ui-corner-tl").addClass("ui-corner-tr");q.children(".wijmo-wijsuperpanel-vbar-buttonbottom").removeClass("ui-corner-bl").addClass("ui-corner-br");q.removeClass("ui-corner-left").addClass("ui-corner-right")}}u=0;if(p){u=B[0][s?"offsetWidth":"offsetHeight"];if(J==="left"){q.css("right","0px")}else{if(J==="right"){q.css("left","0px")}else{if(J==="top"){q.css("bottom","0px")}else{if(J==="bottom"){q.css("top","0px")}}}}}if(!s&&p){u=0}q[s?"width":"height"](E-I);A._enableDisableScrollBar(C,q,!z)}else{r.css(s?"left":"top","")}},_testScroll:function(E,x,s){var q=x.templateWrapper,y=x.contentWrapper,v=x.stateContainer,p=y.innerWidth(),C=y.innerHeight(),u=x.contentWidth,t=x.contentHeight,B,D,w,z,A,r;x.hScrolling=u>p;x.vScrolling=t>C;B=E.hNeedScrollBar=E._needScrollbar(s.hScroller,x.hScrolling);if(E._createBarIfNeeded(B,v,"h",e,y)===false){return false}if(B&&!x.vScrolling){q.css("float","left");x.contentHeight=q.height();x.vScrolling=x.contentHeight>(C-x.hbarContainer[0].offsetHeight);q.css("float","")}D=E.vNeedScrollBar=E._needScrollbar(s.vScroller,x.vScrolling);if(E._createBarIfNeeded(D,v,"v",k,y)===false){return false}if(D&&!x.hScrolling){q.css("float","left");x.contentWidth=q.width();x.hScrolling=x.contentWidth>(p-x.vbarContainer[0].offsetWidth);q.css("float","");if(x.hScrolling&&!B){B=E.hNeedScrollBar=E._needScrollbar(s.hScroller,x.hScrolling);if(E._createBarIfNeeded(B,v,"h",e,y)===false){return false}}}w=x.hbarContainer;z=x.vbarContainer;A=s.hScroller.scrollBarPosition;r=s.vScroller.scrollBarPosition;E._setScrollbarPosition(q,E,y,w,z,B,D,A,r,"h",x.hScrolling);E._setScrollbarPosition(q,E,y,z,w,D,B,r,A,"v",x.vScrolling)},_enableDisableScrollBar:function(q,r,p){if(q==="v"){r[p?"addClass":"removeClass"]("wijmo-wijsuperpanel-vbarcontainer-disabled");r.find("."+f)[p?"addClass":"removeClass"](m)}else{if(q==="h"){r[p?"addClass":"removeClass"]("wijmo-wijsuperpanel-hbarcontainer-disabled");r.find("."+f)[p?"addClass":"removeClass"](m)}}r.children("."+c)[p?"hide":"show"]()},_initResizer:function(){var q=this,t=q.options,r=q._fields(),u=r.resizer,p,s;if(!u&&t.allowResize){p=t.resizableOptions;s=p.stop;p.stop=function(v){q._resizeStop(v,q);if(h.isFunction(s)){s(v)}};r.resizer=u=q.element.resizable(p)}if(!t.allowResize&&r.resizer){u.resizable("destroy");r.resizer=null}},_resizeStop:function(q,p){if(!this.options.autoRefresh){p.paintPanel(true)}p._trigger("resized")},_createAdditionalDom:function(q,s,r){if(!r.attr("tabindex")){r.attr("tabindex","-1");s.tabindex=true}var p=s.stateContainer=h(d),t;s.contentWrapper=p.children();t=s.templateWrapper=s.contentWrapper.children();r.contents().each(function(u,v){var w=h(v);if(w.hasClass("wijmo-wijsuperpanel-header")){s.header=w;return}if(w.hasClass("wijmo-wijsuperpanel-footer")){s.footer=w;return}t[0].appendChild(v)});if(s.header!==undefined){r.prepend(s.header)}r[0].appendChild(p[0]);if(s.footer!==undefined){s.footer.insertAfter(p)}},_setRounder:function(p,u){if(this.options.showRounder){u.addClass(i);if(p._rounderAdded){return}if(h.browser.msie){return}var s,r,t,q;s=r="";if(h.browser.webkit){r="WebkitBorderTopLeftRadius";s="WebkitBorderRadius"}else{if(h.browser.mozilla){r="MozBorderRadiusBottomleft";s="MozBorderRadius"}else{r="border-top-left-radius";s="border-radius"}}t=u.css(r);q=parseInt(t,10);u.css(s,q+1);p._rounderAdded=true;p._radiusKey=s}else{u.removeClass(i)}},_setInnerElementsSize:function(s,x){var p=s.stateContainer,t=s.contentWrapper,w=0,q,r,v,u;if(s.header!==undefined){w+=s.header.outerHeight()}if(s.footer!==undefined){w+=s.footer.outerHeight()}q=p[0].style;r=x.innerHeight()-w;v=x.innerWidth();q.display="none";q.height=r+"px";q.width=v+"px";u=t[0].style;u.height=r+"px";u.width=v+"px";q.display=""}})}(jQuery));;
(function(a){a.widget("wijmo.wijdropdown",{options:{zIndex:1000,showingAnimation:{effect:"blind"},hidingAnimation:{effect:"blind"}},hoverClass:"ui-state-hover",activeClass:"ui-state-active",focusClass:"ui-state-focus",_setOption:function(b,c){a.Widget.prototype._setOption.apply(this,arguments);if(b==="disabled"){this._labelWrap.toggleClass("ui-state-disabled",c);this._label.toggleClass("ui-state-disabled",c);this.element.attr("disabled",c?"disabled":"")}},_create:function(){var b=this,c=b.element;if(window.wijmoApplyWijTouchUtilEvents){a=window.wijmoApplyWijTouchUtilEvents(a)}if(c.get(0).tagName.toLowerCase()!=="select"){return}if(c.is(":visible")){b._activeItem=null;b._createSelect();b._bindEvents();b.needInit=false}else{b.needInit=true}if(b.element.is(":hidden")&&b.element.wijAddVisibilityObserver){b.element.wijAddVisibilityObserver(function(){b.refresh();if(b.element.wijRemoveVisibilityObserver){b.element.wijRemoveVisibilityObserver()}},"wijdropdown")}},_createSelect:function(){var k=this,l=k.element,c=l.outerWidth(),e=c,d=l.wrap("<div></div>").parent().addClass("ui-helper-hidden"),b=d.wrap("<div></div>").parent().attr("role","select").addClass("wijmo-wijdropdown ui-widget ui-widwijmo-wijdropdownt-content ui-state-default ui-corner-all ui-helper-clearfix"),j=a('<label class="wijmo-dropdown-label ui-corner-all"></label>').attr("id",l.get(0).id+"_select").attr("name",l.attr("name")||""),i=a("<div></div>").addClass("wijmo-dropdown-trigger ui-state-default ui-corner-right"),f=a('<a href="#"></a>'),h=a("<div>").addClass("wijmo-dropdown"),g=a("<ul></ul>").addClass("wijmo-dropdown-list ui-widget-content ui-widget ui-corner-all ui-helper-reset").appendTo(h);a("<span></span>").addClass("ui-icon ui-icon-triangle-1-s").appendTo(i);c=Math.max(c,b.width());if(l.get(0).tabIndex!==""){f.attr("tabindex",l.attr("tabindex"))}if(l.get(0).disabled!==false){k.options.disabled=true}if(k.options.disabled){f.addClass("ui-state-disabled");j.addClass("ui-state-disabled")}f.append(j);b.append(d).append(f).append(i).append(h);e+=parseInt(j.css("padding-left").replace(/px/,""),10);e+=parseInt(j.css("padding-right").replace(/px/,""),10);e-=16;b.width(e);k._buildList(g,h,e);k._rightTrigger=i;k._label=j;k._listContainer=h;k._list=g;k._value=l.val();k._selectedIndex=a("option",l).index(l.find("option:selected"));k._selectWrap=d;k._labelWrap=f;k._container=b;b.attr("title",l.attr("title"));l.removeAttr("title")},_buildList:function(f,g,d){var c=this,e=c.element,b;g.show();e.children().each(function(h,o){var k=a(o),m,j,l;if(k.is("option")){f.append(c._buildItem(k))}else{m=a('<li class="wijmo-dropdown-optgroup"></li>');j=a("<span>"+k.attr("label")+"</span>").addClass("wijmo-optgroup-header ui-priority-primary");l=a("<ul></ul>").addClass("ui-helper-reset wijmo-dropdown-items");k.children("option").each(function(){l.append(c._buildItem(a(this)))});m.append(j).append(l);f.append(m)}});g.height("");b=g.height();b=f.outerHeight()<b?f.outerHeight():b;g.css({height:b,width:d});if(a.browser.msie&&/^[8]\.[0-9]+/.test(a.browser.version)){f.setOutWidth(f.parent().parent().innerWidth()-19)}else{f.setOutWidth(f.parent().parent().innerWidth()-18)}if(g.data("wijsuperpanel")){g.wijsuperpanel("paintPanel");c.superpanel=g.data("wijsuperpanel")}else{c.superpanel=g.wijsuperpanel().data("wijsuperpanel")}if(a.fn.bgiframe){c.superpanel.element.bgiframe()}if(!c.superpanel.vNeedScrollBar){if(a.browser.msie&&/^[8]\.[0-9]+/.test(a.browser.version)){f.setOutWidth(f.parent().parent().innerWidth()-1)}else{f.setOutWidth(f.parent().parent().innerWidth())}c.superpanel.refresh()}g.hide()},_handelEvents:function(e){var b=this,d="."+b.widgetName,c=b.element;e.bind("click"+d,function(f){if(b.options.disabled){return}if(b._listContainer.is(":hidden")){b._show()}else{b._hide()}c.click();if(e.get(0)===b._label.get(0)){f.preventDefault()}else{b._labelWrap.focus();f.preventDefault()}}).bind("mouseover"+d,function(){if(b.options.disabled){return}b._label.addClass(b.hoverClass);b._rightTrigger.addClass(b.hoverClass);c.trigger("mouseover")}).bind("mouseout"+d,function(){if(b.options.disabled){return}b._label.removeClass(b.hoverClass);b._rightTrigger.removeClass(b.hoverClass);c.trigger("mouseout")}).bind("mousedown"+d,function(){if(b.options.disabled){return}b._label.addClass(b.activeClass);b._rightTrigger.addClass(b.activeClass);c.trigger("mousedown")}).bind("mouseup"+d,function(){if(b.options.disabled){return}b._label.removeClass(b.activeClass);b._rightTrigger.removeClass(b.activeClass);c.trigger("mouseup")})},_bindEvents:function(){var i=this,c="."+i.widgetName,h=i._label,g=i._rightTrigger,e=i._labelWrap,f=i._listContainer,j=i.element,b=false,d;i._handelEvents(i._label);i._handelEvents(i._rightTrigger);a(document).bind("click"+c,function(k){if(f.is(":hidden")){return}d=f.offset();if(k.target===h.get(0)||k.target===g.get(0)||k.target===g.children().get(0)){return}if(k.pageX<d.left||k.pageX>d.left+f.width()||k.pageY<d.top||k.pageY>d.top+f.height()){i._hide()}});f.bind("click"+c,function(l){var k=a(l.target);if(k.closest("li.wijmo-dropdown-item",a(this)).length>0){i._setValue();f.css("z-index","");if(a.browser.msie&&/^[6,7].[0-9]+/.test(a.browser.version)){f.parent().css("z-index","")}f.hide();i._setValueToEle()}j.click()});e.bind("keydown"+c,function(l){if(i.options.disabled){return}var k=a.ui.keyCode;switch(l.which){case k.UP:case k.LEFT:i._previous();i._setValue();i._setValueToEle();break;case k.DOWN:case k.RIGHT:i._next();i._setValue();i._setValueToEle();break;case k.PAGE_DOWN:i._nextPage();i._setValue();i._setValueToEle();break;case k.PAGE_UP:i._previousPage();i._setValue();i._setValueToEle();break;case k.ENTER:case k.NUMPAD_ENTER:i._setValue();i._listContainer.hide();i._setValueToEle();break}if(l.which!==k.TAB){l.preventDefault()}j.trigger("keydown")}).bind("focus"+c,function(){if(i.options.disabled){return}h.addClass(i.focusClass);g.addClass(i.focusClass);j.focus()}).bind("blur"+c,function(){if(i.options.disabled){return}h.removeClass(i.focusClass);g.removeClass(i.focusClass);j.trigger("blur")}).bind("keypress"+c,function(){if(i.options.disabled){return}j.trigger("keypress")}).bind("keyup"+c,function(){if(i.options.disabled){return}j.trigger("keyup")});b=/chrome/.test(navigator.userAgent.toLowerCase());if(b||a.browser.safari){g.bind("mouseout"+c,function(){if(i.options.disabled){return}h.removeClass(i.focusClass);g.removeClass(i.focusClass)})}},_init:function(){var b=this;b._initActiveItem();if(b._activeItem){b._label.text(b._activeItem.text())}},_buildItem:function(c){var e=c.val(),d=c.text(),b=this,f;if(d===""){d="&nbsp;"}f=a('<li class="wijmo-dropdown-item ui-corner-all"><span>'+d+"</span></li>").mousemove(function(g){var h=a(g.target).closest(".wijmo-dropdown-item");if(h!==this.last){b._activate(a(this))}this.last=a(g.target).closest(".wijmo-dropdown-item")}).attr("role","option");f.data("value",e);return f},_show:function(){var b=this,d=b._listContainer,c=b.options.showingAnimation;d.css("z-index","100000");if(a.browser.msie&&/^[6,7]\.[0-9]+/.test(a.browser.version)){d.parent().css("z-index","99999")}if(c){d.show(c.effect,c.options,c.speed,function(){b._initActiveItem()})}else{d.show()}},_hide:function(){var b=this,d=b._listContainer,c=b.options.hidingAnimation;if(d.is(":hidden")){return}if(c){d.hide(c.effect,c.options,c.speed,function(){if(a.isFunction(c.callback)){c.callback.apply(b,arguments)}if(a.browser.msie&&/^[6,7]\.[0-9]+/.test(a.browser.version)){d.parent().css("z-index","")}d.css("z-index","")})}else{if(a.browser.msie&&a.browser.version==="6.0"){d.parent().css("z-index","")}d.css("z-index","");d.hide()}},_setValue:function(){var c=this,e=c._listContainer,d,b;if(c._activeItem){c._label.text(c._activeItem.text());c._value=c._activeItem.data("value");c._selectedIndex=a("li.wijmo-dropdown-item",e).index(c._activeItem);if(c.superpanel.vNeedScrollBar){d=c._activeItem.offset().top;b=c._activeItem.outerHeight();if(e.offset().top>d){e.wijsuperpanel("scrollTo",0,d-c._list.offset().top)}else{if(e.offset().top<d+b-e.innerHeight()){e.wijsuperpanel("scrollTo",0,d+b-e.height()-c._list.offset().top)}}}}},_setValueToEle:function(){var c=this,d=c.element,f=d.find(":selected"),e=a("option",d).index(f),b=c._selectedIndex;if(e!==b){if(a.browser.mozilla){d.val(c._value)}f.removeAttr("selected");d.find("option:eq("+b+")").attr("selected",true);d.trigger("change")}},_initActiveItem:function(){var b=this;if(b._value!==undefined){if(b._selectedIndex===-1){b._activate(b._list.find("li.wijmo-dropdown-item").eq(0));return}b._list.find("li.wijmo-dropdown-item").each(function(c){if(c===b._selectedIndex){b._activate(a(this));return false}})}},_activate:function(c){var b=this;b._deactivate();b._activeItem=c;b._activeItem.addClass(b.hoverClass).attr("aria-selected",true)},_deactivate:function(){var b=this;if(b._activeItem){b._activeItem.removeClass(b.hoverClass).attr("aria-selected",false)}},_next:function(){this._move("next","first")},_previous:function(){this._move("prev","last")},_nextPage:function(){this._movePage("first")},_previousPage:function(){this._movePage("last")},refresh:function(){var b=this,d=b.element,c;if(b.needInit){if(b.element.is(":visible")){b._activeItem=null;b._createSelect();b._bindEvents();b._init();b.needInit=false}}else{if(!b._list){return}b._listContainer.show();b._selectWrap.removeClass("ui-helper-hidden");c=b.element.outerWidth();c+=parseInt(b._label.css("padding-left").replace(/px/,""),10);c+=parseInt(b._label.css("padding-right").replace(/px/,""),10);c-=16;b._container.width(c);b._selectWrap.addClass("ui-helper-hidden");b._list.empty();b._buildList(b._list,b._listContainer,c);b._value=b.element.val();b._selectedIndex=a("option",d).index(d.find("option:selected"));b._initActiveItem();if(b._activeItem){b._label.text(b._activeItem.text())}}},_move:function(e,d){var b=this,f,c;if(!b._activeItem){b._activate(b._list.find(".wijmo-dropdown-item:"+d));return}f=b._activeItem[e]().eq(0);if(f.length){c=b._getNextItem(f,e,d)}else{if(b._activeItem.closest(".wijmo-dropdown-optgroup").length){c=b._getNextItem(b._activeItem.closest(".wijmo-dropdown-optgroup")[e](),e,d)}}if(c&&c.length){b._activate(c)}else{b._activate(b._list.find(".wijmo-dropdown-item:"+d))}},_movePage:function(g){var e=this,f,c,b,d=g==="first"?"last":"first";if(e.superpanel.vNeedScrollBar){f=e._activeItem.offset().top;c=e.options.height;b=e._list.find(".wijmo-dropdown-item").filter(function(){var i=a(this).offset().top-f+(g==="first"?-c:c)+a(this).height(),h=a(this).height();return i<h&&i>-h});if(!b.length){b=e._list.find(".wijmo-dropdown-item:"+d)}e._activate(b)}else{e._activate(e._list.find(".wijmo-dropdown-item:"+(!e._activeItem?g:d)))}},_getNextItem:function(b,d,c){if(b.length){if(b.is(".wijmo-dropdown-optgroup")){if(!!b.find(">ul>li.wijmo-dropdown-item").length){return b.find(">ul>li.wijmo-dropdown-item:"+c).eq(0)}else{this._getNextItem(b[d]().eq(0))}}else{return b}}},destroy:function(){this.element.attr("title",this._container.attr("title"));this.element.closest(".wijmo-wijdropdown").find(">div.wijmo-dropdown-trigger,>div.wijmo-dropdown,>a").remove();this.element.unwrap().unwrap().removeData("maxZIndex");a.Widget.prototype.destroy.apply(this)}})}(jQuery));;
/*
 *
 * Wijmo Library 2.3.7
 * http://wijmo.com/
 *
 * Copyright(c) GrapeCity, Inc.  All rights reserved.
 * 
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * licensing@wijmo.com
 * http://wijmo.com/widgets/license/
 *
 **/
(function(a){"use strict";var b="wijmo-wijmenu-item";a.widget("wijmo.wijmenu",{options:{trigger:"",triggerEvent:"click",position:{},animation:{animated:"slide",duration:400,easing:null},showAnimation:{},hideAnimation:{animated:"fade",duration:400,easing:null},showDelay:400,hideDelay:400,slidingAnimation:{duration:400,easing:null},mode:"flyout",superPanelOptions:null,checkable:false,orientation:"horizontal",direction:"ltr",maxHeight:200,backLink:true,backLinkText:"Back",topLinkText:"All",crumbDefaultText:"Choose an option",select:null,focus:null,blur:null,showing:null,shown:null,hidding:null,hidden:null,items:null},_preventEvent:function(a){a.preventDefault();a.stopImmediatePropagation()},_initState:function(){var a=this;if(!a.options.items)a.options.items=[]},_create:function(){var b=this,f=b.options,h=f.direction,c=f.mode,g,d=b.element,i,e=a.ui.keyCode,j=f.disabled;b._initState();if(window.wijmoApplyWijTouchUtilEvents)a=window.wijmoApplyWijTouchUtilEvents(a);d.is(":hidden")&&d.wijAddVisibilityObserver&&d.wijAddVisibilityObserver(function(){b.refresh();d.wijRemoveVisibilityObserver&&d.wijRemoveVisibilityObserver()},"wijmenu");d.data("wijmomenu",b.widgetName);b.clickNameSpace="click.wijmenudoc"+b._newId();d.hide();b.cssPre="wijmo-wijmenu";b.nowIndex=9999;b.activeItem=null;b.refresh();d.attr("tabIndex",0);if(b._getDisabled()){b.disable();if(f.disabledState===true)f.disabled=j}d.bind("keydown.wijmenuEvent",function(d){if(b._getDisabled())return;c==="sliding"&&b._getSublist().stop(true,true);var j=b.activeItem,k,m,l=f.orientation;if(j){k=j._isRoot();i=j._getSublist()}else k=true;switch(d.keyCode){case e.PAGE_UP:b.previousPage(d);b._preventEvent(d);break;case e.PAGE_DOWN:b.nextPage(d);b._preventEvent(d);break;case e.UP:if(l==="vertical"||c==="sliding"||!k){b.previous(d);b._preventEvent(d)}break;case e.DOWN:if(l==="vertical"||c==="sliding"||!k){b.next(d);b._preventEvent(d)}else if(j)if(c==="flyout"&&a.wijmo.wijmenu._hasVisibleSubMenus(j)>0)i.is(":hidden")&&j._showFlyoutSubmenu(d,function(){b.activate(d,j._getFirstSelectableSubItem())});break;case e.RIGHT:if(l==="horizontal"&&k&&c==="flyout"){if(h==="rtl")b.previous(d);else b.next(d);b._preventEvent(d)}else if(j){g=j.getParent();if(h==="rtl")b._keyDownToCloseSubmenu(c,d,g);else b._keyDownToOpenSubmenu(j,c,d,i)}break;case e.LEFT:if(l==="horizontal"&&k&&c==="flyout"){if(h==="rtl")b.next(d);else b.previous(d);b._preventEvent(d)}else{if(j)g=j.getParent();if(h==="rtl")b._keyDownToOpenSubmenu(j,c,d,i);else b._keyDownToCloseSubmenu(c,d,g)}break;case e.ENTER:if(!j)return;m=j._getLink();if(c==="flyout")break;else{b.select();m.is("a")&&m.attr("href")==="#"&&b._preventEvent(d)}break;case e.TAB:b.next(d);b._preventEvent(d)}})},_keyDownToOpenSubmenu:function(b,e,d,c){var f=this;if(e==="flyout"&&a.wijmo.wijmenu._hasVisibleSubMenus(b)>0)c.is(":hidden")&&b._showFlyoutSubmenu(d,function(){f.activate(d,b._getFirstSelectableSubItem())});else if(e==="sliding")c.length>0&&b._getLink().trigger("click",b._getFirstSelectableSubItem())},_keyDownToCloseSubmenu:function(f,e,c){var b=this,g=b.options,d;if(f==="flyout"){if(c){c._hideCurrentSubmenu(e);b.activate(e,c)}}else{g.backLink&&b._backLink&&b._backLink.is(":visible")&&b._backLink.trigger("click",function(){c&&b.activate(e,c)});d=a(".wijmo-wijmenu-breadcrumb",b.domObject.menucontainer).find("li a");d.length>0&&d.eq(d.length-2).trigger("click",function(){c&&b.activate(e,c)})}},_createMenuItems:function(){for(var b=this,d=[],f=b.options.items.length,g=b._getSublist().children("li").length,c,e=0;e<f-g;e++)b._getSublist().append("<li>");a(">li",b._getSublist()).each(function(e){var g=a(this),f=a.wijmo.wijmenu._getMenuItemOptions(b.options,e);c=b._createItemWidget(g,f);d.push(c);b.options.items[e]=c.options});return d},_itemWidgetName:"wijmenuitem",_createItemWidget:function(c,d){var b=this._itemWidgetName;a.fn[b]&&c[b](d);return a.wijmo.wijmenu._getItemWidget(c)},_handleDisabledOption:function(b,c){var a=this;if(b){if(!a.disabledDiv)a.disabledDiv=a._createDisabledDiv(c);a.disabledDiv.appendTo(a.domObject.menucontainer)}else if(a.disabledDiv){a.disabledDiv.remove();a.disabledDiv=null}},_getDisabled:function(){var b=this,a=b.options;return a.disabledState===true||a.disabled===true},_createDisabledDiv:function(){return a("<div></div>").addClass("ui-disabled").css({"z-index":"99999",position:"absolute",width:"100%",height:"100%",left:0,top:0})},_innerDestroy:function(){var a=this,b=a.options;a.destroying=true;a[b.mode==="flyout"?"_killFlyout":"_killDrilldown"]();a._killMenuItems();a._killtrigger();a._killElement();a.destroying=false},destroy:function(){var b=this;this._innerDestroy();if(b.disabledDiv){b.disabledDiv.remove();b.disabledDiv=null}a.Widget.prototype.destroy.apply(this)},activate:function(i,e){if(!e)return;var b=this,h=b.domObject.scrollcontainer,c,d,g=false,f=true;c=(e.jquery?e:e.element).eq(0);if(b.activeItem&&b.activeItem.element.get(0)===c.get(0))return;b.deactivate(i);b.activeItem=a.wijmo.wijmenu._getItemWidget(c);d=c.children(":first");b._trigger("focus",i,{item:b.activeItem});if(b.options.mode==="sliding"){f=c.parent().is(".wijmo-wijmenu-current");g=f&&b._hasScroll()&&h.wijsuperpanel("needToScroll",c);if(g){b._linkContainer.link=d;b._linkContainer.needToFocus=true;h.wijsuperpanel("scrollChildIntoView",c)}}d.addClass("ui-state-focus").end();b.element.removeAttr("aria-activedescendant");b.element.attr("aria-activedescendant",c.attr("id"));f&&!g&&d.is("a")&&d.focus()},deactivate:function(){var a=this,b=a.activeItem;if(!b)return;setTimeout(function(){b._getLink().removeClass("ui-state-focus").removeAttr("id");a._trigger("blur")},0);a.activeItem=null},next:function(a){this._move("next",function(a){return a._getFirstSelectableSubItem()},a)},previous:function(a){this._move("previous",function(a){return a._getLastSelectableSubItem()},a)},first:function(){var b=this,c,d,a;if(!b.activeItem)return false;c=b._getActiveItemElement();d=b.activeItem._getParentOrMenu();a=d._getFirstSelectableSubItem();return a&&c[0]===a.element[0]},last:function(){var b=this,c,d,a;if(!b.activeItem)return false;c=b._getActiveItemElement();d=b.activeItem._getParentOrMenu();a=d._getLastSelectableSubItem();return a&&c[0]===a.element[0]},nextPage:function(g){var b=this,e=b._getActiveItemElement(),i,h,c,d,f;if(e)d=b.activeItem._getParentOrMenu();else{d=b;e=b._getFirstSelectableSubItem()}if(b.options.mode==="sliding"&&b._hasScroll()){if(!e||b.last()){b.activate(g,d._getFirstSelectableSubItem());return}i=e.offset().top;h=b.options.maxHeight;c=a.wijmo.wijmenu._getSelectableSubItems(d,function(e){var b=a(e.element),d=h-(b.offset().top-i+b.height()),c=b.height();return d<c&&d>-c});if(!c.length)c=d._getLastSelectableSubItem();else c=c[c.length-1];b.activate(g,c)}else{if(!e||b.last())f=d._getFirstSelectableSubItem();else f=d._getLastSelectableSubItem();b.activate(g,f)}},previousPage:function(g){var b=this,e=b._getActiveItemElement(),i,h,d,c,f;if(e)c=b.activeItem._getParentOrMenu();else{c=b;e=b._getFirstSelectableSubItem()}if(b.options.mode==="sliding"&&b._hasScroll()){if(!e||b.first()){b.activate(g,c._getLastSelectableSubItem());return}i=e.offset().top;h=b.options.maxHeight;d=a.wijmo.wijmenu._getSelectableSubItems(c,function(e){var b=a(e.element),d=b.offset().top-i+h-b.height(),c=b.height();return d<c&&d>-c});if(!d.length)d=c._getFirstSelectableSubItem();else d=d[0];b.activate(g,d)}else{if(!e||b.first())f=c._getLastSelectableSubItem();else f=c._getFirstSelectableSubItem();b.activate(g,f)}},select:function(d){var b=this,a=b.activeItem,c;b._trigger("select",d,{item:a});if(b.options.checkable){c=!a.options.selected;a._setOption("selected",c)}},_getActiveItemElement:function(){return this.activeItem?this.activeItem.element:null},setItemDisabled:function(d,b){var c=a(d,this.element);c.find(".wijmo-wijmenu-item>a").attr("disabled",b);c.find(">a").toggleClass("ui-state-disabled",b)},_setOption:function(b,c){var a=this;if(a.destroying)return;a["_set_"+b]&&a["_set_"+b](c);a.options[b]=c;b==="disabled"&&a._handleDisabledOption(c,a.domObject.menucontainer)},_set_items:function(b){var a=this;a._getSublist().children().remove();a.options.items=b;a.refresh()},_set_mode:function(b){var a=this;a._innerDestroy();a.options.mode=b;a.refresh()},_set_backLink:function(d){var b=this,c;this.options.backLink=d;if(b.options.mode==="sliding"){b._killDrilldown();b._drilldown();c=a(".wijmo-wijmenu-breadcrumb",b.domObject.menucontainer);b._resetDrilldownMenu(c)}},_set_direction:function(){var a=this;a._innerDestroy();a.refresh()},_set_orientation:function(e){var b=this,d=b.domObject.menucontainer,i=b.options.direction,c="ui-icon-triangle-1-",f=i==="rtl"?"w":"e",h=e==="horizontal"?f:"s",g=e==="horizontal"?"s":f;d.removeClass(b.cssPre+"-vertical "+b.cssPre+"-horizontal");if(b.options.mode==="flyout"){d.addClass(b.cssPre+"-"+e);a.each(b.getItems(),function(b,a){if(a.getItems().length===0)return;a._getLink().find("."+c+h).removeClass(c+h+" "+c+g).addClass(c+g)})}else d.addClass(b.cssPre+"-vertical")},_getTriggerEle:function(){return a.wijmo.wijmenu._getOuterElement(this.options.trigger,".wijmo-wijmenu")},_set_triggerEvent:function(d){var a=this,c=a.options,b=a._getTriggerEle();a._killtrigger();c.triggerEvent=d;b.length>0&&a._initTrigger(b);if(c.mode==="flyout"){a._killFlyout();a._flyout()}},_set_trigger:function(d){var a=this,c=a.options,b;a._killtrigger();c.trigger=d;b=a._getTriggerEle();b.length>0&&a._initTrigger(b);if(c.mode==="flyout"){a._killFlyout();a._flyout()}},_initTrigger:function(b){var f=this.options,e=f.triggerEvent,c=this,g=c.domObject.menucontainer,d=".wijmenuEvent";if(b.is("iframe"))b=a(b.get(0).contentWindow.document);switch(e){case"click":b.bind(e+d,function(a){f.mode!=="popup"&&c._displayMenu(a);a.stopPropagation()});break;case"mouseenter":b.bind(e+d,function(a){c._displayMenu(a);a.stopPropagation()});break;case"dblclick":b.bind(e+d,function(a){c._displayMenu(a);a.stopPropagation()});break;case"rtclick":b.bind("contextmenu"+d,function(a){g.hide();c._displayMenu(a);a.preventDefault();a.stopPropagation()})}},_killtrigger:function(){var c=this.options,b;if(c.trigger!==""){b=a(c.trigger);if(b.is("iframe"))b=a(b.get(0).contentWindow.document);b&&b.length>0&&b.unbind(".wijmenuEvent").unbind("wijmenuEvent")}},_move:function(i,g,e){var b=this,c=b._getActiveItemElement(),f,h,d;if(!c||!c.length){b.activate(e,g(b));return}d=a.wijmo.wijmenu._getItemWidget(c);f=d[i]();h=d._getParentOrMenu();if(f)b.activate(e,f);else b.activate(e,g(h))},refresh:function(){var b=this,d=b.element,h="wijmo-wijmenu",c=b.options,k=c.direction,f,e,j,g,i;b.domObject&&b._innerDestroy();if(d.is("ul")){b._rootMenu=d;f=d.wrap("<div></div>").parent();e=f.wrap("<div></div>").parent()}else if(d.is("div")){b._rootMenu=a("ul:first",d);f=d;e=d.wrap("<div></div>").parent()}else return;k==="rtl"&&b._rootMenu.addClass(h+"-rtl");f.addClass("scrollcontainer checkablesupport");e.addClass("ui-widget ui-widget-header "+h+" ui-corner-all ui-helper-clearfix").attr("aria-activedescendant","ui-active-menuitem");c.orientation==="horizontal"&&c.mode==="flyout"&&e.addClass(h+"-"+c.orientation);j={scrollcontainer:f,menucontainer:e};b.domObject=j;b._getSublist().data("topmenu",true);!b._getSublist().hasClass(h+"-list ui-helper-reset")&&b._getSublist().addClass(h+"-list ui-helper-reset");b._items=b._createMenuItems();d.show();d.delegate("li>.wijmo-wijmenu-link","mouseenter.wijmenuEvent",function(){var c=a(this).hasClass("ui-state-disabled");if(b._getDisabled()||c)return;a(this).addClass("ui-state-hover")}).delegate("li>.wijmo-wijmenu-link","mouseleave.wijmenuEvent",function(){var c=a(this).hasClass("ui-state-disabled");if(b._getDisabled()||c)return;a(this).removeClass("ui-state-hover");a(this).data("subMenuOpened")&&a(this).addClass("ui-state-active")});this[c.mode==="flyout"?"_flyout":"_drilldown"]();if(c.trigger!==""){g=b._getTriggerEle();if(g.length>0){e.hide();b._initTrigger(g)}}a(document).bind(b.clickNameSpace,function(d){if(a(d.target).parent().is(".wijmo-wijmenu-all-lists"))return;if(a(d.target).closest(c.trigger).is(c.trigger))return;var f=a(d.target).closest(".wijmo-wijmenu");if(f.length===0){if(c.mode==="sliding"){i=a(".wijmo-wijmenu-breadcrumb",e);if(c.trigger==="")return;b._resetDrilldownMenu(i)}else if(c.mode==="flyout"&&c.triggerEvent!=="mouseenter"){b._hideAllMenus(d);return}g&&g.length>0&&b._hideMenu(d)}})},_flyout:function(){var b=this,c=b.domObject.menucontainer,d=b.options;c.attr("role","menu");d.orientation==="horizontal"&&c.attr("role","menubar");a.each(b.getItems(),function(){this._flyout()})},_hideAllMenus:function(f){var b=this,e,d,c=function(b){if(b.getItems().length>0){a.each(b.getItems(),function(b,a){c(a)});b._hideSubmenu(false,f)}};a.each(b._items,function(b,a){c(a)});if(b.options.trigger!==""){e=b.domObject.menucontainer;if(e.data("isAnimated"))return;d=b._getTriggerEle();if(d.length===0)return;b._hideMenu(f)}},hideAllMenus:function(a){this._hideAllMenus(a)},_killFlyout:function(){a.each(this.getItems(),function(){this._killFlyout()})},_killElement:function(){var b=this,c=b._getSublist();c.removeClass("wijmo-wijmenu-list ui-helper-reset wijmo-wijmenu-content ui-helper-clearfix");a(document).unbind(b.clickNameSpace);if(b.element.is("ul"))b.element.unwrap().unwrap();else b.element.unwrap();b.domObject=null;b.element.removeData("topmenu").removeData("firstLeftValue").removeData("domObject");c.undelegate(".wijmenuEvent")},_killMenuItems:function(){for(var c=this,b=c.getItems(),a=b.length-1;a>=0;a--)b[a].destroy(true);c._items.length=0},_sroll:function(){var a=this.domObject.scrollcontainer,b=this.options.superPanelOptions||{};a.height(this.options.maxHeight);a.wijsuperpanel(b)},_initScrollCallback:function(){var a=this,b=a.domObject.scrollcontainer;a._linkContainer={link:null,needToFocus:false};b.wijsuperpanel({scrolled:function(){var b=a._linkContainer.link;if(a._linkContainer.needToFocus&&b&&b.is("a")){b.focus();a._linkContainer.needToFocus=false}}})},_resetScroll:function(f){var c=this,d=c._rootMenu.parent(),e=5,a=c.domObject.scrollcontainer,b=f._getSublist();d.height(b.height());a.wijsuperpanel("option","hScroller",{scrollValue:0});a.wijsuperpanel("option","vScroller",{scrollValue:0});a.wijsuperpanel("paintPanel");if(c._hasScroll()){if(b.prev().length>0)e=b.prev().css("padding-left").replace(/px/g,"");b.width(a.find(".wijmo-wijsuperpanel-contentwrapper:first").width()-e);d.height(b.height());a.wijsuperpanel("paintPanel")}},_hasScroll:function(){var a=this.domObject.scrollcontainer;return a.data("wijsuperpanel").vNeedScrollBar},_resetDrillChildMenu:function(a){a.removeClass("wijmo-wijmenu-scroll wijmo-wijmenu-current").height("auto")},_resetDrilldownMenu:function(i,e){var b=this,g=b.options,f=b._getSublist(),c=b.domObject.menucontainer,h=a('<li class="wijmo-wijmenu-breadcrumb-text">'+g.crumbDefaultText+"</li>"),d=function(c){a.each(c,function(f,e){var c=e._getSublist(),a=e.getItems();c.hide();b._resetDrillChildMenu(c);a.length>0&&d(a)})};a(".wijmo-wijmenu-current",c).removeClass("wijmo-wijmenu-current");f.animate({left:0},g.showDuration,function(){d(b.getItems());f.addClass("wijmo-wijmenu-current");e&&e()});a(".wijmo-wijmenu-all-lists",c).find("span").remove();i.empty().append(h);a(".wijmo-wijmenu-footer",c).empty().hide();b._resetScroll(b)},_drilldown:function(){var b=this,e=b._getSublist(),d=b.domObject.menucontainer.attr("role","menu"),g,c=b.options,i=c.direction,f=a('<ul class="wijmo-wijmenu-breadcrumb ui-state-default ui-corner-all ui-helper-clearfix"></ul>'),k=a('<li class="wijmo-wijmenu-breadcrumb-text">'+c.crumbDefaultText+"</li>"),n=c.backLink?c.backLinkText:c.topLinkText,l=c.backLink?"wijmo-wijmenu-prev-list":"wijmo-wijmenu-all-lists",j=c.backLink?"ui-state-default ui-corner-all":"",m=c.backLink?'<span class="ui-icon ui-icon-triangle-1-w"></span>':"",h=a('<li class="'+l+'"><a href="#" class="'+j+'">'+m+n+"</a></li>");e.wrap("<div>").parent().css("position","relative");d.addClass("wijmo-wijmenu-ipod wijmo-wijmenu-container");if(c.backLink)f.addClass("wijmo-wijmenu-footer").appendTo(d).hide();else f.addClass("wijmo-wijmenu-header").prependTo(d);!c.backLink&&f.append(k);g=d.width();e.addClass("wijmo-wijmenu-content wijmo-wijmenu-current ui-widget-content ui-helper-clearfix").css({width:g});a.each(b.getItems(),function(b,a){a._setDrilldownUlStyle()});b._sroll();b._initScrollCallback();b._resetScroll(b);b.element.data("firstLeftValue",parseFloat(e.css("left")));e.delegate("li>.wijmo-wijmenu-link","click",function(k,w){var v=a(this).parent(),x=v.attr("disabled"),r,s,n,u,q,p,j,m,t,g=a.wijmo.wijmenu._getItemWidget(v),o,l;if(b._getDisabled()||x)return;e.stop(true,true);t=a.wijmo.wijmenu._hasVisibleSubMenus(g);if(!t){b._leafNodeClick(k,g,f);return}r=g._getSublist();if(r.hasClass("wijmo-wijmenu-current"))return;if(!b._trigger("showing",k,g))return;s=g._getParentOrMenu()._getSublist();n=s.data("topmenu")?0:parseFloat(e.css("left"));if(i==="rtl")p=Math.round(n+parseFloat(d.width()));else p=Math.round(n-parseFloat(d.width()));j=a(".wijmo-wijmenu-footer",d);m=function(h,f){var i=h,c=a(".wijmo-wijmenu-current",d),e,g;if(c.get(0)===b._getSublist().get(0))return;if(f){e=f._getSublist();g=f}else{e=c.parents("ul:eq(0)");g=a.wijmo.wijmenu._getItemWidget(c.parent())._getParentOrMenu()}c.hide().attr("aria-expanded","false");b._resetDrillChildMenu(c);b._resetScroll(g);e.addClass("wijmo-wijmenu-current").attr("aria-expanded","true");if(e.hasClass("wijmo-wijmenu-content")){i.remove();j.hide()}};b._resetDrillChildMenu(s);b._resetScroll(g);b._slidingAnimation(e,p,function(){b._trigger("shown",k,g);b.activate(k,w||g);b.select(k)});r.show().addClass("wijmo-wijmenu-current").attr("aria-expanded","true");if(c.backLink){if(j.find("a").size()===0){j.show();o=a('<span class="ui-icon ui-icon-triangle-1-w"></span>');l=a("<span></span>").addClass("wijmo-wijmenu-backlinktext");b._backLink=a('<a href="#"> </a>').append(o).append(l).appendTo(j).click(function(f,h){if(b._getDisabled())return;var g=b._getCurrentItemInSliding(),j=a(this),c;if(!b._trigger("hidding",f,g))return;e.stop(true,true);if(i==="rtl")c=Math.round(e.css("left").replace("px",""))-Math.round(d.width());else{c=Math.round(e.css("left").replace("px",""))+Math.round(d.width());if(c>n)return}b._slidingAnimation(e,c,function(){b._trigger("hidden",f,g);m(j);h&&h()});f.preventDefault()});l.width(j.width()-o.width());l.text(c.backLinkText)}}else{if(f.find("li").size()===1){f.empty().append(h);h.find("a").click(function(d,c){var g=a(this).parent(),e=b._getCurrentItemInSliding();b._slidingMenu(d,g,e,null,function(a){if(!a)b._resetDrilldownMenu(f,c);else{m(null,a);c&&c()}});d.preventDefault()})}a(".wijmo-wijmenu-current-crumb",d).removeClass("wijmo-wijmenu-current-crumb");u=g._getLink().text();q=a('<li class="wijmo-wijmenu-current-crumb"><a href="#" class="wijmo-wijmenu-crumb">'+u+"</a></li>");q.appendTo(f).find("a").click(function(f,e){if(b._getDisabled())return;var d=a(this).parent(),c;if(!d.is(".wijmo-wijmenu-current-crumb")){c=b._getCurrentItemInSliding();b._slidingMenu(f,d,c,g,function(a){m(null,a);e&&e()})}f.preventDefault()});q.prev().append(' <span class="ui-icon ui-icon-carat-1-e"></span>')}a(this).attr("href")==="#"&&k.preventDefault()})},_slidingMenu:function(k,i,h,n,f){var a=this,q=a._getSublist(),p=a.options.direction,o=a.domObject.menucontainer,m=o.width(),e=i.parent().children().length-1,j,c,d,b,l=function(c,d,b){j=(p==="rtl"?1:-1)*d*m;a._slidingAnimation(q,j,function(){b&&b(c)})},g=function(c,d){var f;if(c!==d){f=a._trigger("hidding",k,c);if(f){e--;b&&b();b=function(){a._trigger("hidden",k,c)};return g(c.getParent(),d)}}return c};c=g(h,n);if(c!==h){l(c,e,function(){b&&b();f&&f(c)});d=i.parent().children().eq(e);d.addClass("wijmo-wijmenu-current-crumb").find("span").remove();d.nextAll().remove()}},_getCurrentItemInSliding:function(){var d=this,c=d.domObject.menucontainer,e=a(".wijmo-wijmenu-current",c),b=a.wijmo.wijmenu._getItemWidget(e.parent());return b},_leafNodeClick:function(b,c,e){var a=this,f=a.options,d;a.activate(b,c);a.select(b);if(f.trigger){d=a._getTriggerEle();if(d.length){a._hideMenu(b);a._resetDrilldownMenu(e)}}c._getLink().attr("href")==="#"&&b.preventDefault()},_slidingAnimation:function(d,c,b){var a=this.options.slidingAnimation;if(a&&!a.disabled)d.stop(true,true).animate({left:c},a.duration,a.easing,b);else{d.css("left",c);b.call(this)}},_killDrilldown:function(){var c=this._getSublist(),b=this.domObject,d={width:"",height:""};c.css(d).removeClass("ui-widget-content");if(b.scrollcontainer&&b.scrollcontainer.parent().length>0){b.scrollcontainer.css(d);b.scrollcontainer.wijsuperpanel("destroy");b.scrollcontainer.removeClass("wijmo-wijsuperpanel").append(c)}c.prevAll().remove();b.menucontainer.removeClass("wijmo-wijmenu-ipod wijmo-wijmenu-container");a(".wijmo-wijmenu-current",b.menucontainer).removeClass("wijmo-wijmenu-current");a(".wijmo-wijmenu-breadcrumb",b.menucontainer).remove();c.undelegate("li>.wijmo-wijmenu-link","click");a("ul",c).css({left:"",width:""});c.css("left","");b.scrollcontainer=b.menucontainer.children(":first")},_displayMenu:function(e){var b=this,d=b.options,f,h,g,c=b.domObject.menucontainer,j=a(e.target),i=!a.wijmo.wijmenu._hasVisibleSubMenus(b);if(c.is(":visible")||i)return;if(!b._trigger("showing",e,b))return;c.show();b._setPosition(j);b.nowIndex++;b._setZindex(c,b.nowIndex);c.hide();f={context:c,show:true};h=d.direction==="rtl"?"right":"left";g=a.extend({},{option:{direction:h}},d.animation,d.showAnimation);a.wijmo.wijmenu._animateFlyoutMenu(g,f,function(){b._trigger("shown",e,b)});b._isClickToOpen=d.triggerEvent==="click";this.element.data("shown",true)},_hideMenu:function(d){var b=this,g=b.options,c=this.domObject.menucontainer,h=a.wijmo.wijmenu.animations,e,f;if(!this.element.data("shown"))return;if(!b._trigger("hidding",d,b))return;this.element.data("shown",false);if(a.fn.wijhide){e={context:c,show:false};f=a.extend({},g.animation,g.hideAnimation);c.wijhide(f,h,e,null,function(){b._setZindex(c);c.attr("aria-hidden",true);b._trigger("hidden",d,b)})}else{c.hide().attr("aria-hidden",true);b._setZindex(c);b._trigger("hidden",d,b)}},_setZindex:function(c,d){var e=this.domObject,b;if(!e)return;b=e.menucontainer;if(c.get(0)===b.get(0)){if(d)b.css("z-index",d);else b.css("z-index","");return}if(d){c.parent().css("z-index",999);c.css("z-index",d);a.browser.msie&&a.browser.version<8&&b.css("z-index")===0&&b.css("z-index",9950)}else{c.css("z-index","");c.parent().css("z-index","");a.browser.msie&&a.browser.version<8&&a("ul:visible",this._getSublist()).length===0&&b.css("z-index")===9950&&b.css("z-index","")}},_setPosition:function(c){var d=this._getPosition(),e={of:c},b=this.domObject.menucontainer;b.css({left:"0",top:"0",position:"absolute"});b.position(a.extend(e,d))},_getPosition:function(){var c=this.options,d=c.direction,b=d==="rtl"?{my:"right top",at:"right bottom"}:{my:"left top",at:"left bottom"};b=a.extend(b,c.position);return b},_getFirstSelectableSubItem:function(){return a.wijmo.wijmenu._getFirstSelectableSubItem(this)},_getLastSelectableSubItem:function(){return a.wijmo.wijmenu._getLastSelectableSubItem(this)},add:function(b,c){a.wijmo.wijmenu._add(this,b,c)},_getSublist:function(){return this._rootMenu},getItems:function(){return this._items},remove:function(b){a.wijmo.wijmenu._remove(this,b)},_newId:function(){for(var c=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],a="",b=0;b<16;b++)a+=c[Math.round(Math.random()*25)];return a}});a.widget("wijmo.wijmenuitem",{options:{header:false,separator:false,value:"",text:"",navigateUrl:"",target:"",iconClass:"",imagePosition:"",displayVisible:true,selected:false,items:null},_initState:function(){this._items=[];this._resetMarkupValue();if(!this.options.items)this.options.items=[]},_create:function(){var b=this;b.element.data("wijmomenuitem",b.widgetName);b._initState();b._getOrSetOptionsValues();b._createChildMenuItems();b._initCssClass();a.Widget.prototype._create.apply(b,arguments)},_refresh:function(){var a=this,b=a.options;a._set_navigateUrl(b.navigateUrl);a._set_target(b.target);a._set_displayVisible(b.displayVisible);a._createChildMenuItems();a._initCssClass()},_setOption:function(c,e){var b=this,f=b.options,d;if(c==="items"){a.Widget.prototype._setOption.apply(b,arguments);b._set_items(e);return}if(e===f[c])return;a.Widget.prototype._setOption.apply(b,arguments);if(!a.isFunction(b["_set_"+c]))return;b["_set_"+c](e,true);switch(c){case"header":case"separator":b._refresh();break;case"displayVisible":d=b.getParent();d&&d._setSubmenuIcon()}},index:function(){return this.element.index()},_set_selected:function(c){var a=this,b=a._getMenuItemType();if(b===a._markupType.link)a._getLink().toggleClass("ui-state-active",c);else a.options.selected=false},_set_items:function(b){var a=this;a._getSublist().remove();a._items=[];if(b.length>0){a._createChildMenuItems();a._initUlCssClass()}a._setSubmenuIcon(b.length>0);a._bindModeEvents(a,true);a._resetMarkupValue()},_bindModeEvents:function(b,c){var a=this,d=b._getMenu(),e=d.options;if(c){a._initUlCssClass();a._setSubmenuIcon();a._resetMarkupValue()}if(e.mode==="flyout")if(c){a._killFlyout();a._flyout()}else b._flyout();else{a._setDrilldownUlStyle();b.element.parent().is(":visible")&&d._resetScroll(b._getParentOrMenu())}},_set_value:function(a){this.options.value=a},_set_text:function(b,c){var a=this,d=a.options;if(b||c)a._setText(b);else d.text=a._getText()},_set_navigateUrl:function(b,d){var c=this,e=c.options,a=c._getLink();if(a.is("a"))if(b||d)a.attr("href",b);else e.navigateUrl=a.attr("href")},_set_target:function(e,d){var b=this,c=b.options,a=b._getLink();if(a.is("a"))if(c.target||d)a.attr("target",e);else c.target=a.attr("target")||""},_set_iconClass:function(g,i){var e=this,f=e.options,d,b,c,h;if(f.header===true||f.separator===true)return;d=e._getLink();b=d.find("span.wijmenuitem-icon");if(g){if(b.length===0){b=a("<span>");c=d.children(".wijmo-wijmenu-text").wrap("<span>").parent();c.addClass("wijmo-wijmenu-text");c.prepend(b)}b.attr("class",g+" wijmo-wijmenu-icon-left wijmenuitem-icon");i&&e._set_imagePosition(f.imagePosition)}else if(b.length!==0){b.remove();c=d.children(".wijmo-wijmenu-text");h=c.text();c.html("");c.text(h)}e._getMenuItemType()===e._markupType.other&&d.addClass("wijmo-wijmenu-link ui-corner-all")},_set_imagePosition:function(c){var e=this,d=e._getLink(),a=d.find(">span>span.wijmenuitem-icon"),b=c==="right"?"right":"left";if(a.length===0)return;a.removeClass("wijmo-wijmenu-icon-right").removeClass("wijmo-wijmenu-icon-left").addClass("wijmo-wijmenu-icon-"+b)},_set_separator:function(d,i){var a=this,e=a.element,c=a.options,j=a._getLink(),f="wijmo-wijmenu",g=f+"-separator ui-state-default ui-corner-all",h="ui-widget "+b+" ui-state-default ui-corner-all";if(i&&d===false){e.html("").removeClass(g).removeClass(h);a._createMenuItemMarkup(a._markupType.link).appendTo(e)}else if(d===true||j.length===0){c.separator=true;c.header=false;a._createMenuItemMarkup(a._markupType.separator)}else c.separator=false;a._resetMarkupValue()},_set_header:function(f,i){var a=this,e=a.element,d=a.options,c=a._getLink(),h="ui-widget-header ui-corner-all",g="ui-widget "+b+" ui-state-default ui-corner-all";if(i&&f===false){d.header=false;e.html("").removeClass(h).removeClass(g);a._createMenuItemMarkup(a._markupType.link).appendTo(e)}else if(f===true||c.is("h1,h2,h3,h4,h5")){d.header=true;d.separator=false;if(!c.is("h1,h2,h3,h4,h5")){c.remove();c=a._createMenuItemMarkup(a._markupType.header);e.append(c)}}else d.header=false;a._resetMarkupValue()},_set_displayVisible:function(b){var c=this,a=c.element;if(b)a.show();else a.hide()},_markupType:{link:0,separator:1,header:2,other:3},_createMenuItemMarkup:function(d){var b=this,e=b.options,f=b.element,c;if(d===b._markupType.separator){f.html('<span class="wijmo-wijmenu-separator-content">&nbsp;</span>');return null}else if(d===b._markupType.header)c=a("<h3></h3>").text(e.text);else c=a("<a>").text(e.text);return c},_getMenuItemType:function(e){var b=this,c=b.options,d=b._getLink();if(e)c=a.extend({},c,e);return c.separator===true?b._markupType.separator:c.header===true?b._markupType.header:d.length===0?c.text?b._markupType.link:b._markupType.separator:d.is("a")?b._markupType.link:d.is("h1,h2,h3,h4,h5")?b._markupType.header:b._markupType.other},_getOrSetOptionsValues:function(){var a=this,e=a.element,b=a.options,c=a._getLink(),d=a._getMenuItemType();if(d===a._markupType.header){a._set_header(b.header);a._set_text(b.text)}else if(d===a._markupType.separator)a._set_separator(b.separator);else{if(c.length===0){c=a._createMenuItemMarkup(d);e.append(c)}else a._set_text(b.text);a._resetMarkupValue();a._set_navigateUrl(b.navigateUrl);a._set_target(b.target)}a._set_displayVisible(b.displayVisible);a._set_selected(b.selected)},_getText:function(){return this._getLink().text()},_setText:function(b){var c=this.element,a;a=c.find(":not(ul)a .wijmo-wijmenu-text:first");if(a.length!==0){a.text(b);return}a=c.children("h1,h2,h3,h4,h5").filter(":first");if(a.length!==0){a.text(b);return}a=c.children("a:first");if(a.length!==0){a.text(b);return}},_createChildMenuItems:function(){var b=this,j=b.element,i=b._items,g=b.options,d,c,e,f,h;if(g.header===true||g.separator===true)return;d=g.items.length;c=b._getSublist();e=c.children("li").length;if(d>e){if(c.length===0){c=a("<ul>").appendTo(j);b._resetMarkupValue()}for(f=0;f<d-e;f++)c.append("<li>")}a.each(b._getChildren(),function(d,e){var f=a(e),c;c=a.wijmo.wijmenu._getMenuItemOptions(b.options,d);h=b._createItemWidget(f,c);i.push(h);b.options.items[d]=h.options})},_createItemWidget:function(b,d){var a=this,c=a.widgetName;b[c](d);return b.data(a.widgetName)},_initCssClass:function(){var a=this,c=this.element,h=a.options,g=a._getLink(),e="wijmo-wijmenu",i=e+"-separator ui-state-default ui-corner-all",k="ui-widget-header ui-corner-all",f="ui-widget "+b+" ui-state-default ui-corner-all",j=e+"-link ui-corner-all",d=a._getMenuItemType();d!==a._markupType.separator&&c.attr("role","menuitem");if(d===a._markupType.separator)c.addClass(i);else if(d===a._markupType.header)c.addClass(k);else{if(d===a._markupType.link){if(!c.hasClass(b)){c.addClass(f);g.addClass(j);g.wrapInner("<span>").children("span").addClass(e+"-text")}}else c.addClass(f);a._setSubmenuIcon()}a._set_iconClass(h.iconClass);a._set_imagePosition(h.imagePosition);a._initUlCssClass()},_initUlCssClass:function(){var a="wijmo-wijmenu";this._getSublist().addClass(a+"-list ui-widget-content ui-corner-all ui-helper-clearfix "+a+"-child ui-helper-reset").hide()},_setSubmenuIcon:function(e){var d=this,c=d._getLink(),g=d._getMenu(),f=g.options.direction,b=f==="rtl"?c.children("span.ui-icon:first"):c.children("span.ui-icon:last");if(e===undefined)e=a.wijmo.wijmenu._hasVisibleSubMenus(d);if(e&&!c.is(":input")){if(b.length===0)if(f==="rtl")b=a("<span>").prependTo(c);else b=a("<span>").appendTo(c);if(d._isRoot()&&g.options.orientation==="horizontal"&&g.options.mode==="flyout")b.attr("class","ui-icon ui-icon-triangle-1-s");else if(f==="rtl")b.attr("class","ui-icon ui-icon-triangle-1-w");else b.attr("class","ui-icon ui-icon-triangle-1-e")}else b.remove()},_killFlyout:function(){var b=this.element.attr("role","");b.removeClass("wijmo-wijmenu-parent").unbind(".wijmenuEvent").unbind(".wijmenuitem").children(":first").unbind(".wijmenuEvent").unbind(".wijmenuitem").attr("aria-haspopup","");this._getSublist().unbind(".wijmenuEvent").unbind(".wijmenuitem");a.each(this.getItems(),function(){this._killFlyout()})},_getItemTriggerEvent:function(){var d=this,e=d.element,f=d._getMenu(),b=f.options,c="default";if(b.trigger!=="")if(e.is(b.trigger)||f.element.is(b.trigger))c=b.triggerEvent;else{e.parents(".wijmo-wijmenu-parent").each(function(e,d){if(a(d).is(b.trigger)){c=b.triggerEvent;return false}});if(c==="default"&&d._isOuterTirggerEle())c=b.triggerEvent}e.data("triggerEvent",c);return c},_isOuterTirggerEle:function(){var b=this._getMenu();return a.wijmo.wijmenu._getOuterElement(b.options.trigger,".wijmo-wijmenu").length>0},_flyout:function(){var b=this,e=b._getMenu(),n="wijmo-wijmenu-link",k="wijmo-wijmenu-parent",c=e.options,f=".wijmenuitem",j=a(b.element).attr("aria-haspopup",true),l,i,m=b._getItemTriggerEvent(),d=j.children("a."+n),g=b._getSublist(),h;if(b.getItems().length>0){g.bind("mouseleave"+f,function(a){if(c.disabled)return;i=setTimeout(function(){b._hideCurrentSubmenu(a)},c.hideDelay)});j.removeClass(k).addClass(k);if(m!=="default"&&c.triggerEvent!=="mouseenter"){switch(c.triggerEvent){case"click":d.bind("click"+f,function(d){if(c.disabled||a(this).hasClass("ui-state-disabled"))return;b._showFlyoutSubmenu(d)});break;case"dblclick":d.bind("dblclick"+f,function(d){if(c.disabled||a(this).hasClass("ui-state-disabled"))return;b._showFlyoutSubmenu(d)});break;case"rtclick":d.bind("contextmenu"+f,function(d){if(c.disabled||a(this).hasClass("ui-state-disabled"))return;b._showFlyoutSubmenu(d);d.preventDefault()})}g.data("notClose",true)}else{d.bind("mouseenter.wijmenuEvent",function(d){if(c.disabled||a(this).hasClass("ui-state-disabled"))return;clearTimeout(i);l=setTimeout(function(){b._displaySubmenu(d)},c.showDelay)}).bind("mouseleave"+f,function(d){if(c.disabled||a(this).hasClass("ui-state-disabled"))return;clearTimeout(l);if(!g.is("ul"))g=g.children("ul:first");i=setTimeout(function(){b._hideSubmenu(false,d)},c.hideDelay)});b.getItems().length>0&&b._getSublist().bind("mouseenter"+f,function(){if(c.disabled)return;clearTimeout(i)})}}d.bind("click.wijmenuEvent",function(a){h=d.hasClass("ui-state-disabled");if(c.disabled||h)return;if(d.is("a")){if(b._getSublist().length===0)e._hideAllMenus(a);else if(!(c.trigger!==""&&j.data("triggerEvent")!=="default"&&c.triggerEvent!=="mouseenter"))e._hideAllMenus(a);else{var g=e._currentMenuList,i,f;if(g!==undefined){i=j;if(b._getSublist().length===0)for(f=g.length;f>0;f--)if(g[f-1]===b)break;else g[f-1]._hideSubmenu(false,a)}}e.activate(a,b)}e.select(a);d.attr("href")==="#"&&a.preventDefault()}).bind("focusin.wijmenuEvent",function(a){h=d.hasClass("ui-state-disabled");if(c.disabled||h)return;d.is("a")&&e.activate(a,b)});a.each(b.getItems(),function(){this._flyout()})},_hideSubmenu:function(k,g){var c=this,b=c._getMenu(),j=b.options,l=a.wijmo.wijmenu.animations,h,i,e,d=c._getSublist(),f=c._getLink();if(!f.data("subMenuOpened"))return;if(!b._trigger("hidding",g,c))return;if(f.is(".wijmo-wijmenu-link")){f.data("subMenuOpened",false);f.removeClass("ui-state-active")}if(a.fn.wijhide&&k!==true){h={context:d,show:false};i=a.extend({},j.animation,j.hideAnimation);d.wijhide(i,l,h,null,function(){b._setZindex(d);d.attr("aria-hidden",true);b._trigger("hidden",g,c)})}else{d.hide().attr("aria-hidden",true);b._setZindex(d);b._trigger("hidden",g,c)}e=b._currentMenuList;if(e){e=a.map(e,function(a){return a&&a===c?null:a});b._currentMenuList=a.makeArray(e)}},_displaySubmenu:function(g,k){var c=this,b=c._getMenu(),e=b.options,i,f,j,h,l=c._getLink(),d=c._getSublist();h=!a.wijmo.wijmenu._hasVisibleSubMenus(c);if(d.is(":visible")||h)return;if(!b._trigger("showing",g,c))return;l.is("a.wijmo-wijmenu-link")&&l.data("subMenuOpened",true);d.show();this._setMenuItemPosition();b.nowIndex++;b._setZindex(d,b.nowIndex);d.hide();i={context:d,show:true};f=e.direction==="rtl"?"right":"left";if(e.orientation==="horizontal")if(c._isRoot())f="up";j=a.extend({},{option:{direction:f}},e.animation,e.showAnimation);a.wijmo.wijmenu._animateFlyoutMenu(j,i,function(){d.is(":hidden")&&c._hideSubmenu(true,g);b._trigger("shown",g,c);k&&k()});b._isClickToOpen=e.triggerEvent==="click";if(b._currentMenuList===undefined)b._currentMenuList=[];b._currentMenuList.push(c)},_setMenuItemPosition:function(){var c=this,b=c._getSublist(),d=c._getMenuItemPosition(),e={of:this._getLink()};b.css({left:"0",top:"0",position:"absolute"});b.position(a.extend(e,d))},_getMenuItemPosition:function(){var f=this,e=this._getMenu(),c=e.options,d=c.direction,b=d==="rtl"?{my:"right top",at:"left top"}:{my:"left top",at:"right top"};if(c.orientation==="horizontal")if(f._isRoot())b=d==="rtl"?{my:"right top",at:"right bottom"}:{my:"left top",at:"left bottom"};b=a.extend(b,c.position);return b},_getChildren:function(){return this._getSublist().children("li")},_setDrilldownUlStyle:function(){var d=this,c=d._getSublist(),e=d._getMenu(),b=e.domObject.menucontainer.width();if(e.options.direction==="rtl")c.css({width:b,left:-b});else c.css({width:b,left:b});c.addClass("ui-widget-content");a.each(d.getItems(),function(b,a){a.getItems().length&&this._setDrilldownUlStyle()})},_getMenu:function(){var c=this,b=c._menu,a,d;if(!b){a=c.element.parent();while(!a.is("body")&&a.length>0){d=a.data("wijmomenu");if(d){b=a.data(d);c._menu=b;return b}a=a.parent()}throw"An menuitem must be a child of menu";}return b},getParent:function(){var c=this,f=c.element,e,b,d;b=c._parent;if(b!==undefined)return b;d=f.parents("li:first");if(d.length>0){b=a.wijmo.wijmenu._getItemWidget(d);if(b!==undefined){c._parent=b;return b}}e=c._getMenu();if(e._getSublist().get(0)===f.parent().get(0)){c._parent=null;return null}throw"An menuitem must be a child of menu or another menuitem";},_getParentOrMenu:function(){return this.getParent()||this._getMenu()},_getField:function(a){return this.element.data(a)},_setField:function(b,a){return this.element.data(b,a)},_innerDestroy:function(g){var c=this,a=c.element,d,f=c.getItems(),e=f.length-1;a.removeClass("ui-widget "+b+" ui-state-default ui-corner-all wijmo-wijmenu-parent ui-widget-header wijmo-wijmenu-separator");d=a.children(".wijmo-wijmenu-link");d.removeClass("wijmo-wijmenu-link ui-corner-all ui-state-focus ui-state-hover ui-state-active").html(d.children(".wijmo-wijmenu-text").html()).unbind(".wijmenuitem").unbind(".wijmenuEvent");a.children("ul").removeClass("wijmo-wijmenu-list ui-widget-content ui-corner-all ui-helper-clearfix wijmo-wijmenu-child ui-helper-reset").attr("role","").attr("aria-activedescendant","").show().css({left:"",top:"",position:""}).attr("hidden","");a.removeAttr("role");d.removeAttr("aria-haspopup");!g&&c._removeFromParentCollection();a.removeData("menu").removeData("parent");for(;e>=0;e--)f[e].destroy(true);c._items.length=0;c._resetMarkupValue()},destroy:function(c){var b=this;b._innerDestroy(c);a.Widget.prototype.destroy.apply(b)},_getFirstSelectableSubItem:function(){return a.wijmo.wijmenu._getFirstSelectableSubItem(this)},_getLastSelectableSubItem:function(){return a.wijmo.wijmenu._getLastSelectableSubItem(this)},next:function(){var f=this,c=f._getParentOrMenu().getItems(),b,d,e=a.inArray(f,c);if(e===-1)throw"cannot find item from the parent collection";for(b=e+1;b<c.length;b++){d=c[b].options;if(d.displayVisible!==false&&!d.header&&!d.separator)return c[b].element}return null},previous:function(){var f=this,d=f._getParentOrMenu().getItems(),b,c,e=a.inArray(f,d);if(e===-1)throw"cannot find item from the parent collection";for(b=e-1;b>=0;b--){c=d[b].options;if(c.displayVisible!==false&&!c.header&&!c.separator)return d[b].element}return null},_removeFromParentCollection:function(){var d=this,b,e=false,c;b=d.getParent();if(b===null){b=d._getMenu();e=true}c=a.inArray(d,b.getItems());if(c===-1)return;a.wijmo.wijmenu._changeCollection(c,b.getItems(),b.options.items);if(b.getItems().length===0){if(!e){b._setSubmenuIcon(false);b._resetMarkupValue()}b.element.children("ul").remove()}},_resetMarkupValue:function(){this._sublist=null;this._link=null},_hideCurrentSubmenu:function(d){var b=this,c=b._getSublist();if(c.length===0)return;!c.data("notClose")&&b._hideSubmenu(false,d);a.each(b.getItems(),function(){this._hideCurrentSubmenu(d)})},_showFlyoutSubmenu:function(d,e){var c=this,f=this._getMenu(),b=f._currentMenuList,a;if(b!==undefined)for(a=b.length;a>0;a--)if(b[a-1]===c.getParent())break;else b[a-1]._hideSubmenu(false,d);c._displaySubmenu(d,e)},getItems:function(){return this._items},_getSublist:function(){var a=this;if(!a._sublist)a._sublist=this.element.children("ul:first");return a._sublist},_getLink:function(){var a=this;if(!a._link)a._link=this.element.children(":first");return a._link},_isRoot:function(){return this.getParent()===null},add:function(b,c){a.wijmo.wijmenu._add(this,b,c)},remove:function(b){a.wijmo.wijmenu._remove(this,b)}});a.extend(a.wijmo.wijmenu,{animations:{slide:function(b,c){b=a.extend({duration:400,easing:"swing"},b,c);if(b.show)b.context.stop(true,true).animate({height:"show"},b).attr("aria-hidden",false);else b.context.stop(true,true).animate({height:"hide"},b).attr("aria-hidden",true)}},_animateFlyoutMenu:function(e,c,d){var b=c.context;if(a.fn.wijshow){b.data("isAnimated",true);b.wijshow(e,a.wijmo.wijmenuanimations,c,null,function(){b.data("isAnimated",false);var c=a.browser;if(c.msie&&c.version==="9.0"){b.wrap("<div></div>");b.unwrap()}else c.msie&&c.version==="6.0"&&b.css("overflow","");b.attr("aria-hidden",false);d&&d()})}else b.show().attr("aria-hidden",false)},_getMenuItemOptions:function(b,c){return!b?{}:!b.items||!a.isArray(b.items)?{}:c>=b.items.length?{}:b.items[c]},_getOuterElement:function(c,b){return a(c).filter(function(){return a(this).closest(b).length===0})},_hasVisibleSubMenus:function(a){var b,c,d;if(a.jquery){if(a.data("wijmomenu"))b=a.data(a.data("wijmomenu"));else if(a.data("wijmomenuitem"))b=a.data(a.data("wijmomenuitem"))}else b=a;if(!b)throw"the arugment 'menuItem' must be an wijmenu or wijmenuitem";c=b.getItems();if(!c.length)return false;for(d=0;d<c.length;d++)if(c[d].options.displayVisible)return true;return false},_getFirstSelectableSubItem:function(d){for(var c=d.getItems(),b,a=0;a<c.length;a++){b=c[a].options;if(b.displayVisible!==false&&!b.header&&!b.separator)return c[a]}return null},_getLastSelectableSubItem:function(d){for(var c=d.getItems(),b,a=c.length-1;a>=0;a--){b=c[a].options;if(b.displayVisible!==false&&!b.header&&!b.separator)return c[a]}return null},_getSelectableSubItems:function(c,b){return a.grep(c.getItems(),function(c,d){var a=c.options;return a.header||a.separator||a.displayVisible===false?false:b(c,d)})},_add:function(b,e,c){var d=null,i=a("<li></li>"),g=b._getSublist(),f=b.getItems(),j,k,h=false;if(typeof e==="string")/<(h[1-5]|a)[\s\S]*>[\s\S]*<\/\1>/.test(e)&&i.append(e);else if(a.isPlainObject(e))k=jQuery.extend(true,{},e);if(!g||g.length<=0){g=a("<ul></ul>");b.element.append(g);h=true}if(!c||isNaN(c)||c>f.length)if(c!==0)c=f.length;if(f.length>0&&f.length!==c){j=f[c].element;i.insertBefore(j)}else g.append(i);d=b._createItemWidget(i,k);if(d===null||d===undefined)return;a.wijmo.wijmenu._changeCollection(c,b.getItems(),b.options.items,d);if(b._bindModeEvents)b._bindModeEvents(d,h);else d._bindModeEvents(d,h);h&&b._initUlCssClass()},_changeCollection:function(a,c,d,b){if(!b){c.splice(a,1);d.splice(a,1);return}c.splice(a,0,b);d.splice(a,0,b.options)},_remove:function(c,b){var a=c.getItems()[b];a&&a.element&&a.element.remove()},_getItemWidget:function(a){return a.data(a.data("wijmomenuitem"))}})})(jQuery);;
/*
 *
 * Wijmo Library 2.3.7
 * http://wijmo.com/
 *
 * Copyright(c) GrapeCity, Inc.  All rights reserved.
 * 
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * licensing@wijmo.com
 * http://wijmo.com/widgets/license/
 *
 **/
(function(a){"use strict";var b=0;a.widget("wijmo.wijcheckbox",{_csspre:"wijmo-checkbox",options:{checked:null,changed:null},_init:function(){var c=this,d=c.element,g=c.options,f,i,h,e,j;if(d.is(":checkbox")){if(!d.attr("id")){d.attr("id",c._csspre+b);b+=1}if(d.parent().is("label")){f=d.parent().wrap("<div class='"+c._csspre+"-inputwrapper'></div>").parent().wrap("<div></div>").parent().addClass(c._csspre+" ui-widget");i=d.parent();i.attr("for",d.attr("id"));f.find("."+c._csspre+"-inputwrapper").append(d);f.append(i)}else f=d.wrap("<div class='"+c._csspre+"-inputwrapper'></div>").parent().wrap("<div></div>").parent().addClass(c._csspre+" ui-widget");h=a("label[for='"+d.attr("id")+"']");if(h.length>0){f.append(h);h.attr("labelsign","C1")}d.is(":disabled")&&c._setOption("disabled",true);e=a("<div class='"+c._csspre+"-box ui-widget ui-state-"+(g.disabled?"disabled":"default")+" ui-corner-all'><span class='"+c._csspre+"-icon'></span></div>");j=e.children("."+c._csspre+"-icon");f.append(e);d.data("iconElement",j);d.data("boxElement",e);d.data("checkboxElement",f);e.removeClass(c._csspre+"-relative").attr("role","checkbox").bind("mouseover",function(){d.mouseover()}).bind("mouseout",function(){d.mouseout()});(h.length===0||h.html()==="")&&e.addClass(c._csspre+"-relative");d.bind("click.checkbox",function(a){if(g.disabled)return;c.refresh(a);c._trigger("changed",null,{checked:c.options.checked})}).bind("focus.checkbox",function(){if(g.disabled)return;e.removeClass("ui-state-default").addClass("ui-state-focus")}).bind("blur.checkbox",function(){if(g.disabled)return;e.removeClass("ui-state-focus").not(".ui-state-hover").addClass("ui-state-default")}).bind("keydown.checkbox",function(a){if(a.keyCode===32){if(g.disabled)return;c.refresh()}});e.bind("click.checkbox",function(a){if(g.disabled)return;d.get(0).checked=!d.get(0).checked;d.change();d.focus();c.refresh(a);c._trigger("changed",null,{checked:c.options.checked})});c._initCheckState();c.refresh();f.bind("mouseover.checkbox",function(){if(g.disabled)return;e.removeClass("ui-state-default").addClass("ui-state-hover")}).bind("mouseout.checkbox",function(){if(g.disabled)return;e.removeClass("ui-state-hover").not(".ui-state-focus").addClass("ui-state-default")});f.attr("title",d.attr("title"))}},_create:function(){if(window.wijmoApplyWijTouchUtilEvents)a=window.wijmoApplyWijTouchUtilEvents(a)},_setOption:function(e,c){var b=this,d=b.options.checked;a.Widget.prototype._setOption.apply(this,arguments);if(e==="checked"){b.element.get(0).checked=c;b.refresh();d!==c&&b._trigger("changed",null,{checked:c})}},_initCheckState:function(){var b=this,a=b.options;if(a.checked!==undefined&&a.checked!==null)b.element.get(0).checked=a.checked},refresh:function(b){var a=this,c=a.options;c.checked=a.element.get(0).checked;a.element.data("iconElement").toggleClass("ui-icon ui-icon-check",a.element.get(0).checked);a.element.data("boxElement").toggleClass("ui-state-active",a.element.get(0).checked).attr("aria-checked",a.element.get(0).checked);a.element.data("checkboxElement").toggleClass("ui-state-checked",a.element.get(0).checked);b&&b.stopPropagation()},destroy:function(){var b=this,c=b.element.parent().parent();c.children("div."+b._csspre+"-box").remove();b.element.unwrap();b.element.unwrap();a.Widget.prototype.destroy.apply(b)}})})(jQuery);;
/*
 *
 * Wijmo Library 2.3.7
 * http://wijmo.com/
 *
 * Copyright(c) GrapeCity, Inc.  All rights reserved.
 * 
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * licensing@wijmo.com
 * http://wijmo.com/widgets/license/
 *
 **/
(function(a){"use strict";var b=0;a.widget("wijmo.wijradio",{_radiobuttonPre:"wijmo-wijradio",options:{checked:null,changed:null},_create:function(){var c=this,d=c.element,h,e,j,g,f,i;if(window.wijmoApplyWijTouchUtilEvents)a=window.wijmoApplyWijTouchUtilEvents(a);if(d.is(":radio")){if(!d.attr("id")){d.attr("id","wijmo-radio-"+b);b+=1}if(d.parent().is("label")){e=d.parent().wrap("<div class='"+c._radiobuttonPre+"-inputwrapper'></div>").parent().wrap("<div></div>").parent().addClass(c._radiobuttonPre+" ui-widget");j=d.parent();j.attr("for",d.attr("id"));e.find("."+c._radiobuttonPre+"-inputwrapper").append(d);e.append(j)}else e=d.wrap("<div class='"+c._radiobuttonPre+"-inputwrapper'></div>").parent().wrap("<div></div>").parent().addClass(c._radiobuttonPre+" ui-widget");g=a("label[for='"+d.attr("id")+"']");if(g.length>0){e.append(g);g.attr("labelsign","wij")}d.is(":disabled")&&c._setOption("disabled",true);f=a("<div class='"+c._radiobuttonPre+"-box ui-widget "+(c.options.disabled?"ui-state-disabled":"ui-state-default")+" ui-corner-all'><span class='"+c._radiobuttonPre+"-icon'></span></div>");i=f.children("."+c._radiobuttonPre+"-icon");e.append(f);i.addClass("ui-icon ui-icon-radio-on");d.data("iconElement",i);d.data("boxElement",f);d.data("radiobuttonElement",e);f.removeClass(c._radiobuttonPre+"-relative").attr("role","radio").bind("mouseover",function(){d.mouseover()}).bind("mouseout",function(){d.mouseout()});(g.length===0||g.html()==="")&&f.addClass(c._radiobuttonPre+"-relative");c._setDefaul();d.bind("click.radio",function(){if(c.options.disabled)return;h=c.options.checked;c._refresh();h!==c.element.is(":checked")&&c._trigger("changed",null,{checked:c.options.checked})}).bind("focus.radio",function(){if(c.options.disabled)return;f.removeClass("ui-state-default").addClass("ui-state-focus")}).bind("blur.radio",function(){if(c.options.disabled)return;f.removeClass("ui-state-focus").not(".ui-state-hover").addClass("ui-state-default")});e.click(function(){if(c.options.disabled)return;if(g.length===0||g.html()===""){h=c.options.checked;d.attr("checked",true);c._refresh();d.change();h!==c.element.is(":checked")&&c._trigger("changed",null,{checked:c.options.checked})}});e.bind("mouseover.radio",function(){if(c.options.disabled)return;f.removeClass("ui-state-default").addClass("ui-state-hover")}).bind("mouseout.radio",function(){if(c.options.disabled)return;f.removeClass("ui-state-hover").not(".ui-state-focus").addClass("ui-state-default")});e.attr("title",d.attr("title"))}},_setOption:function(e,c){var b=this,d=b.options.checked;a.Widget.prototype._setOption.apply(this,arguments);if(e==="checked"){b.element.attr("checked",c);b._refresh();d!==c&&b._trigger("changed",null,{checked:c})}},_setDefaul:function(){var b=this,a=b.options;a.checked!==undefined&&a.checked!==null&&this.element.attr("checked",a.checked);if(this.element.attr("checked")){this.element.parents(".wijmo-wijradio").find("."+this._radiobuttonPre+"-box").children().removeClass("ui-icon-radio-on ui-icon-radio-off").addClass("ui-icon-radio-off");this.element.data("boxElement").removeClass("ui-state-default").addClass("ui-state-active").attr("aria-checked",true);this.element.data("radiobuttonElement").addClass("ui-state-checked")}},_refresh:function(){var d=this.element.attr("name")||"",b=this,c;if(d==="")return;a("[name='"+d+"']").each(function(e,d){a(d).parents(".wijmo-wijradio").find("."+b._radiobuttonPre+"-box").children().removeClass("ui-icon-radio-on ui-icon-radio-off").addClass("ui-icon-radio-on");a(d).parents(".wijmo-wijradio").find("."+b._radiobuttonPre+"-box").removeClass("ui-state-active").addClass("ui-state-default").attr("aria-checked",false);a(d).parents(".wijmo-wijradio").removeClass("ui-state-checked");c=a(d).parents(".wijmo-wijradio").find(":radio");c.wijradio("option","checked")&&c[0]!==b.element[0]&&c.wijradio("setCheckedOption",false)});if(b.element.is(":checked")){b.element.data("iconElement").removeClass("ui-icon-radio-on").addClass("ui-icon-radio-off");b.element.data("boxElement").removeClass("ui-state-default").addClass("ui-state-active").attr("aria-checked",true);b.element.data("radiobuttonElement").addClass("ui-state-checked")}b.options.checked=b.element.is(":checked")},setCheckedOption:function(a){var c=this,b=c.options;if(b.checked!==null&&b.checked!==a){b.checked=a;c._trigger("changed",null,{checked:a})}},refresh:function(){this._refresh()},destroy:function(){var b=this,c=b.element.parent().parent();c.children("div."+b._radiobuttonPre+"-box").remove();b.element.unwrap();b.element.unwrap();a.Widget.prototype.destroy.apply(b)}})})(jQuery);;
/*
 *
 * Wijmo Library 2.3.7
 * http://wijmo.com/
 *
 * Copyright(c) GrapeCity, Inc.  All rights reserved.
 * 
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * licensing@wijmo.com
 * http://wijmo.com/widgets/license/
 *
 **/
(function(a){"use strict";a.widget("wijmo.wijexpander",{options:{allowExpand:true,animated:"slide",contentUrl:"",expanded:true,expandDirection:"bottom"},_setOption:function(c,b){switch(c){case"contentUrl":if(b)this.element.find("> .ui-widget-content").wijContent(b);else this.element.find("> .ui-widget-content").html("");break;case"disabled":if(b){this.element.addClass("ui-state-disabled").find("> .ui-expander-header").addClass("ui-state-disabled");this.element.find("> .ui-widget-content").addClass("ui-state-disabled")}else{this.element.removeClass("ui-state-disabled").find("> .ui-expander-header").removeClass("ui-state-disabled");this.element.find("> .ui-widget-content").removeClass("ui-state-disabled")}break;case"expandDirection":this._onDirectionChange(b,true,this.options.expandDirection);break;case"expanded":if(b)this.expand();else this.collapse();return}a.Widget.prototype._setOption.apply(this,arguments)},_create:function(){var d=this.element.children(),b,c;if(window.wijmoApplyWijTouchUtilEvents)a=window.wijmoApplyWijTouchUtilEvents(a);this.element.addClass("wijmo-wijexpander ui-expander ui-widget ui-helper-reset ui-expander-icons");b=a(d[0]);c=a(d[1]);if(this.options.expandDirection==="left"||this.options.expandDirection==="top"){b.remove();b.insertAfter(c)}b.addClass("ui-expander-header ui-helper-reset");b.attr("role","tab");c.attr("role","tabpanel");b.find("> a").length===0&&b.wrapInner('<a href="javascript:void(null)"></a>');b.find("> .ui-icon").length===0&&a('<span class="ui-icon"></span>').insertBefore(a("> a",b)[0]);c.addClass("ui-expander-content ui-helper-reset ui-widget-content")},_init:function(){var b=this.options;this._onDirectionChange(b.expandDirection,false);b.contentUrl&&a(".ui-widget-content",this.element).wijContent(this.options.contentUrl);if(!b.expanded){this.element.find("> .ui-widget-content").hide();this.element.find("> .ui-expander-header").addClass("ui-state-default ui-corner-all").attr({"aria-expanded":"false",tabIndex:-1}).find("> .ui-icon").addClass(this._triangleIconClosed)}else{this.element.find("> .ui-expander-header").addClass("ui-state-active").attr({"aria-expanded":"true",tabIndex:0}).addClass(this._headerCornerOpened).find("> .ui-icon").addClass(this._triangleIconOpened);this.element.find("> .ui-widget-content").addClass("ui-expander-content-active").addClass(this._contentCornerOpened).wijTriggerVisibility()}if(b.disabled){this.element.addClass("ui-state-disabled").find("> .ui-expander-header").addClass("ui-state-disabled");this.element.find("> .ui-widget-content").addClass("ui-state-disabled")}this._bindLiveEvents()},destroy:function(){this._unbindLiveEvents();this.element.removeClass("wijmo-wijexpander ui-expander ui-widget ui-helper-reset ui-expander-icons");a.Widget.prototype.destroy.apply(this,arguments)},_bindLiveEvents:function(){a(".ui-expander-header",this.element[0]).live("click.wijexpander",jQuery.proxy(this._onHeaderClick,this)).live("mouseenter.wijexpander",function(){a(this).addClass("ui-state-hover")}).live("mouseleave.wijexpander",function(){a(this).removeClass("ui-state-hover")}).live("focus.wijexpander",function(){a(this).addClass("ui-state-focus")}).live("blur.wijexpander",function(){a(this).removeClass("ui-state-focus")})},_unbindLiveEvents:function(){a(".ui-expander-header",this.element[0]).die(".wijexpander")},_onDirectionChange:function(l,g,j){var b,i,h,f,e,k,d,c;j&&j!==l&&this.element.removeClass("ui-expander-"+j);if(g){i=this.element.find(".ui-expander-header."+this._headerCornerOpened);i.removeClass(this._headerCornerOpened);h=this.element.find(".ui-widget-content."+this._contentCornerOpened);h.removeClass(this._contentCornerOpened);f=this.element.find("."+this._triangleIconOpened);e=this.element.find("."+this._triangleIconClosed);f.removeClass(this._triangleIconOpened);e.removeClass(this._triangleIconClosed)}switch(l){case"top":this._headerCornerOpened="ui-corner-bottom";this._contentCornerOpened="ui-corner-top";this._triangleIconOpened="ui-icon-triangle-1-n";this._triangleIconClosed="ui-icon-triangle-1-e";b=true;this.element.removeClass("ui-helper-horizontal");this.element.addClass("ui-expander-top");break;case"right":this._headerCornerOpened="ui-corner-left";this._contentCornerOpened="ui-corner-right";this._triangleIconOpened="ui-icon-triangle-1-e";this._triangleIconClosed="ui-icon-triangle-1-s";b=false;this.element.addClass("ui-helper-horizontal");this.element.addClass("ui-expander-right");break;case"left":this._headerCornerOpened="ui-corner-right";this._contentCornerOpened="ui-corner-left";this._triangleIconOpened="ui-icon-triangle-1-w";this._triangleIconClosed="ui-icon-triangle-1-s";b=true;this.element.addClass("ui-helper-horizontal");this.element.addClass("ui-expander-left");break;default:this._headerCornerOpened="ui-corner-top";this._contentCornerOpened="ui-corner-bottom";this._triangleIconOpened="ui-icon-triangle-1-s";this._triangleIconClosed="ui-icon-triangle-1-e";b=false;this.element.removeClass("ui-helper-horizontal");this.element.addClass("ui-expander-bottom")}k=this.element.data("rightToLeft");this.element.data("rightToLeft",b);if(g){f.addClass(this._triangleIconOpened);e.addClass(this._triangleIconClosed);i.addClass(this._headerCornerOpened);h.addClass(this._contentCornerOpened)}g&&b!==k&&this.element.children(".ui-expander-header").each(function(){c=a(this);if(b){d=c.next(".ui-expander-content");c.remove();c.insertAfter(d)}else{d=c.prev(".ui-expander-content");c.remove();c.insertBefore(d)}})},collapse:function(){var d=this.options,e,c,f,b;if(!d.allowExpand)return;if(this.element.hasClass("ui-state-disabled"))return false;if(!this._trigger("beforeCollapse"))return false;if(d.animated){e={expand:false,content:this.element.find("> .ui-widget-content"),complete:jQuery.proxy(function(){this.element.find("> .ui-widget-content").removeClass("ui-expander-content-active");this._trigger("afterCollapse");this.element.find("> .ui-widget-content").css("display","")},this),horizontal:this.element.hasClass("ui-helper-horizontal")};c=a.wijmo.wijexpander.animations;f=d.duration;b=d.animated;if(b&&!c[b]&&!a.easing[b])b="slide";if(!c[b])c[b]=function(a){this.slide(a,{easing:b,duration:f||700})};c[b](e)}else{this.element.find("> .ui-widget-content").hide();this._trigger("afterCollapse")}this.element.find("> .ui-expander-header").removeClass("ui-state-active").removeClass(this._headerCornerOpened).attr({"aria-expanded":"false",tabIndex:-1}).addClass("ui-state-default ui-corner-all").find("> .ui-icon").removeClass(this._triangleIconOpened).addClass(this._triangleIconClosed);this.options.expanded=false;return true},expand:function(){var d=this.options,e,c,f,b;if(!d.allowExpand)return;if(this.element.hasClass("ui-state-disabled"))return false;if(!this._trigger("beforeExpand"))return false;if(d.animated){e={expand:true,content:this.element.find("> .ui-widget-content"),complete:jQuery.proxy(function(){this.element.find("> .ui-widget-content").addClass("ui-expander-content-active").addClass(this._contentCornerOpened).wijTriggerVisibility();this._trigger("afterExpand");this.element.find("> .ui-widget-content").css("display","")},this),horizontal:this.element.hasClass("ui-helper-horizontal")};c=a.wijmo.wijexpander.animations;f=d.duration;b=d.animated;if(b&&!c[b]&&!a.easing[b])b="slide";if(!c[b])c[b]=function(a){this.slide(a,{easing:b,duration:f||700})};c[b](e)}else{this.element.find("> .ui-widget-content").show();this._trigger("afterExpand")}this.element.find("> .ui-expander-header").removeClass("ui-state-default ui-corner-all").addClass("ui-state-active").addClass(this._headerCornerOpened).attr({"aria-expanded":"true",tabIndex:0}).find("> .ui-icon").removeClass(this._triangleIconClosed).addClass(this._triangleIconOpened);this.options.expanded=true;return true},_onHeaderClick:function(){this.option("expanded",!this.options.expanded)}});a.extend(a.wijmo.wijexpander,{animations:{slide:function(b,c){b=a.extend({easing:"swing",duration:300},b,c);if(b.expand)b.content.stop(true,true).animate(b.horizontal?{width:"show",opacity:"show"}:{height:"show",opacity:"show"},b);else b.content.stop(true,true).animate(b.horizontal?{width:"hide",opacity:"hide"}:{height:"hide",opacity:"hide"},b)}}})})(jQuery);;
/*
 *
 * Wijmo Library 2.3.7
 * http://wijmo.com/
 *
 * Copyright(c) GrapeCity, Inc.  All rights reserved.
 * 
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * licensing@wijmo.com
 * http://wijmo.com/widgets/license/
 *
 **/
(function(a){"use strict";a.widget("wijmo.wijaccordion",{widgetEventPrefix:"wijaccordion",options:{animated:"slide",duration:null,event:"click",disabled:false,expandDirection:"bottom",header:"> li > :first-child,> :not(li):even",requireOpenedPane:true,selectedIndex:0},_setOption:function(d,b){var c=this.options;if(c[d]!==b)switch(d){case"selectedIndex":this.activate(b);break;case"disabled":if(b)this.element.addClass("ui-state-disabled");else this.element.removeClass("ui-state-disabled");break;case"event":this._unbindLiveEvents();this.options.event=b;this._bindLiveEvents();break;case"header":this._handleHeaderChange(b,c.header);break;case"expandDirection":this._onDirectionChange(b,true,c.expandDirection)}a.Widget.prototype._setOption.apply(this,arguments)},_handleHeaderChange:function(b,a){var c=this.element.find(a);c.removeClass("wijmo-wijaccordion-header ui-helper-reset ui-state-active "+this._triangleIconOpened).siblings(".wijmo-wijaccordion-content").removeClass("wijmo-wijaccordion-content ui-helper-reset ui-widget-content wijmo-wijaccordion-content-active");this._initHeaders(b)},_initHeaders:function(a){var c=this.options,a=a?a:c.header,b=this.element.find(a);b.each(jQuery.proxy(this._initHeader,this))},_initHeader:function(e,f){var g=this.options,d=this.element.data("rightToLeft"),b=a(f),c=a(b.next()[0]);if(d){b.remove();b.insertAfter(c)}b.addClass("wijmo-wijaccordion-header ui-helper-reset").attr("role","tab");c.attr("role","tabpanel");b.find("> a").length===0&&b.wrapInner('<a href="#"></a>');b.find("> .ui-icon").length===0&&a('<span class="ui-icon"></span>').insertBefore(a("> a",b)[0]);if(e===g.selectedIndex){b.addClass("ui-state-active").addClass(this._headerCornerOpened).attr({"aria-expanded":"true",tabIndex:0}).find("> .ui-icon").addClass(this._triangleIconOpened);c.addClass("wijmo-wijaccordion-content-active").addClass(this._contentCornerOpened).wijTriggerVisibility()}else{b.addClass("ui-state-default ui-corner-all").attr({"aria-expanded":"false",tabIndex:-1}).find("> .ui-icon").addClass(this._triangleIconClosed);c.hide()}c.addClass("wijmo-wijaccordion-content ui-helper-reset ui-widget-content")},_create:function(){if(window.wijmoApplyWijTouchUtilEvents)a=window.wijmoApplyWijTouchUtilEvents(a);this.element.addClass("wijmo-wijaccordion ui-widget wijmo-wijaccordion-icons ui-helper-reset ui-helper-clearfix");var b=this.options;b.disabled&&this.element.addClass("ui-state-disabled");this._onDirectionChange(b.expandDirection,false);this._initHeaders();this.element.attr("role","tablist");a.Widget.prototype._create.apply(self,arguments)},_init:function(){this._bindLiveEvents()},destroy:function(){this._unbindLiveEvents();this.element.removeClass("wijmo-wijaccordion ui-widget ui-helper-reset wijmo-wijaccordion-icons").removeAttr("role");a.Widget.prototype.destroy.apply(this,arguments)},_getHeaders:function(){var g=this.options,f=this.element.data("rightToLeft"),e=[],c,d,b=this.element.find(g.header);if(b.length>0&&!a(b[0]).hasClass("wijmo-wijaccordion-header")&&a(b[0]).hasClass("wijmo-wijaccordion-content"))for(c=0;c<b.length;c+=1){d=f?a(b[c]).next(".wijmo-wijaccordion-header"):a(b[c]).prev(".wijmo-wijaccordion-header");d.length>0&&e.push(d[0])}else return b;return a(e)},activate:function(f){var b,d=this.options,j=this._getHeaders(),c,p=this.element.data("rightToLeft"),i,l,g,h,m,o,n,k,q,e;c=a(jQuery.grep(j,function(b){return a(b).hasClass("ui-state-active")}));if(typeof f==="number")b=a(j[f]);else if(typeof f==="string"){f=parseInt(f,0);b=a(j[f])}else{b=a(f);f=j.index(f)}if(b.hasClass("ui-state-disabled"))return false;if(b.hasClass("ui-state-active"))if(d.requireOpenedPane){if(c.length===b.length&&c.index()===b.index())return false}else{c=b;b=a(null)}else if(!d.requireOpenedPane)c=a(null);i=j.index(b);l=j.index(c);g=p?b.prev(".wijmo-wijaccordion-content"):b.next(".wijmo-wijaccordion-content");h=p?c.prev(".wijmo-wijaccordion-content"):c.next(".wijmo-wijaccordion-content");if(c.length===0&&b.length===0)return false;if(!this._trigger("beforeSelectedIndexChanged",null,{newIndex:i,prevIndex:l}))return false;c.removeClass("ui-state-active").removeClass(this._headerCornerOpened).addClass("ui-state-default ui-corner-all").attr({"aria-expanded":"false",tabIndex:-1}).find("> .ui-icon").removeClass(this._triangleIconOpened).addClass(this._triangleIconClosed);b.removeClass("ui-state-default ui-corner-all").addClass("ui-state-active").addClass(this._headerCornerOpened).attr({"aria-expanded":"true",tabIndex:0}).find("> .ui-icon").removeClass(this._triangleIconClosed).addClass(this._triangleIconOpened);if(d.animated){m={toShow:g,toHide:h,complete:jQuery.proxy(function(){h.removeClass("wijmo-wijaccordion-content-active");g.addClass("wijmo-wijaccordion-content-active").wijTriggerVisibility();h.css("display","");g.css("display","");if(a.fn.wijlinechart){h.find(".wijmo-wijlinechart").wijlinechart("redraw");g.find(".wijmo-wijlinechart").wijlinechart("redraw")}this._trigger("selectedIndexChanged",null,{newIndex:i,prevIndex:l})},this),horizontal:this.element.hasClass("ui-helper-horizontal"),rightToLeft:this.element.data("rightToLeft"),down:i>l,autoHeight:d.autoHeight||d.fillSpace};o=d.animated;n=d.duration;if(a.isFunction(o))d.animated=o(m);if(a.isFunction(n))d.duration=n(m);k=a.wijmo.wijaccordion.animations;q=d.duration;e=d.animated;if(e&&!k[e]&&!a.easing[e])e="slide";if(!k[e])k[e]=function(a){this.slide(a,{easing:e,duration:q||700})};k[e](m)}else{c.length>0&&h.hide().removeClass("wijmo-wijaccordion-content-active");b.length>0&&g.show().addClass("wijmo-wijaccordion-content-active").addClass(this._contentCornerOpened).wijTriggerVisibility();if(a.fn.wijlinechart){h.find(".wijmo-wijlinechart").wijlinechart("redraw");g.find(".wijmo-wijlinechart").wijlinechart("redraw")}this._trigger("selectedIndexChanged",null,{newIndex:i,prevIndex:l})}this.options.selectedIndex=i},_bindLiveEvents:function(){this.element.find(".wijmo-wijaccordion-header").live(this.options.event+".wijaccordion",jQuery.proxy(this._onHeaderClick,this)).live("keydown.wijaccordion",jQuery.proxy(this._onHeaderKeyDown,this)).live("mouseenter.wijaccordion",function(){a(this).addClass("ui-state-hover")}).live("mouseleave.wijaccordion",function(){a(this).removeClass("ui-state-hover")}).live("focus.wijaccordion",function(){a(this).addClass("ui-state-focus")}).live("blur.wijaccordion",function(){a(this).removeClass("ui-state-focus")})},_unbindLiveEvents:function(){this.element.find(".wijmo-wijaccordion-header").die(".wijaccordion")},_onHeaderClick:function(a){!this.options.disabled&&this.activate(a.currentTarget);return false},_onHeaderKeyDown:function(d){if(this.options.disabled||d.altKey||d.ctrlKey)return;var b=a.ui.keyCode,f=this.element.find(".wijmo-wijaccordion-header.ui-state-focus"),c,e=this._getHeaders();if(f.length>0){c=a(".wijmo-wijaccordion-header",this.element).index(f);switch(d.keyCode){case b.RIGHT:case b.DOWN:if(e[c+1]){e[c+1].focus();return false}break;case b.LEFT:case b.UP:if(e[c-1]){e[c-1].focus();return false}break;case b.SPACE:case b.ENTER:this.activate(d.currentTarget);d.preventDefault()}}return true},_onDirectionChange:function(j,e,i){var b,g,f,d,c,h;if(e){g=this.element.find(".wijmo-wijaccordion-header."+this._headerCornerOpened);g.removeClass(this._headerCornerOpened);f=this.element.find(".wijmo-wijaccordion-content."+this._contentCornerOpened);f.removeClass(this._contentCornerOpened);d=this.element.find("."+this._triangleIconOpened);c=this.element.find("."+this._triangleIconClosed);d.removeClass(this._triangleIconOpened);c.removeClass(this._triangleIconClosed)}i!==null&&this.element.removeClass("wijmo-wijaccordion-"+i);switch(j){case"top":this._headerCornerOpened="ui-corner-bottom";this._contentCornerOpened="ui-corner-top";this._triangleIconOpened="ui-icon-triangle-1-n";this._triangleIconClosed="ui-icon-triangle-1-e";b=true;this.element.removeClass("ui-helper-horizontal");this.element.addClass("wijmo-wijaccordion-top");break;case"right":this._headerCornerOpened="ui-corner-left";this._contentCornerOpened="ui-corner-right";this._triangleIconOpened="ui-icon-triangle-1-e";this._triangleIconClosed="ui-icon-triangle-1-s";b=false;this.element.addClass("ui-helper-horizontal");this.element.addClass("wijmo-wijaccordion-right");break;case"left":this._headerCornerOpened="ui-corner-right";this._contentCornerOpened="ui-corner-left";this._triangleIconOpened="ui-icon-triangle-1-w";this._triangleIconClosed="ui-icon-triangle-1-s";b=true;this.element.addClass("ui-helper-horizontal");this.element.addClass("wijmo-wijaccordion-left");break;default:this._headerCornerOpened="ui-corner-top";this._contentCornerOpened="ui-corner-bottom";this._triangleIconOpened="ui-icon-triangle-1-s";this._triangleIconClosed="ui-icon-triangle-1-e";b=false;this.element.removeClass("ui-helper-horizontal");this.element.addClass("wijmo-wijaccordion-bottom")}h=this.element.data("rightToLeft");this.element.data("rightToLeft",b);if(e){d.addClass(this._triangleIconOpened);c.addClass(this._triangleIconClosed);g.addClass(this._headerCornerOpened);f.addClass(this._contentCornerOpened)}e&&b!==h&&this.element.children(".wijmo-wijaccordion-header").each(function(){var c=a(this),d;if(b){d=c.next(".wijmo-wijaccordion-content");c.remove();c.insertAfter(d)}else{d=c.prev(".wijmo-wijaccordion-content");c.remove();c.insertBefore(d)}})}});a.extend(a.wijmo.wijaccordion,{animations:{slide:function(b,h){b=a.extend({easing:"swing",duration:300},b,h);if(!b.toHide.size()){b.toShow.stop(true,true).animate(b.horizontal?{width:"show"}:{height:"show"},b);return}if(!b.toShow.size()){b.toHide.stop(true,true).animate(b.horizontal?{width:"hide"}:{height:"hide"},b);return}var i=b.toShow.css("overflow"),f=0,e={},g={},j=b.horizontal?["width","paddingLeft","paddingRight"]:["height","paddingTop","paddingBottom"],d,c=b.toShow;if(b.horizontal){d=c[0].style.height;c.height(parseInt(c.parent().height(),10)-parseInt(c.css("paddingTop"),10)-parseInt(c.css("paddingBottom"),10)-(parseInt(c.css("borderTopWidth"),10)||0)-(parseInt(c.css("borderBottomWidth"),10)||0))}else{d=c[0].style.width;c.width(parseInt(c.parent().width(),10)-parseInt(c.css("paddingLeft"),10)-parseInt(c.css("paddingRight"),10)-(parseInt(c.css("borderLeftWidth"),10)||0)-(parseInt(c.css("borderRightWidth"),10)||0))}a.each(j,function(f,d){g[d]="hide";var c=(""+a.css(b.toShow[0],d)).match(/^([\d+-.]+)(.*)$/);e[d]={value:c?c[1]:0,unit:c?c[2]||"px":"px"}});b.toShow.css(b.horizontal?{width:0,overflow:"hidden"}:{height:0,overflow:"hidden"}).stop(true,true).show();b.toHide.filter(":hidden").each(b.complete).end().filter(":visible").stop(true,true).animate(g,{step:function(d,a){var c;if(a.prop===b.horizontal?"width":"height")f=a.end-a.start===0?0:(a.now-a.start)/(a.end-a.start);c=f*e[a.prop].value;if(c<0)c=0;b.toShow[0].style[a.prop]=c+e[a.prop].unit},duration:b.duration,easing:b.easing,complete:function(){!b.autoHeight&&b.toShow.css(b.horizontal?"width":"height","");b.toShow.css(b.horizontal?"height":"width",d);b.toShow.css({overflow:i});b.complete()}})},bounceslide:function(a){this.slide(a,{easing:a.down?"easeOutBounce":"swing",duration:a.down?1e3:200})}}})})(jQuery);;
/*
 *
 * Wijmo Library 2.3.7
 * http://wijmo.com/
 *
 * Copyright(c) GrapeCity, Inc.  All rights reserved.
 * 
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * licensing@wijmo.com
 * http://wijmo.com/widgets/license/
 *
 **/
(function(a){"use strict";var b="ui-state-hover",c="wijmo-wijdialog-defaultdockingzone";a.widget("wijmo.wijdialog",a.ui.dialog,{options:{captionButtons:{},collapsingAnimation:null,expandingAnimation:null,contentUrl:"",minimizeZoneElementId:"",buttonCreating:null,stateChanged:null,blur:null},_create:function(){var b=this,c=b.options;if(window.wijmoApplyWijTouchUtilEvents)a=window.wijmoApplyWijTouchUtilEvents(a);a.isArray(c.buttons)&&a.each(c.buttons,function(c,b){var a=b.click;if(a&&typeof a==="string"&&window[a])b.click=window[a]});b.form=b.element.closest("form[id]");a.ui.dialog.prototype._create.apply(b,arguments);b.uiDialog.addClass("wijmo-wijdialog");b._initWijWindow();b._bindWindowResize();b._attachDraggableResizableEvent();b.originalPosition=c.position;b.isPin=false;b.form.length&&b.uiDialog.appendTo(b.form)},_makeDraggable:function(){a.ui.dialog.prototype._makeDraggable.apply(this,arguments);this.uiDialog.draggable("option","cancel",".wijmo-wijdialog-captionbutton")},_handleDisabledOption:function(c){var b=this;if(c){if(!b.disabledDiv)b.disabledDiv=b._createDisabledDiv();b.disabledDiv.appendTo("body");a.browser.msie&&b.uiDialog.draggable("disable")}else if(b.disabledDiv){b.disabledDiv.remove();b.disabledDiv=null;a.browser.msie&&b.uiDialog.draggable("enable")}},_createDisabledDiv:function(){var f=this,b=f.uiDialog,c=b.offset(),e=b.outerWidth(),d=b.outerHeight();return a("<div></div>").addClass("ui-disabled").css({"z-index":"99999",position:"absolute",width:e,height:d,left:c.left,top:c.top})},destroy:function(){var b=this;if(b.disabledDiv){b.disabledDiv.remove();b.disabledDiv=null}a.ui.dialog.prototype.destroy.apply(b,arguments);b.element.unbind(".wijdialog").removeData("wijdialog")},_attachDraggableResizableEvent:function(){var a=this,b=a.uiDialog,c=a.options;c.draggable&&b.draggable&&b.bind("dragstop",function(){a._saveNormalState();a._destoryIframeMask()}).bind("dragstart",function(){a._createIframeMask()});c.resizable&&b.resizable&&b.bind("resizestop",function(){a._saveNormalState();a._destoryIframeMask()}).bind("resizestart",function(){a._createIframeMask()})},_createIframeMask:function(){var b=this;if(b.innerFrame)b.mask=a("<div style='width:100%;height:100%;position:absolute;top:0px;left:0px;z-index:"+(a.ui.dialog.maxZ+1)+"'></div>").appendTo(b.uiDialog)},_destoryIframeMask:function(){var a=this;if(a.innerFrame&&a.mask){a.mask.remove();a.mask=undefined}},_initWijWindow:function(){var b=this,c=true;b._createCaptionButtons();b._checkUrl();b.uiDialog.bind("mousedown",function(c){var d=c.target;!a.contains(b.element[0],d)&&b.uiDialog.focus()}).bind("mouseenter",function(){c=true}).bind("mouseleave",function(){c=false}).bind("focusout",function(a){!c&&b._trigger("blur",a,{el:b.element})})},_checkUrl:function(){var b=this,e=b.options,d=e.contentUrl,c=a('<iframe style="width:100%;height:99%;" frameborder="0"></iframe>');if(typeof d==="string"&&d.length>0){b.element.addClass("wijmo-wijdialog-hasframe");b.element.append(c);b.innerFrame=c}b.contentWrapper=b.element},_setOption:function(c,d){var b=this;a.ui.dialog.prototype._setOption.apply(b,arguments);if(c==="disabled")b._handleDisabledOption(d,b.element);else if(c==="contentUrl")if(b.innerFrame)b.innerFrame.attr("src",d);else b._checkUrl();else(c="captionButtons")&&b._createCaptionButtons()},_createCaptionButtons:function(){var c=[],b=this,h=b.options,d,g={pin:{visible:true,click:b.pin,iconClassOn:"ui-icon-pin-w",iconClassOff:"ui-icon-pin-s"},refresh:{visible:true,click:b.refresh,iconClassOn:"ui-icon-refresh"},toggle:{visible:true,click:b.toggle,iconClassOn:"ui-icon-carat-1-n",iconClassOff:"ui-icon-carat-1-s"},minimize:{visible:true,click:b.minimize,iconClassOn:"ui-icon-minus"},maximize:{visible:true,click:b.maximize,iconClassOn:"ui-icon-extlink"},close:{visible:true,click:b.close,iconClassOn:"ui-icon-close"}},e=h.captionButtons,f=b.uiDialogTitlebar;f.children(".ui-dialog-titlebar-close, .wijmo-wijdialog-captionbutton").remove();a.each(g,function(b,d){e&&e[b]&&a.extend(d,e[b]);c.push({button:b,info:d})});b._trigger("buttonCreating",null,c);for(d=0;d<c.length;d++)b._createCaptionButton(c[d],f)},_createCaptionButton:function(f,g,k){var j=this,d,h="wijmo-wijdialog-titlebar-"+f.button,i=g.children("."+h),c=f.info,e=a("<span></span>");if(c.visible){if(i.size()===0){e.addClass("ui-icon "+c.iconClassOn).text(c.text||f.button);d=a('<a href="#"></a>').append(e).addClass(h+" ui-corner-all wijmo-wijdialog-captionbutton").attr("role","button").hover(function(){d.addClass(b)},function(){d.removeClass(b)}).click(function(){if(e.hasClass(c.iconClassOff))e.removeClass(c.iconClassOff);else e.addClass(c.iconClassOff);a.isFunction(c.click)&&c.click.apply(j,arguments);return false});if(k)return d;else d.appendTo(g)}j[f.button+"Button"]=d}else i.remove()},pin:function(){var b=this.isPin,a=this.pinButton.children("span");if(!b){if(a.length)!a.hasClass("ui-icon-pin-s")&&a.addClass("ui-icon-pin-s")}else a.removeClass("ui-icon-pin-s");this._enableDisableDragger(!b);this.isPin=!b},refresh:function(){var a=this.innerFrame;a!==undefined&&a.attr("src",a.attr("src"))},toggle:function(){var a=this,b=a.toggleButton.children("span");if(!a.minimized)if(a.collapsed===undefined||!a.collapsed){a.collapsed=true;!b.hasClass("ui-icon-carat-1-s")&&b.addClass("ui-icon-carat-1-s");a._collapseDialogContent(true)}else{a.collapsed=false;b.hasClass("ui-icon-carat-1-s")&&b.removeClass("ui-icon-carat-1-s");a._expandDialogContent(true)}},_expandDialogContent:function(e){var b=this,d=b.options,c=d.expandingAnimation;b.uiDialog.height("auto");if(e&&c!==null)b.contentWrapper.show(c.animated,c.options,c.duration,function(e){b.uiDialog.css("height",b._toggleHeight);a.isFunction(c.callback)&&c.callback(e);d.resizable&&b._enableDisableResizer(false)});else{b.contentWrapper.show();d.resizable&&b._enableDisableResizer(false);b.uiDialog.css("height",b.toggleHeight)}},_collapseDialogContent:function(d){var a=this,c=a.options,b=c.collapsingAnimation;c.resizable&&a._enableDisableResizer(true);a._toggleHeight=a.uiDialog[0].style.height;a.uiDialog.height("auto");if(d&&b!==null)a.contentWrapper.hide(b.animated,b.options,b.duration);else a.contentWrapper.hide();a._enableDisableDragger(a.isPin)},_enableDisableResizer:function(a){var b=this.uiDialog;if(!this.options.resizable)return;b.resizable({disabled:a});a&&b.removeClass("ui-state-disabled")},_enableDisableDragger:function(a){var b=this.uiDialog;if(!this.options.draggable)return;b.draggable({disabled:a});a&&b.removeClass("ui-state-disabled")},minimize:function(){var b=this,k=b.uiDialog,q=b.options,f=null,h=a("<div></div>"),j=a("<div></div>"),e,n,p,l,g={},o,i={},d="uiDialog",m;if(!b.minimized){l=b.uiDialog.position();g.width=b.uiDialog.width();g.height=b.uiDialog.height();m=b.getState();if(b.maximized){b.maximized=false;b.restoreButton.remove();a(window).unbind(".onWinResize")}else{b.collapsed&&b._expandDialogContent(false);b._saveNormalState()}b._enableDisableResizer(true);b.collapsed&&b._collapseDialogContent(false);h.appendTo(document.body).css({top:b.uiDialog.offset().top,left:b.uiDialog.offset().left,height:b.uiDialog.innerHeight(),width:b.uiDialog.innerWidth(),position:"absolute"});b.contentWrapper.hide();b.uiDialogButtonPane.length&&b.uiDialogButtonPane.hide();k.height("auto");k.width("auto");b._doButtonAction(b.minimizeButton,"hide");b._restoreButton(true,b.minimizeButton,"After");b._doButtonAction(b.pinButton,"hide");b._doButtonAction(b.refreshButton,"hide");b._doButtonAction(b.toggleButton,"hide");b._doButtonAction(b.maximizeButton,"show");a.browser.webkit&&a(".wijmo-wijdialog-captionbutton",b.uiDialog).css("float","left");if(b.innerFrame){d="copy";b[d]=b.uiDialog.clone();b[d].empty();b.uiDialogTitlebar.appendTo(b[d])}if(q.minimizeZoneElementId.length>0)f=a("#"+q.minimizeZoneElementId);if(f!==null&&f.size()>0)f.append(b[d]);else{e=a("."+c);if(e.size()===0){e=a('<div class="'+c+'"></div>');a(document.body).append(e)}e.append(b[d]).css("z-index",k.css("z-index"))}b[d].css("position","static");b[d].css("float","left");if(a.browser.msie&&a.browser.version==="6.0"){n=a(document).scrollTop();p=document.documentElement.clientHeight-e.height()+n;e.css({position:"absolute",left:"0px",top:p})}j.appendTo(document.body).css({top:b[d].offset().top,left:b[d].offset().left,height:b[d].innerHeight(),width:b[d].innerWidth(),position:"absolute"});b.uiDialog.hide();b.innerFrame&&b[d].hide();h.effect("transfer",{to:j,className:"ui-widget-content"},100,function(){h.remove();j.remove();b[d].show();b.minimized=true;o=b.uiDialog.position();i.width=b.uiDialog.width();i.height=b.uiDialog.height();b._enableDisableDragger(true);b._trigger("resize",null,{originalPosition:l,originalSize:g,position:o,size:i});b._trigger("stateChanged",null,{originalState:m,state:"minimized"})})}},_doButtonAction:function(a,c){if(a!==undefined){a.removeClass(b);a[c]()}},maximize:function(){var b=this,h=a(window),e,c={},f,d={},g;if(!b.maximized){b._enableDisableDragger(false);e=b.uiDialog.position();c.width=b.uiDialog.width();c.height=b.uiDialog.height();if(b.minimized)b.restore();else{b.collapsed&&b._expandDialogContent(false);b._saveNormalState();g="normal"}b.maximized=true;if(b.maximizeButton!==undefined){b.maximizeButton.hide();b._restoreButton(true,b.maximizeButton,"Before")}a.browser.webkit&&a(".wijmo-wijdialog-captionbutton").css("float","");b._onWinResize(b,h);b.collapsed&&b._collapseDialogContent(false);!b.collapsed&&b._enableDisableDragger(true);b._enableDisableResizer(true);f=b.uiDialog.position();d.width=b.uiDialog.width();d.height=b.uiDialog.height();b._trigger("resize",null,{originalPosition:e,originalSize:c,position:f,size:d});g==="normal"&&b._trigger("stateChanged",null,{originalState:"normal",state:"maximized"})}},_bindWindowResize:function(){var b=this,d=a(window),f,e,c;d.resize(function(){b.maximized&&b._onWinResize(b,d)});a.browser.msie&&a.browser.version==="6.0"&&d.bind("scroll.wijdialog resize.wijdialog",function(){if(b.minimized){e=a(document).scrollTop();c=b.uiDialog.parent();f=document.documentElement.clientHeight-c.height()+e;c.css({top:f})}})},_saveNormalState:function(){var a=this,b=a.uiDialog,c=a.element;if(!a.maximized){a.normalWidth=b.css("width");a.normalLeft=b.css("left");a.normalTop=b.css("top");a.normalHeight=b.css("height");a.normalInnerHeight=c.css("height");a.normalInnerWidth=c.css("width");a.normalInnerMinWidth=c.css("min-width");a.normalInnerMinHeight=c.css("min-height")}},_onWinResize:function(a,b){a.uiDialog.css("top",b.scrollTop());a.uiDialog.css("left",b.scrollLeft());a.uiDialog.setOutWidth(b.width());a.uiDialog.setOutHeight(b.height());a.options.width=a.uiDialog.width();a.options.height=a.uiDialog.height();a._size();if(a.collapsed){a.uiDialog.height("auto");a.contentWrapper.hide()}},_restoreButton:function(c,f,e){var a=this,d={button:"restore",info:{visible:c,click:a.restore,iconClassOn:"ui-icon-newwin"}},b=a._createCaptionButton(d,a.uiDialogTitlebar,true);if(c){b["insert"+e](f);a.restoreButton=b}},_appendToBody:function(a){if(!this.innerFrame)a.appendTo(document.body);else{this.uiDialogTitlebar.prependTo(a);a.show()}},restore:function(){var b=this,k=b.uiDialog,f,d={},g,e={},i=a("<div></div>"),j=a("<div></div>"),c="uiDialog",h;if(b.minimized){b.minimized=false;if(b.innerFrame){c="copy";if(!b[c])c="uiDialog"}f=b[c].position();d.width=b[c].width();d.height=b[c].height();i.appendTo(document.body).css({top:b[c].offset().top,left:b[c].offset().left,height:b[c].innerHeight(),width:b[c].innerWidth(),position:"absolute"});k.css("position","absolute");k.css("float","");b._appendToBody(k);b._enableDisableResizer(false);!b.isPin&&b._enableDisableDragger(false);b._restoreToNormal();b.contentWrapper.show();b.uiDialogButtonPane.length&&b.uiDialogButtonPane.show();j.appendTo(document.body).css({top:b.uiDialog.offset().top,left:b.uiDialog.offset().left,height:b.uiDialog.innerHeight(),width:b.uiDialog.innerWidth(),position:"absolute"});b.uiDialog.hide();i.effect("transfer",{to:j,className:"ui-widget-content"},150,function(){b.uiDialog.show();g=b.uiDialog.position();e.width=b.uiDialog.width();e.height=b.uiDialog.height();i.remove();j.remove();b.copy&&b.copy.remove();b._trigger("resize",null,{originalPosition:f,originalSize:d,position:g,size:e});h=b.getState();b._trigger("stateChanged",null,{originalState:"minimized",state:h})});b.collapsed&&b._collapseDialogContent();b._doButtonAction(b.minimizeButton,"show");b._doButtonAction(b.restoreButton,"remove");b._doButtonAction(b.pinButton,"show");b._doButtonAction(b.refreshButton,"show");b._doButtonAction(b.toggleButton,"show");a.browser.webkit&&a(".wijmo-wijdialog-captionbutton").css("float","")}else if(b.maximized){b.maximized=false;f=b.uiDialog.position();d.width=b.uiDialog.width();d.height=b.uiDialog.height();a(window).unbind(".onWinResize");b.collapsed&&b._expandDialogContent();b._enableDisableResizer(false);!b.isPin&&b._enableDisableDragger(false);b._restoreToNormal();b.contentWrapper.show();b.collapsed&&b._collapseDialogContent();if(b.maximizeButton!==undefined){b.maximizeButton.show();b._restoreButton(false,b.maximizeButton,"before")}g=b.uiDialog.position();e.width=b.uiDialog.width();e.height=b.uiDialog.height();b._trigger("resize",null,{originalPosition:f,originalSize:d,position:g,size:e});h=b.getState();b._trigger("stateChanged",null,{originalState:"maximized",state:h})}},getState:function(){var a=this;return a.minimized?"minimized":a.maximized?"maximized":"normal"},reset:function(){var a=this;a.normalWidth=a.normalLeft=a.normalTop=a.normalHeight=a.normalInnerHeight=a.normalInnerWidth=a.normalInnerMinWidth=a.normalInnerMinHeight=undefined;a._setOption("position",a.originalPosition)},open:function(){var b=this,c=b.options;(c.hide==="drop"||c.hide==="bounce")&&a.browser.msie&&b.uiDialog.css("filter","auto");if(!b.innerFrame){if(!b.minimized)a.ui.dialog.prototype.open.apply(b,arguments);else{b.uiDialog.show();b._isOpen=true}b.uiDialog.wijTriggerVisibility()}else{b.innerFrame.attr("src",c.contentUrl);if(!b.minimized)a.ui.dialog.prototype.open.apply(b,arguments);else{b.uiDialogTitlebar.show();b._isOpen=true}}b.collapsed&&b._collapseDialogContent();if(c.disabled)if(b.disabledDiv)b.disabledDiv.show();else b.disable()},close:function(){var b=this,c=b.options;if(a.ui.dialog.prototype.close.apply(b,arguments)){if(b.innerFrame){b.innerFrame.attr("src","");b.minimized&&b.uiDialogTitlebar.hide()}b.disabledDiv&&c.disabled&&b.disabledDiv.hide()}},_restoreToNormal:function(){var a=this,b=a.uiDialog,c=a.element;b.css("width",a.normalWidth);b.css("left",a.normalLeft);b.css("top",a.normalTop);b.css("height",a.normalHeight);c.css("height",a.normalInnerHeight);c.css("width",a.normalInnerWidth);c.css("min-width",a.normalInnerMinWidth);c.css("min-height",a.normalInnerMinHeight);a.options.width=a.uiDialog.width();a.options.height=a.uiDialog.height()}});a.extend(a.ui.dialog.overlay,{create:function(b){a.ui.dialog.latestDlg=b;if(this.instances.length===0){setTimeout(function(){a.ui.dialog.overlay.instances.length&&a(document).bind(a.ui.dialog.overlay.events,function(b){if(a(b.target).zIndex()<a.ui.dialog.overlay.maxZ&&!a.contains(a.ui.dialog.latestDlg.element[0],b.target))return false})},1);a(document).bind("keydown.dialog-overlay",function(c){if(b.options.closeOnEscape&&!c.isDefaultPrevented()&&c.keyCode&&c.keyCode===a.ui.keyCode.ESCAPE){b.close(c);c.preventDefault()}});a(window).bind("resize.dialog-overlay",a.ui.dialog.overlay.resize)}var c=(this.oldInstances.pop()||a("<div></div>").addClass("ui-widget-overlay")).appendTo(document.body).css({width:this.width(),height:this.height()});a.fn.bgiframe&&c.bgiframe();this.instances.push(c);return c},height:function(){var b,c;if(a.browser.msie){b=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight);c=Math.max(document.documentElement.offsetHeight,document.body.offsetHeight);return b<c?a(window).height()+"px":b+"px"}else return a(document).height()+"px"},width:function(){var b,c;if(a.browser.msie){b=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth);c=Math.max(document.documentElement.offsetWidth,document.body.offsetWidth);return b<c?a(window).width()+"px":b+"px"}else return a(document).width()+"px"}})})(jQuery);;
/*
 *
 * Wijmo Library 2.3.7
 * http://wijmo.com/
 *
 * Copyright(c) GrapeCity, Inc.  All rights reserved.
 * 
 * Licensed under the Wijmo Commercial License. Also available under the GNU GPL Version 3 license.
 * licensing@wijmo.com
 * http://wijmo.com/widgets/license/
 *
 *
 **/
(function(a){"use strict";a.widget("wijmo.wijpager",{widgetEventPrefix:"wijpager",options:{firstPageClass:"ui-icon-seek-first",firstPageText:"First",lastPageClass:"ui-icon-seek-end",lastPageText:"Last",mode:"numeric",nextPageClass:"ui-icon-seek-next",nextPageText:"Next",pageButtonCount:10,previousPageClass:"ui-icon-seek-prev",previousPageText:"Previous",pageCount:1,pageIndex:0,pageIndexChanging:null,pageIndexChanged:null},_create:function(){if(window.wijmoApplyWijTouchUtilEvents)a=window.wijmoApplyWijTouchUtilEvents(a);this.element.addClass("ui-widget wijmo-wijpager ui-helper-clearfix");this.options.disabled&&this.disable();this._refresh()},_init:function(){},_destroy:function(){this.element.removeClass("ui-widget wijmo-wijpager ui-helper-clearfix");this.$ul.remove()},_setOption:function(){a.Widget.prototype._setOption.apply(this,arguments);this._refresh()},_refresh:function(){this._validate();this.$ul&&this.$ul.remove();this.element.append(this.$ul=a('<ul class="ui-list ui-corner-all ui-widget-content ui-helper-clearfix" role="tablist"></ul>'));switch((this.options.mode||"").toLowerCase()){case"nextprevious":this._createNextPrev(false);break;case"nextpreviousfirstlast":this._createNextPrev(true);break;case"numeric":this._createNumeric(false);break;case"numericfirstlast":this._createNumeric(true)}},_validate:function(){var a=this.options;if(isNaN(a.pageCount)||a.pageCount<1)a.pageCount=1;if(isNaN(a.pageIndex)||a.pageIndex<0)a.pageIndex=0;else if(a.pageIndex>=a.pageCount)a.pageIndex=a.pageCount-1;if(isNaN(a.pageButtonCount)||a.pageButtonCount<1)a.pageButtonCount=1},_createNextPrev:function(b){var a=this.options;b&&a.pageIndex&&this.$ul.append(this._createPagerItem(false,a.firstPageText,1,a.firstPageClass));a.pageIndex&&this.$ul.append(this._createPagerItem(false,a.previousPageText,a.pageIndex,a.previousPageClass));a.pageIndex+1<a.pageCount&&this.$ul.append(this._createPagerItem(false,a.nextPageText,a.pageIndex+2,a.nextPageClass));b&&a.pageIndex+1<a.pageCount&&this.$ul.append(this._createPagerItem(false,a.lastPageText,a.pageCount,a.lastPageClass))},_createNumeric:function(e){var a=this.options,f=a.pageIndex+1,c=1,b=Math.min(a.pageCount,a.pageButtonCount),d;if(f>b){c=Math.floor(a.pageIndex/a.pageButtonCount)*a.pageButtonCount+1;b=c+a.pageButtonCount-1;b=Math.min(b,a.pageCount);if(b-c+1<a.pageButtonCount)c=Math.max(1,b-a.pageButtonCount+1)}if(c!==1){e&&this.$ul.append(this._createPagerItem(false,a.firstPageText,1,a.firstPageClass));this.$ul.append(this._createPagerItem(false,"...",c-1,""))}for(d=c;d<=b;d++)this.$ul.append(this._createPagerItem(d===f,d.toString(),d,""));if(a.pageCount>b){this.$ul.append(this._createPagerItem(false,"...",b+1,""));e&&this.$ul.append(this._createPagerItem(false,a.lastPageText,a.pageCount,a.lastPageClass))}},_createPagerItem:function(f,d,h,e){var b,g=this,c=a("<li />").addClass("wijmo-wijpager-button ui-corner-all").attr({role:"tab","aria-label":d,title:d});if(f)c.addClass("ui-state-active").attr("aria-selected","true");else c.addClass("ui-state-default").hover(function(){!g.options.disabled&&a(this).removeClass("ui-state-default").addClass("ui-state-hover")},function(){!g.options.disabled&&a(this).removeClass("ui-state-hover").addClass("ui-state-default")}).bind("click."+this.widgetName,{newPageIndex:h-1},a.proxy(this._onClick,this));if(f)b=a("<span />");else b=e?a("<span />").addClass("ui-icon "+e):a("<a/>").attr("href","#");b.text(d);c.append(b);return c},_onClick:function(b){if(this.options.disabled)return false;var a={newPageIndex:b.data.newPageIndex,handled:false};if(this._trigger("pageIndexChanging",null,a)!==false)if(this.options.pageIndex!==a.newPageIndex){this.options.pageIndex=a.newPageIndex;!a.handled&&this._refresh();this._trigger("pageIndexChanged",null,{newPageIndex:a.newPageIndex})}return false}})})(jQuery);;
(function(a){a.widget("wijmo.wijtextbox",{options:{},_create:function(){var b=this,f=b.element,d={input:true,textarea:true},c={text:true,password:true,number:true,email:true,url:true},g=f.get(0).nodeName.toLowerCase();if(window.wijmoApplyWijTouchUtilEvents){a=window.wijmoApplyWijTouchUtilEvents(a)}if(!d.hasOwnProperty(g)){return}if((g==="input")&&b.element.attr("type")&&!c.hasOwnProperty(b.element.attr("type").toLowerCase())){return}f.addClass("wijmo-wijtextbox ui-widget ui-state-default ui-corner-all");b.element.bind("mouseover."+b.widgetName,function(){f.addClass("ui-state-hover")}).bind("mouseout."+b.widgetName,function(){f.removeClass("ui-state-hover")}).bind("mousedown."+b.widgetName,function(){f.addClass("ui-state-active")}).bind("mouseup."+b.widgetName,function(){f.removeClass("ui-state-active")}).bind("focus."+b.widgetName,function(){f.addClass("ui-state-focus")}).bind("blur."+b.widgetName,function(){f.removeClass("ui-state-focus")});if(f.is(":disabled")){b._setOption("disabled",true);f.addClass("ui-state-disabled")}else{b._setOption("disabled",false);f.removeClass("ui-state-disabled")}},destroy:function(){var b=this;b.element.removeClass("ui-widget ui-state-default ui-corner-all ui-state-hover ui-state-active wijmo-wijtextbox").unbind("."+b.widgetName);a.Widget.prototype.destroy.apply(b)}})}(jQuery));;
(function(a){a.widget("wijmo.wijgrid",{widgetEventPrefix:"wijgrid",options:{allowColMoving:false,allowColSizing:false,allowEditing:false,allowKeyboardNavigation:true,allowPaging:false,allowSorting:false,allowVirtualScrolling:false,alwaysParseData:true,cellStyleFormatter:undefined,columns:[],columnsAutogenerationMode:"merge",culture:"",customFilterOperators:[],data:null,ensureColumnsPxWidth:false,filterOperatorsSortMode:"alphabeticalCustomFirst",groupAreaCaption:"Drag a column here to group by that column.",groupIndent:10,highlightCurrentCell:false,highlightOnHover:true,loadingText:"Loading...",nullString:undefined,pageIndex:0,pageSize:10,pagerSettings:{mode:"numeric",pageButtonCount:10,position:"bottom"},readAttributesFromData:false,rowStyleFormatter:undefined,scrollMode:"none",selectionMode:"singleRow",showFilter:false,showFooter:false,showGroupArea:false,showSelectionOnRender:true,showRowHeader:false,staticColumnIndex:-1,staticRowIndex:-1,totalRows:-1,afterCellEdit:null,afterCellUpdate:null,beforeCellEdit:null,beforeCellUpdate:null,cellClicked:null,columnDragging:null,columnDragged:null,columnDropping:null,columnDropped:null,columnGrouping:null,columnGrouped:null,columnResizing:null,columnResized:null,columnUngrouping:null,columnUngrouped:null,currentCellChanging:null,currentCellChanged:null,filterOperatorsListShowing:null,filtering:null,filtered:null,groupAggregate:null,groupText:null,invalidCellValue:null,pageIndexChanging:null,pageIndexChanged:null,selectionChanged:null,sorting:null,sorted:null,ajaxError:null,dataLoading:null,dataLoaded:null,loading:null,loaded:null,rendering:null,rendered:null},_data$prefix:"wijgrid",_customSortOrder:1000,_reverseKey:false,_pageSizeKey:10,_mergeWidgetsWithOptions:true,_windowResizeTimer:0,_dataOffset:0,_scrollingState:{x:null,y:null,index:0},_ajaxError:function(b,d,c){this._trigger("ajaxError",null,{XMLHttpRequest:b,textStatus:d,errorThrown:c});this._deactivateSpinner()},_resetDataProperties:function(){this.options.pageIndex=0;var b=this._field("viewRenderBounds");b.start=b.end=0},_dataLoading:function(b){if(!b||!b._wijgridMarker){this._loading()}this._trigger("dataLoading")},_dataLoaded:function(b){this._trigger("dataLoaded");this.doRefresh(b);this._loaded(b)},_loading:function(){this._activateSpinner();this._trigger("loading")},_loaded:function(b){this._deactivateSpinner();this._trigger("loaded")},ensureControl:function(c,b){this._loading();if(!a.isPlainObject(b)){b={data:null,afterRefresh:null,beforeRefresh:null}}b._wijgridMarker=true;if(this._initialized){this._convertWidgetsToOptions()}else{this._prepareColumnOptions(false)}this._ownerise(true);this._field("allowVirtualScrolling",null);if(c===true){this._dataStore.load(b)}else{this.doRefresh(b);this._loaded()}},doRefresh:function(b){if(!a.isPlainObject(b)){b={}}var h,g,d=this,c=b&&b.virtualScrollData;if(!this._initialized){try{this._prepareColumnOptions(true)}catch(f){throw f}finally{this._ownerise(true);this._initialized=true}}else{if(b&&a.isFunction(b.beforeRefresh)){b.beforeRefresh.apply(this,[b])}}if(!c){this._rebuildLeaves();h=this._dataStore.getDataSlice();a.each(this._field("leaves"),function(){this._totalsValue=(h.totals)?h.totals[this.dataKey]:undefined});this._setPageCount(h);this.sketchTable=[];if(h.data&&h.data.length){g=this._field("leaves");a.each(h.data,function(e,j){d.sketchTable.push(d._buildSketchRow(j,e,g))})}else{if(h.emptyData){g=this._field("visibleLeaves");a.each(h.emptyData,function(e,j){d.sketchTable.push(d._buildSketchRowEmptyDataItem(j,g,e===h.emptyData.length-1))})}}}this._onRendering(b);if(!c){this._refresh(b)}else{this._refreshVirtual(b)}this._onRendered(b);if(b&&a.isFunction(b.afterRefresh)){b.afterRefresh.apply(this,[b])}},_buildSketchRow:function(e,h,g){var f,c,d,b=[];for(f=0,c=g.length;f<c;f++){d=g[f];if(a.wijmo.wijgrid.validDataKey(d.dataKey)){b.push({value:e.values[d.dataKey],__attr:(e.attributes)?e.attributes.cellsAttributes[d.dataKey]:{},__style:{}});b.originalRowIndex=e.originalRowIndex}}b.rowType=a.wijmo.wijgrid.rowType.data;if(h%2!==0){b.rowType|=a.wijmo.wijgrid.rowType.dataAlt}b.__style={};b.__attr=(e.attributes)?e.attributes.rowAttributes:{};return b},_buildSketchRowEmptyDataItem:function(d,h,g){var e,c,f=h.length,b=[];for(e=0,c=d.length;e<c;e++){b.push({html:d[e],__attr:{colSpan:((f>0&&g)?f:1)},__style:{}})}b.rowType=a.wijmo.wijgrid.rowType.emptyDataRow;b.__style={};b.__attr={};return b},getFilterOperatorsByDataType:function(b){var c=this.filterOperatorsCache.getByDataType(b||"string");this.filterOperatorsCache.sort(c,this.options.filterOperatorsSortMode);return c},getCellInfo:function(c){var b=null;if(c&&(c=this._findUntilOuterDiv(c,{td:true,th:true}))){b=this._view().getAbsoluteCellInfo(c)}return b},setSize:function(f,c){var d=this._view(),e={type:"",hScrollValue:null,vScrollValue:null},g=this.outerDiv,h=this._field("frozener"),b=this._field("visibleLeaves");if(d&&d.getScrollValue){e=d.getScrollValue()}if(f||(f===0)){this._autoWidth=false;g.width(f)}if(c||(c===0)){this._autoHeight=false;g.height(c)}a.each(b,function(j,i){var k=d.getHeaderCell(j),l=d.getJoinedCols(j);a(k).css("width","");a.each(l,function(n,m){a(m).css("width","")})});this._view().updateSplits(e);if(h){h.refresh()}},_prepareColumnOptions:function(e){a.wijmo.wijgrid.traverse(this.options.columns,function(h){h.isBand=(a.isArray(h.columns)||(h.clientType==="c1band"));h._originalDataKey=h.dataKey;h._originalHeaderText=h.headerText});new a.wijmo.wijgrid.bandProcessor()._getVisibleHeight(this.options.columns,true);var g=[],f,d=this._originalHeaderRowData(),c=this._originalFooterRowData(),b=(this.options.columnsAutogenerationMode||"").toLowerCase();if(e){f=this._dataStore.dataMode()===a.wijmo.wijgrid.dataMode.dom;if(b!=="none"){(new a.wijmo.wijgrid.columnsGenerator(this)).generate(b,this._dataStore,this.options.columns)}}a.wijmo.wijgrid.setTraverseIndex(this.options.columns);a.wijmo.wijgrid.traverse(this.options.columns,function(h){h.isBand=(a.isArray(h.columns)||(h.clientType==="c1band"));a.wijmo.wijgrid.shallowMerge(h,a.wijmo.c1basefield.prototype.options);if(!h.isBand){a.wijmo.wijgrid.shallowMerge(h,a.wijmo.c1field.prototype.options);h.groupInfo=h.groupInfo||{};a.wijmo.wijgrid.shallowMerge(h.groupInfo,a.wijmo.c1field.prototype.options.groupInfo);if(!h.clientType){h.clientType="c1field"}}else{h.clientType="c1band"}if(h.isLeaf&&!h.isBand){g.push(h)}});this._field("leaves",g);if(e){a.each(g,function(k,h){var j=(typeof(h.dataKey)==="number")?h.dataKey:k;if(b==="merge"||h.dynamic===true){if(h.headerText===undefined){if(f&&d&&(j<d.length)){h.headerText=a.trim(d[j])}else{if(a.wijmo.wijgrid.validDataKey(h.dataKey)){h.headerText=""+h.dataKey}}}}if(f&&c&&(j<c.length)){h._footerTextDOM=a.trim(c[j])}})}},_rebuildLeaves:function(){var b=[],d=[],c;if(this.options.showRowHeader){c=a.wijmo.wijgrid.createDynamicField({clientType:"c1basefield",dataIndex:-1,travIdx:-1,parentVis:true,allowMoving:false,allowSizing:false,allowSort:false,isRowHeader:true});c.owner=this;b.push(c)}a.each(this.options.columns,function(e,f){b.push(f)});this._field("columnHeadersTable",new a.wijmo.wijgrid.bandProcessor().generateSpanTable(b,d));this._field("leaves",d);this._onLeavesCreated()},_onLeavesCreated:function(){var e=this._field("leaves"),d=0,b=0,c=this;this._field("visibleLeaves",a.grep(e,function(f,g){f.leavesIdx=g;if(a.wijmo.wijgrid.validDataKey(f.dataKey)){f.dataIndex=d++}else{f.dataIndex=-1}if(!f.isBand){c._ensureDataParser(f);if(a.isFunction(f.dataParser)){f.dataParser=new f.dataParser()}}if(f.parentVis){f.visLeavesIdx=b++;return true}return false}))},_create:function(){var c=this;if(!this.element.is("table")){throw"invalid markup"}this._eventUID=a.wijmo.wijgrid.getUID();this.options=a.extend(true,{},this.options);if(window.wijmoApplyWijTouchUtilEvents){a=window.wijmoApplyWijTouchUtilEvents(a)}if(a.isFunction(window.wijmoASPNetParseOptions)){wijmoASPNetParseOptions(this.options)}this._initialized=false;this._destroyed=false;var d=this.element[0].style.height,b=this.element[0].style.width;this._dataStore=new a.wijmo.wijgrid.dataStore(this);this._originalHtml=this.element.html();this._originalAttr={};this._originalCssText=this.element[0].style.cssText;this.element.addClass("wijmo-wijgrid-root");this.element.wrap('<div class="ui-widget wijmo-wijgrid ui-widget-content ui-corner-all"></div>');this.outerDiv=this.element.parent();if(d){this.outerDiv.css("height",this.element[0].style.height)}if(d!==""&&d!=="auto"){this._autoHeight=false}else{this._autoHeight=true}if(b){this.outerDiv.css("width",this.element[0].style.width)}if(b!==""&&b!=="auto"){this._autoWidth=false}else{this._autoWidth=true}this.element.css({height:"",width:""});this.filterOperatorsCache=new a.wijmo.wijgrid.filterOperatorsCache();this._registerFilterOperator(a.wijmo.wijgrid.embeddedFilters);if(this.options.disabled){this.disable()}this.cellFormatter=new a.wijmo.wijgrid.cellFormatterHelper();this.rowStyleFormatter=new a.wijmo.wijgrid.rowStyleFormatterHelper(this);this.cellStyleFormatter=new a.wijmo.wijgrid.cellStyleFormatterHelper(this);this._field("viewRenderBounds",{start:0,end:0});if(this._allowVirtualScrolling()){this._field("viewRenderBounds").start=this._scrollingState.index;if(this._serverSideVirtualScrolling()){this._dataOffset=this._scrollingState.index}}if(this.element.wijAddVisibilityObserver){this.element.wijAddVisibilityObserver(function(){if(c._initialized&&!c._destroyed){c.setSize()}},"wijgrid")}this._renderCounter=0},_init:function(){this.$superPanelHeader=null;this.$topPagerDiv=null;this.$bottomPagerDiv=null;this.$groupArea=null;this.filterOperatorsCache.removeCustom();a.each(this.options.customFilterOperators,function(b,c){if(c){c.custom=true}});this._registerFilterOperator(this.options.customFilterOperators);this._field("closestCulture",Globalize.findClosestCulture(this.options.culture)||Globalize.findClosestCulture("default"));if(!this.options.data){if(!this._field("thead")){this._field("thead",a.wijmo.wijgrid.readTableSection(this.element,1))}if(!this._field("tfoot")){this._field("tfoot",a.wijmo.wijgrid.readTableSection(this.element,3))}}this._initialized=this._initialized||false;this.ensureControl(true)},_setOption:function(d,f){var g=this["_preset_"+d],c=this.options[d],e,b;if(g!==undefined){f=g.apply(this,[f,c])}e=(f!==c);a.Widget.prototype._setOption.apply(this,[d,f]);if(e){b=this["_postset_"+d];if(b!==undefined){b.apply(this,[f,c])}}},_destroy:function(){var c,b=this;try{this._view().dispose();this._dataStore.dispose();this._detachEvents(true);if(c=this._field("resizer")){c.dispose()}if(c=this._field("frozener")){c.dispose()}if(c=this._field("selectionui")){c.dispose()}if(c=this._field("dragndrop")){c.dispose()}a.wijmo.wijgrid.remove$dataByPrefix(this.element,this._data$prefix);if(this.element.wijRemoveVisibilityObserver){this.element.wijRemoveVisibilityObserver()}this.element.insertBefore(this.outerDiv);this.outerDiv.remove();this.element.html(this._originalHtml);a.each(this._originalAttr,function(d,e){if(e===undefined){b.element.removeAttr(d)}else{b.element.attr(d,e)}});this.element.removeClass("wijmo-wijgrid-root");this.element[0].style.cssText=this._originalCssText}finally{this._destroyed=true}},columns:function(){return this._field("columns")||[]},currentCell:function(c,f){var e,b=this._view(),d=this._rows();if(arguments.length===0){e=this._field("currentCell");if(!e){this._field("currentCell",e=a.wijmo.wijgrid.cellInfo.prototype.outsideValue)}return e}else{e=(arguments.length===1)?c._clone():new a.wijmo.wijgrid.cellInfo(c,f);if(!e.isEqual(a.wijmo.wijgrid.cellInfo.prototype.outsideValue)){if(!e._isValid()){throw"invalid arguments"}e._clip(this._getDataCellsRange());if(e.rowIndex()>=0){if(!(b._getRowInfo(d.item(e.rowIndex())).type&a.wijmo.wijgrid.rowType.data)){return}}}e._setGridView(this);this._changeCurrentCell(e);return this._field("currentCell")}},data:function(){return this._dataStore.dataSource().items},selection:function(){var b=this._field("selection");if(!b){this._field("selection",b=new a.wijmo.wijgrid.selection(this))}return b},beginEdit:function(){return this._beginEditInternal(null)},endEdit:function(){return this._endEditInternal(null)},pageCount:function(){return this.options.allowPaging?this._field("pageCount")||1:1},_allowVirtualScrolling:function(){var b=this._field("allowVirtualScrolling");if(!b){b=this._field("allowVirtualScrolling",!this.options.allowPaging&&this.options.allowVirtualScrolling&&(this.options.staticRowIndex<0)&&(this.options.scrollMode!=="none")&&!this._hasMerging())}return b},_dragndrop:function(c){var b=this._field("dragndrop");if(!b&&c){this._field("dragndrop",b=new a.wijmo.wijgrid.dragAndDropHelper(this))}return b},_headerRows:function(){return this._view().headerRows()},_filterRow:function(){return this._view().filterRow()},_localizeFilterOperators:function(c){var b=this;a.each(c,function(d,f){if(f.name){var e=b.filterOperatorsCache.getByName(f.name);if(e){e.displayName=f.displayName}}})},_rows:function(){return this._view().bodyRows()},_selectionui:function(b){var c=this._field("selectionui");if(!c&&b){this._field("selectionui",c=new a.wijmo.wijgrid.selectionui(this))}return c},_setPageCount:function(b){this._field("pageCount",Math.ceil(b.totalRows/this.options.pageSize)||1)},_registerFilterOperator:function(d){var b=this,c=d&&(a.isArray(d)||(a.isPlainObject(d)&&!d.operator))?d:arguments;a.each(c,function(e,f){b.filterOperatorsCache.add(f)})},_postset_allowColMoving:function(d,c){var b=this;a.each(this.columns(),function(e,f){if(d){b._dragndrop(true).attach(f)}else{b._dragndrop(true).detach(f)}});a.each(this._field("groupedWidgets"),function(e,f){if(d){b._dragndrop(true).attach(f)}else{b._dragndrop(true).detach(f)}})},_postset_allowSorting:function(c,b){this.ensureControl(false)},_postset_columns:function(c,b){this._initialized=false;this.ensureControl(true)},_postset_allowPaging:function(c,b){this.ensureControl(true)},_postset_culture:function(c,b){throw"read-only"},_postset_customFilterOperators:function(c,b){this.filterOperatorsCache.removeCustom();a.each(this.options.customFilterOperators,function(d,e){e.custom=true});this._registerFilterOperator(c)},_postset_data:function(c,b){this._ownerise(false);a.wijmo.wijgrid.traverse(this.options.columns,function(f,e){if(f.dynamic){var d=a.inArray(f,e);if(d>=0){e.splice(d,1)}}else{f.dataKey=f._originalDataKey;f.headerText=f._originalHeaderText}});this._initialized=false;if(this._dataStore){this._dataStore.dispose()}this._dataStore=new a.wijmo.wijgrid.dataStore(this);this.ensureControl(true)},_postset_disabled:function(e,d){var c=this,b=this._view();a.wijmo.wijgrid.iterateChildrenWidgets(this.outerDiv,function(f,g){if(g!==c){g.option("disabled",e)}});if(b){b.ensureDisabledState()}},_postset_groupIndent:function(c,b){this.ensureControl(false)},_postset_groupAreaCaption:function(d,c){var b=this._field("groupedColumns");if(this.$groupArea&&(!b||!b.length)){this.$groupArea.html(d||"&nbsp;")}},_postset_highlightCurrentCell:function(c,b){var d=this.currentCell();if(d&&d._isValid()){this._highlightCellPosition(d,c)}},_preset_pageIndex:function(f,d){if(isNaN(f)){throw"out of range"}var c=this.pageCount(),e=function(g){if(g>c-1){g=c-1}if(g<0){g=0}return g},b;f=e(f);if(this.options.allowPaging&&f!==d){b={newPageIndex:f};if(!this._onPageIndexChanging(b)){f=d}else{f=e(b.newPageIndex)}}return f},_postset_pageIndex:function(d,c){if(this.options.allowPaging){var b={newPageIndex:d};if(this._customPagingEnabled()){this._convertWidgetsToOptions();this._onPageIndexChanged(b)}else{this.ensureControl(true,{afterRefresh:function(){this._onPageIndexChanged(b)}})}}},_preset_pageSize:function(c,b){if(isNaN(c)){throw"out of range"}if(c<=0){c=1}return c},_postset_pageSize:function(c,b){this._resetDataProperties();if(this.options.allowPaging&&!this._customPagingEnabled()){this.ensureControl(true)}},_postset_pagerSettings:function(c,b){this.ensureControl(false)},_postset_scrollMode:function(c,b){if(c==="none"||b==="none"){this.ensureControl(false)}else{this._view().refreshPanel()}},_postset_selectionMode:function(e,c){var d=this.selection(),f=this.currentCell(),b=this.selection().selectedCells().length();d.beginUpdate();d.clear();if(f&&f._isValid()&&b){d._selectRange(new a.wijmo.wijgrid.cellInfoRange(f,f),false,false,0,null)}d.endUpdate();this._view().toggleDOMSelection(e==="none")},_postset_showFilter:function(c,b){this.ensureControl(false)},_postset_showGroupArea:function(c,b){this.ensureControl(false)},_postset_showRowHeader:function(c,b){this.ensureControl(false)},_postset_staticRowIndex:function(){if(this.options.scrollMode!=="none"){this.ensureControl(false)}},_postset_staticColumnIndex:function(){if(this.options.scrollMode!=="none"){this.ensureControl(false)}},_postset_allowVirtualScrolling:function(c,b){this.ensureControl(false)},_preset_allowVirtualScrolling:function(c,b){if(isNaN(c)||c<0){throw"out of range"}return c},_activateSpinner:function(){var b=this.outerDiv.append('<div class="wijmo-wijgrid-overlay ui-widget-overlay"></div><span class="wijmo-wijgrid-loadingtext ui-widget-content ui-corner-all"><span class="ui-icon ui-icon-clock"></span>'+this.options.loadingText+"</span>").find("> .wijmo-wijgrid-loadingtext");b.position({my:"center",at:"center center",of:this.outerDiv,collision:"none"})},_customPagingEnabled:function(){return this.options.allowPaging&&this.options.totalRows>=0},_deactivateSpinner:function(){this.outerDiv.find("> .wijmo-wijgrid-overlay, > .wijmo-wijgrid-loadingtext").remove()},_columnWidgetsFactory:function(b,e){var c,d=e.clientType;if(!d&&e.isBand){d="c1band"}e=a.extend({owner:this},e,{disabled:this.options.disabled});switch(d){case"c1basefield":c=b.c1basefield(e);break;case"c1band":c=b.c1band(e);break;default:c=b.c1field(e)}return c},_convertWidgetsToOptions:function(){if(this._initialized&&this._mergeWidgetsWithOptions){this._ownerise(false);this._widgetsToOptions();this._ownerise(true)}},_field:function(b,c){return a.wijmo.wijgrid.dataPrefix(this.element,this._data$prefix,b,c)},_removeField:function(b){var c=this._data$prefix+b;this.element.removeData(c)},_prepareFilterRequest:function(c){var d=this._field("leaves"),b;if(!d){return[]}b=a.map(d,a.proxy(function(g,e){if(!g.isBand&&(a.wijmo.wijgrid.validDataKey(g.dataKey))&&g.filterOperator){var h=a.extend(true,{},{foo:g.filterValue}).foo,f=a.extend(true,{},{foo:g.filterOperator}).foo,i=a.wijmo.wijgrid.filterHelper.verify(f,h,g.dataType,this.filterOperatorsCache);if(i){return(c)?[{column:g,filterOperator:i.filterOperator,filterValue:i.filterValue}]:[{dataKey:g.dataKey,filterOperator:i.filterOperator,filterValue:i.filterValue}]}}return null},this));return b},_preparePageRequest:function(b){if(this.options.allowPaging){return{pageIndex:this.options.pageIndex,pageSize:this.options.pageSize}}return null},_prepareSortRequest:function(c){var d=this._field("leaves"),b;if(!d||!this.options.allowSorting){return[]}b=a.map(d,function(f,e){var g=null;if(!f.isBand&&f.allowSort&&(a.wijmo.wijgrid.validDataKey(f.dataKey))){if(f.groupInfo&&(f.groupInfo.position!=="none")&&(f.sortDirection==="none")){f.sortDirection="ascending"}g=(f.sortDirection==="ascending"||f.sortDirection==="descending")?[{dataKey:f.dataKey,sortDirection:f.sortDirection,sortOrder:f.sortOrder||0}]:null}return g});b.sort(function(f,e){return f.sortOrder-e.sortOrder});a.each(b,function(e,f){delete f.sortOrder});return b},_prepareTotalsRequest:function(c){var d=this._field("leaves"),b;if(!d||!this.options.showFooter){return[]}b=a.map(d,function(f,e){if(!f.isBand&&a.wijmo.wijgrid.validDataKey(f.dataKey)&&f.aggregate&&f.aggregate!=="none"){return(c)?[{column:f,aggregate:f.aggregate}]:[{dataKey:f.dataKey,aggregate:f.aggregate}]}return null});return b},_widgetsToOptions:function(){var b=a.wijmo.wijgrid.flatten(this.options.columns);a.each(this.columns(),function(e,d){delete d.options.columns;var c=b[d.options.travIdx];a.extend(true,c,d.options);c.filterValue=d.options.filterValue;c.filterOperator=d.options.filterOperator})},_recreateColumnWidgets:function(){a.each(this.columns(),function(i,l){l.destroy()});var f=[],h=this._headerRows(),k,g,j,e,d,b,c;if(h&&h.length()){k=[];a.wijmo.wijgrid.traverse(this.options.columns,function(i){if(i.parentVis){k.push(i)}});for(g=0,j=k.length;g<j;g++){e=k[g];d=h.item(e.thY);b=new a.wijmo.wijgrid.rowAccessor().getCell(d,e.thX);c=this._columnWidgetsFactory(a(b),e);f.push(c.data(c.data(a.wijmo.c1basefield.prototype._data$prefix+"widgetName")))}}this._field("columns",f)},_ownerise:function(b){if(b){var c=this;a.wijmo.wijgrid.traverse(this.options.columns,function(g){g.owner=c;var f,e,d;if((f=g.groupInfo)){f.owner=g;if(f.expandInfo){for(e=0,d=f.expandInfo.length;e<d;e++){f.expandInfo[e].owner=f}}}})}else{a.wijmo.wijgrid.traverse(this.options.columns,function(g){delete g.owner;var f,e,d;if((f=g.groupInfo)){delete f.owner;if(f.expandInfo){for(e=0,d=f.expandInfo.length;e<d;e++){delete f.expandInfo[e].owner}}}})}},_ensureRenderBounds:function(c){var b=this._totalRowsCount();if(c.start<0){c.start=0}c.start=Math.min(c.start,b-1);if(c.end<0){c.end=0}c.end=Math.min(c.end,b-1);return c},_refresh:function(b){new a.wijmo.wijgrid.grouper().group(this,this.sketchTable,this._field("leaves"));new a.wijmo.wijgrid.merger().merge(this.sketchTable,this._field("visibleLeaves"));var c=this._field("viewRenderBounds");this._ensureRenderBounds(c);if(this.options.scrollMode!=="none"){this._field("view",new a.wijmo.wijgrid.fixedView(this,this._field("viewRenderBounds")))}else{this._field("view",new a.wijmo.wijgrid.flatView(this,this._field("viewRenderBounds")))}this._render();this._ownerise(false);this._recreateColumnWidgets();this._ownerise(true);if(this.options.allowPaging){if(this.$topPagerDiv){this.$topPagerDiv.wijpager(this._pagerSettings2PagerWidgetSettings()).css("zIndex",5)}if(this.$bottomPagerDiv){this.$bottomPagerDiv.wijpager(this._pagerSettings2PagerWidgetSettings()).css("zIndex",5)}}},_refreshVirtual:function(b){var d=b.virtualScrollData,c={top:0,bottom:0};if(d.data){c=this._processVirtualData(d)}this._updateRowInfos(d,c);this._renderVirtualIntoView(d)},_updateRowInfos:function(g,d){var b=this._field("viewRenderBounds"),j=this._view(),e=g.newBounds,l=this._view().bodyRows(),h,f,k,c;switch(g.mode){case"reset":break;case"overlapBottom":h={start:e.start-b.start,end:b.end-b.start};k=e.start-b.start;for(f=h.start;f<=h.end;f++){c=j._getRowInfo(l.item(f));c.sectionRowIndex-=k;c.dataItemIndex+=d.top;j._setRowInfo(c.$rows,c)}break;case"overlapTop":h={start:b.start-b.start,end:e.end-b.start};k=b.start-e.start;for(f=h.start;f<=h.end;f++){c=j._getRowInfo(l.item(f));c.sectionRowIndex+=k;c.dataItemIndex+=d.top;j._setRowInfo(c.$rows,c)}break}},_renderVirtualIntoView:function(h){var f=this._field("viewRenderBounds"),c=this._view(),g=function(i){return(i.rowType&a.wijmo.wijgrid.rowType.data)?i.originalRowIndex:-1},d,e,j,b;switch(h.mode){case"reset":c._clearBody();for(e=h.newBounds.start;e<=h.newBounds.end;e++){j=this.sketchTable[e-this._dataOffset];c._insertBodyRow(j,-1,g(j),e)}c._rebuildOffsets();break;case"overlapBottom":d={start:h.newBounds.start,end:f.end};for(e=0;e<d.start-f.start;e++){c._removeBodyRow(0,false)}for(e=d.end+1;e<=h.newBounds.end;e++){j=this.sketchTable[e-this._dataOffset];c._insertBodyRow(j,-1,g(j),e)}break;case"overlapTop":d={start:f.start,end:h.newBounds.end};for(e=0;e<f.end-h.newBounds.end;e++){c._removeBodyRow(d.end-d.start+1,false)}b=0;for(e=h.newBounds.start;e<f.start;e++){j=this.sketchTable[e-this._dataOffset];c._insertBodyRow(j,b++,g(j),e)}break;default:break}},_processVirtualData:function(j){var g=this._dataStore.dataSource().items,b,k=this._field("leaves"),h,d,c,f=0,l={top:0,bottom:0},e=this._serverSideVirtualScrollingMargin();switch(j.mode){case"reset":this.sketchTable.splice(0,this.sketchTable.length);g.splice(0,g.length);this._dataOffset=j.request.index;for(h=0;h<j.data.length;h++){g.push(b=j.data[h]);this.sketchTable.push(this._buildSketchRow(this._dataStore.wrapDataItem(b,h,true),h,k))}break;case"overlapBottom":for(h=0;h<j.data.length;h++){g.push(b=j.data[h]);this.sketchTable.push(this._buildSketchRow(this._dataStore.wrapDataItem(b,g.length-1,true),this.sketchTable.length,k))}l.bottom=j.data.length;break;case"overlapTop":for(h=j.data.length-1;h>=0;h--){g.splice(0,0,b=j.data[h]);this.sketchTable.splice(0,0,this._buildSketchRow(this._dataStore.wrapDataItem(b,h,true),h,k))}this._dataOffset=j.request.index;l.top=j.data.length;break}d=this._ensureRenderBounds({start:j.newBounds.start,end:j.newBounds.end});c={start:this._dataOffset,end:this._dataOffset+g.length-1};f=(c.end-d.end)-e;if(f>0){l.bottom-=f;g.splice(g.length-f,f);this.sketchTable.splice(this.sketchTable.length-f,f)}f=(d.start-c.start)-e;if(f>0){l.top-=f;g.splice(0,f);this.sketchTable.splice(0,f);this._dataOffset+=f}for(h=0;h<this.sketchTable.length;h++){this.sketchTable[h].originalRowIndex=h}return l},_needToCreatePagerItem:function(){return this.options.allowPaging},_render:function(){var b=this._view(),d=this.options,c;b.render();c=this.outerDiv;if(d.scrollMode!=="none"){c=this.outerDiv.find("div.wijmo-wijgrid-scroller:first")}this.$superPanelHeader=null;if(this.$topPagerDiv){if(this.$topPagerDiv.data("wijmo-wijpager")){this.$topPagerDiv.wijpager("destroy")}this.$topPagerDiv.remove()}this.$topPagerDiv=null;if(this._needToCreatePagerItem()&&((d.pagerSettings.position==="top")||(d.pagerSettings.position==="topAndBottom"))){if(!this.$topPagerDiv){c.prepend(this.$superPanelHeader=a('<div class="wijmo-wijsuperpanel-header"></div>'));this.$superPanelHeader.prepend(this.$topPagerDiv=a('<div class="wijmo-wijgrid-header ui-widget-header ui-corner-top"></div>'))}}if(d.showGroupArea){this._processGroupArea(c)}else{this.$groupArea=null}if(this.$bottomPagerDiv){if(this.$bottomPagerDiv.data("wijmo-wijpager")){this.$bottomPagerDiv.wijpager("destroy")}this.$bottomPagerDiv.remove()}this.$bottomPagerDiv=null;if(this._needToCreatePagerItem()&&((d.pagerSettings.position==="bottom")||(d.pagerSettings.position==="topAndBottom"))){if(!this.$bottomPagerDiv){c.append(this.$bottomPagerDiv=a('<div class="wijmo-wijgrid-footer wijmo-wijsuperpanel-footer ui-state-default ui-corner-bottom"></div>'))}}},_processGroupArea:function(d){var b=this,c=this._field("groupedColumns"),e=[];this.$groupArea=a('<div class="ui-widget-content ui-helper-clearfix"></div>');if(c.length>0){a.each(c,function(f,h){var g=a('<a href="#"></a>').appendTo(b.$groupArea);g.c1groupedfield(a.extend({owner:b},{allowMoving:h.allowMoving,allowSort:h.allowSort,dataIndex:h.dataIndex,headerText:h.headerText,isBand:h.isBand,isLeaf:h.isLeaf,linearIdx:h.linearIdx,parentIdx:h.parentIdx,sortDirection:h.sortDirection,travIdx:h.travIdx,groupedIndex:h.groupedIndex},{disabled:b.options.disabled}));e.push(g.data("wijmo-c1groupedfield"))})}else{this.$groupArea.addClass("wijmo-wijgrid-group-area").css("padding",0).html(this.options.groupAreaCaption||"&nbsp;")}this._field("groupedWidgets",e);if(!this.$superPanelHeader){d.prepend(this.$superPanelHeader=a('<div class="wijmo-wijsuperpanel-header"></div>'))}this.$superPanelHeader.prepend(this.$groupArea);this._dragndrop(true).attachGroupArea(this.$groupArea)},_attachEvents:function(){var b=this._view(),c=b.focusableElement();c.bind("keydown."+this.widgetName,a.proxy(this._onKeyDown,this));c.bind("keypress."+this.widgetName,a.proxy(this._onKeyPress,this));a.each(b.subTables(),a.proxy(function(d,e){var f=e.element();if(f){if(f.tHead){a(f.tHead).bind("click."+this.widgetName,a.proxy(this._onClick,this))}if(f.tBodies.length){a(f.tBodies[0]).bind("click."+this.widgetName,a.proxy(this._onClick,this)).bind("dblclick."+this.widgetName,a.proxy(this._onDblClick,this)).bind("mousemove."+this.widgetName,a.proxy(this._onMouseMove,this)).bind("mouseout."+this.widgetName,a.proxy(this._onMouseOut,this))}}},this));a(window).bind("resize."+this.widgetName+"."+this._eventUID,a.proxy(this._onWindowResize,this))},_detachEvents:function(e){var b=this._view(),d=this,c;this._windowResizeTimer=0;a(window).unbind("resize."+this.widgetName+"."+this._eventUID);if(b){c=b.focusableElement();c.unbind("keydown."+this.widgetName);c.unbind("keypress."+this.widgetName);a.each(b.subTables(),function(){var f=this.element();if(f){if(f.tHead){a(f.tHead).unbind("."+d.widgetName)}if(f.tBodies.length){a(f.tBodies[0]).unbind("."+d.widgetName)}}})}},_handleSort:function(g,c){var f=this.options.columns,b=g.travIdx,e,d;if(g&&this.options.allowSorting){e=((g.sortDirection==="none")?"ascending":((g.sortDirection==="ascending")?"descending":"ascending"));d={column:g,sortDirection:e,sortCommand:g.dataKey+" "+(e==="ascending"?"asc":"desc")};if(this._onColumnSorting(d)){g.sortDirection=d.sortDirection;if(c){g.sortOrder=this._customSortOrder++}else{this._customSortOrder=1000;a.each(this.columns(),function(h,i){i.options.sortOrder=0;if(i.options.travIdx!==b&&!(i.options.groupInfo&&i.options.groupInfo.position!=="none")){i.options.sortDirection="none"}});a.wijmo.wijgrid.traverse(f,function(h){h.sortOrder=0;if(h.travIdx!==b&&!(h.groupInfo&&h.groupInfo.position!=="none")){h.sortDirection="none"}})}d={column:g,sortDirection:g.sortDirection,sortCommand:g.dataKey+" "+(g.sortDirection==="ascending"?"asc":"desc")};if(this._customPagingEnabled()){this._convertWidgetsToOptions();this._onColumnSorted(d)}else{this.ensureControl(true,{afterRefresh:function(){this._onColumnSorted(d)}})}}}},_pagerSettings2PagerWidgetSettings:function(){return a.extend({},this.options.pagerSettings,{disabled:this.options.disabled,pageCount:this.pageCount(),pageIndex:this.options.pageIndex,pageIndexChanging:a.proxy(this._onPagerWidgetPageIndexChanging,this),pageIndexChanged:a.proxy(this._onPagerWidgetPageIndexChanged,this)})},_handleDragnDrop:function(f,j,e,b,i){var h=a.wijmo.wijgrid.getColumnByTravIdx(this.options.columns,f),d=a.wijmo.wijgrid.getColumnByTravIdx(this.options.columns,j),c=b?"groupArea":"columns",g=i?"groupArea":"columns";if(i){if(this._onColumnGrouping({drag:h.found,drop:d?d.found:null,dragSource:c,dropSource:g,at:e})){this.ensureControl(true,{beforeRefresh:function(){if(!d){h.found.groupedIndex=0}else{switch(e){case"left":h.found.groupedIndex=d.found.groupedIndex-0.5;break;case"right":h.found.groupedIndex=d.found.groupedIndex+0.5;break}}if(!b){a.extend(true,h.found,{groupInfo:{position:"header"}})}},afterRefresh:function(){this._onColumnGrouped({drag:h.found,drop:d?d.found:null,dragSource:c,dropSource:g,at:e})}})}}else{if(this._onColumnDropping({drag:h.found,drop:d.found,at:e})){this.ensureControl(false,{beforeRefresh:function(){h.at.splice(h.found.linearIdx,1);switch(e){case"left":if(h.at===d.at&&h.found.linearIdx<d.found.linearIdx){d.at.splice(d.found.linearIdx-1,0,h.found)}else{d.at.splice(d.found.linearIdx,0,h.found)}break;case"right":if(h.at===d.at&&h.found.linearIdx<d.found.linearIdx){d.at.splice(d.found.linearIdx,0,h.found)}else{d.at.splice(d.found.linearIdx+1,0,h.found)}break;case"center":d.found.columns.push(h.found);break}a.wijmo.wijgrid.setTraverseIndex(this.options.columns)},afterRefresh:function(){this._onColumnDropped({drag:h.found,drop:d.found,at:e})}})}}},_handleFilter:function(e,h,g){var b=this.filterOperatorsCache.getByName(h),f,d,c;if(b){if(b.arity>1){f=this._parse(e.options,g);d=(f!==null&&(e.options.dataType==="string"||!isNaN(f)))}else{d=true}if(d){c={column:e.options,operator:b.name,value:f};if(this._onColumnFiltering(c)){e.options.filterValue=c.value;e.options.filterOperator=c.operator;this._resetDataProperties();if(this._customPagingEnabled()){this._convertWidgetsToOptions();this._onColumnFiltered({column:e.options})}else{this.ensureControl(true,{afterRefresh:function(){this._onColumnFiltered({column:e.options})}})}}}}},_handleUngroup:function(c){var b=a.wijmo.wijgrid.getColumnByTravIdx(this.options.columns,c);if(b&&b.found){b=b.found;if(this._onColumnUngrouping({column:b})){this.ensureControl(false,{beforeRefresh:function(){delete b.groupedIndex;a.extend(true,b,{groupInfo:{position:"none"}})},afterRefresh:function(){this._onColumnUngrouped({column:b})}})}}},_onVirtualScrolling:function(f,c,g,b,e,d){this.ensureControl(true,{virtualScrollData:{newBounds:f,request:c,mode:g,data:d},afterRefresh:function(h){var i=this._field("viewRenderBounds");a.extend(i,h.virtualScrollData.newBounds);this._view()._adjustRowsHeights();e(b)}})},_handleVirtualScrolling:function(j,g){var i=this._dataStore.dataSource().items,b=this._field("viewRenderBounds"),c=this._ensureRenderBounds({start:j,end:j+this.options.pageSize-1}),h=this._ensureRenderBounds({start:this._dataOffset,end:this._dataOffset+i.length-1}),d=null,e,f;if(c.start>b.end||c.end<b.start){e="reset"}else{if(c.start>b.start){e="overlapBottom"}else{if(c.start<b.start){e="overlapTop"}else{}}}if(this._serverSideVirtualScrolling()){switch(e){case"reset":d={index:j,maxCount:this.options.pageSize};break;case"overlapBottom":if(c.end>h.end){d={index:h.end+1,maxCount:this.options.pageSize}}break;case"overlapTop":if(c.start<h.start){d={index:Math.max(0,h.start-this.options.pageSize)};d.maxCount=h.start-d.index}break}}if(e!=="none"){this._onVirtualScrolling(c,d,e,j,g)}},_serverSideVirtualScrolling:function(){return false},_serverSideVirtualScrollingMargin:function(){return this.options.pageSize*2},_onColumnDropping:function(b){return this._trigger("columnDropping",null,b)},_onColumnDropped:function(b){this._trigger("columnDropped",null,b)},_onColumnGrouping:function(b){return this._trigger("columnGrouping",null,b)},_onColumnGrouped:function(b){this._trigger("columnGrouped",null,b)},_onColumnUngrouping:function(b){return this._trigger("columnUngrouping",null,b)},_onColumnUngrouped:function(b){this._trigger("columnUngrouped",null,b)},_onColumnFiltering:function(b){return this._trigger("filtering",null,b)},_onColumnFiltered:function(b){this._trigger("filtered",null,b)},_onColumnSorting:function(b){return this._trigger("sorting",null,b)},_onColumnSorted:function(b){this._trigger("sorted",null,b)},_onCurrentCellChanged:function(){var c=this.options,b;b=this._field("currentCell");if(c.scrollMode!=="none"&&b&&!b.isEqual(b.outsideValue)){this._view().scrollTo(b)}this._trigger("currentCellChanged")},_onPageIndexChanging:function(b){return this._trigger("pageIndexChanging",null,b)},_onPageIndexChanged:function(b){this._trigger("pageIndexChanged",null,b)},_onPagerWidgetPageIndexChanging:function(c,b){b.handled=true},_onPagerWidgetPageIndexChanged:function(c,b){this._setOption("pageIndex",b.newPageIndex)},_onRendering:function(b){var c=this._view();this._rendered=false;if(b.virtualScrollData){this.selection().clear();if(this.options.highlightCurrentCell){this._highlightCellPosition(this.currentCell(),false)}}else{if(c){c.dispose()}this._detachEvents(false);this.element.detach();this.element.empty();this.outerDiv.empty();this.outerDiv.append(this.element);if(this._field("selectionui")){this._field("selectionui").dispose();this._field("selectionui",null)}if(this._field("resizer")){this._field("resizer").dispose()}if(this._field("frozener")){this._field("frozener").dispose()}}this._trigger("rendering")},_onRendered:function(b){var c=this._view(),e,f,d=this.selection().selectedCells().length()>0;this._rendered=true;this._setAttr(c.focusableElement(),"tabIndex",0);e=this.currentCell();if(e._isValid()&&(e=this.currentCell(e))){e._isEdit(false)}else{e=this.currentCell(this._getFirstDataRowCell(0))}this._field("selection",null);e=this.currentCell();if(e._isValid()&&(d||this.options.showSelectionOnRender)){this.selection()._startNewTransaction(e);this.selection()._selectRange(new a.wijmo.wijgrid.cellInfoRange(e,e),false,false,0,null)}if(!b.virtualScrollData){this._attachEvents();this._selectionui(true);f=new a.wijmo.wijgrid.resizer(this);a.each(this.columns(),function(h,g){var i=g.options;if(i.visible&&i.parentVis&&i.isLeaf){f.addElement(g)}});this._field("resizer",f);c.updateSplits(this._scrollingState);if(this.options.scrollMode!=="none"){this._field("frozener",new a.wijmo.wijgrid.frozener(this))}}this._renderCounter++;this._trigger("rendered")},_onClick:function(f){if(!this._canInteract()||!f.target){return}var h=this._view(),d=this._findUntilOuterDiv(f.target,{td:true,th:true}),e,b,c=0,g,i,j;if(d){if(a(f.target).hasClass("wijmo-wijgrid-grouptogglebtn")){this._onGroupBtnClick(f);f.stopPropagation();return false}e=a(d).closest("tr");if(!e.length){return}b=h.getAbsoluteCellInfo(d);if(e.hasClass("wijmo-wijgrid-datarow")||e.hasClass("wijmo-wijgrid-headerrow")){if(b.cellIndex()<0||b.rowIndex()<0){if(b.rowIndex()>=0){b=new a.wijmo.wijgrid.cellInfo(0,b.rowIndex());c=2}else{b=this._getFirstDataRowCell(b.cellIndex());c=1}}this._changeCurrentCell(b,true);g=this.currentCell();i=this.selection();if(!f.shiftKey||(!i._multipleRangesAllowed()&&this.options.selectionMode.toLowerCase()!=="singlerange")){i._startNewTransaction(g)}i.beginUpdate();if(f.shiftKey&&f.ctrlKey){i._clearRange(new a.wijmo.wijgrid.cellInfoRange(g,g),c)}else{i._selectRange(new a.wijmo.wijgrid.cellInfoRange(i._anchorCell(),g),f.ctrlKey,f.shiftKey,c,null)}i.endUpdate()}this._trigger("cellClicked",null,{cell:b})}},_onDblClick:function(b){this._beginEditInternal(b)},_onGroupBtnClick:function(d){if(!this._canInteract()){return}var b=a(d.target).closest("tr"),c=new a.wijmo.wijgrid.groupHelper(),e=c.getGroupInfo(b[0]),f,g;if(e){f=c.getColumnByGroupLevel(this._field("leaves"),e.level);if(f){g=f.groupInfo.expandInfo[e.index];if(g.isExpanded){g.collapse(d.shiftKey)}else{g.expand(d.shiftKey)}this.setSize()}}},_onKeyDown:function(f){if(!this._canInteract()){return true}var c=f.target.tagName.toLowerCase(),d=false,h,b,i,g,e=a.wijmo.wijgrid.getKeyCodeEnum();if((c==="input"||c==="option"||c==="select"||c==="textarea")&&(a(f.target).closest("tr.wijmo-wijgrid-datarow").length===0)){return true}if(this.options.allowEditing){if((f.which===e.ESCAPE||f.which===113)&&(this.currentCell()._isValid()&&this.currentCell()._isEdit())){this._endEditInternal(f);return false}else{if(f.which===113){this._beginEditInternal(f);return false}}}if(!this.options.allowKeyboardNavigation||(f.which===e.TAB)){return true}switch(f.which){case e.LEFT:case e.RIGHT:case e.DOWN:case e.UP:case e.PAGE_DOWN:case e.PAGE_UP:case e.HOME:case e.END:case e.TAB:h=this._getNextCurrencyPos(this._getDataCellsRange(),this.currentCell(),f.keyCode,f.shiftKey);d=this._canMoveToAnotherCell(f.target,f.which);break}if(d){this._changeCurrentCell(new a.wijmo.wijgrid.cellInfo(h.cellIndex,h.rowIndex),true);i=this.currentCell();g=this.selection();if(!f.shiftKey||(!g._multipleRangesAllowed()&&this.options.selectionMode.toLowerCase()!=="singlerange")){g._startNewTransaction(i)}g.beginUpdate();g._selectRange(new a.wijmo.wijgrid.cellInfoRange(g._anchorCell(),i),false,f.shiftKey,0,null);g.endUpdate();return false}return true},_onKeyPress:function(e){if(this._canInteract()&&this.options.allowEditing){var c=e.which,g=this.currentCell(),b,f,d;if(c&&g._isValid()&&!g._isEdit()){b=e.target.tagName.toLowerCase();if(b!=="input"&&b!=="option"&&b!=="select"&&b!=="textarea"){f=a(e.target).closest(".wijmo-wijgrid-table");if(f.length){d=a.map(this._view().subTables(),function(i,h){return i.element()});if(a.inArray(f[0],d)>=0){if(a.wij.charValidator.isPrintableChar(String.fromCharCode(c))){this._beginEditInternal(e);return false}}}}}}},_onMouseMove:function(g){var j=this._view(),e=this._field("frozener"),f,d,k,h,i,b,c=a.wijmo.wijgrid.renderState;if(!this.options.highlightOnHover||!this._canInteract()||(e&&e.inProgress())){return}f=this._findUntilOuterDiv(g.target,{td:true,th:true});if(f){d=a(f).closest("tr");if(!d.length||!(d.hasClass("wijmo-wijgrid-datarow")||d.hasClass("wijmo-wijgrid-headerrow"))){return}k=j.getAbsoluteCellInfo(f);h=this._field("hoveredRow");if(k.rowIndex()!==h){if(h!==undefined){i=this._rows().item(h);if(i){b=j._getRowInfo(i);j._changeRowRenderState(b,c.hovered,false);this.rowStyleFormatter.format(b)}}h=k.rowIndex();this._field("hoveredRow",h);if(h>=0){i=this._rows().item(h);if(i){b=j._getRowInfo(i);j._changeRowRenderState(b,c.hovered,true);this.rowStyleFormatter.format(b)}}}}},_onMouseOut:function(e){if(!this._canInteract()){return}if(a(e.relatedTarget).closest(".wijmo-wijgrid-data").length===0){var d=this._field("hoveredRow"),c,f,b=this._view();if(d>=0){c=this._rows().item(d);if(c){f=b._getRowInfo(c);b._changeRowRenderState(f,a.wijmo.wijgrid.renderState.hovered,false);this.rowStyleFormatter.format(f)}}}},_onWindowResize:function(c){var b=this;if(this._windowResizeTimer>0){window.clearTimeout(this._windowResizeTimer);this._windowResizeTimer=0}if(this._windowResizeTimer!==-1){this._windowResizeTimer=window.setTimeout(function(){b._windowResizeTimer=-1;try{if(!b._destroyed&&b._initialized&&b.element.parent().length){b.setSize()}}finally{b._windowResizeTimer=0}},50)}},_fieldResized:function(d,b,c){if(b<0){b=0}if(c<=0){c=1}if(this._trigger("columnResizing",null,{column:d.options,oldWidth:b,newWidth:c})!==false){d.option("width",c);this._trigger("columnResized",null,{column:d.options})}},_changeCurrentCell:function(f,e){var h=this.currentCell(),d=this._getDataCellsRange(),c,g,b=this.options.highlightCurrentCell,i;if((d._isValid()&&d._containsCellInfo(f))||(f.isEqual(f.outsideValue))){if(h.cellIndex()!==f.cellIndex()||h.rowIndex()!==f.rowIndex()){c={cellIndex:f.cellIndex(),rowIndex:f.rowIndex(),oldCellIndex:h.cellIndex(),oldRowIndex:h.rowIndex()};if(this._trigger("currentCellChanging",null,c)){g=false;if(!this.options.allowEditing||!h._isEdit()||(g=this._endEditInternal(null))){if(d._containsCellInfo(h)){if(b){this._highlightCellPosition(h,false)}if(i=h.tableCell()){a(i).removeAttr("tabIndex")}}h=f._clone();h._setGridView(this);if(b){this._highlightCellPosition(h,true)}if(i=h.tableCell()){a(i).attr("tabIndex",0);if(e&&!h._isEdit()){a(i).focus()}}this._field("currentCell",h);this._onCurrentCellChanged()}}}else{if(b){this._highlightCellPosition(h,true)}if(i=h.tableCell()){a(i).attr("tabIndex",0)}}}else{}},_highlightCellPosition:function(e,j){if(e&&e._isValid()){var i=e.cellIndexAbs(),g=e.rowIndexAbs(),d=a.wijmo.wijgrid.renderState,h=this._view(),f,c,b;f=h.getHeaderCell(i);if(f){c=h._getRowInfo(this._headerRows().item(e.column().thY));f=a(f);b=h._changeCellRenderState(f,d.current,j);this.cellStyleFormatter.format(f,i,e.column(),c,b)}f=h.getJoinedRows(g,0);if(f){c=h._getRowInfo(f);h._changeRowRenderState(c,d.current,j);this.rowStyleFormatter.format(c)}f=h.getCell(i,g);if(f){f=a(f);b=h._changeCellRenderState(f,d.current,j);this.cellStyleFormatter.format(f,i,e.column(),c,b)}}},_beginEditInternal:function(d){if(this._canInteract()&&this.options.allowEditing){var c=this.currentCell().column(),b;if(c&&!c.readOnly){b=new a.wijmo.wijgrid.cellEditorHelper().currentCellEditStart(this,d);if(b){}return b}}return false},_endEditInternal:function(c){if(this._canInteract()&&this.options.allowEditing){var b=new a.wijmo.wijgrid.cellEditorHelper().currentCellEditEnd(this,c);if(b&&!this._allowVirtualScrolling()){this._view().ensureHeight(this.currentCell().rowIndex())}return b}return false},_onViewInsertEmptyRow:function(f,b,c,d,e){return null},_onViewCreateEmptyCell:function(d,b,c){return null},_onViewCellRendered:function(e,d,b,c){},_onViewRowRendered:function(b){},_ensureDataParser:function(b){switch(b.dataType){case undefined:case"string":if(!b.dataParser){b.dataParser=a.wijmo.wijgrid.embeddedParsers.stringParser}break;case"boolean":if(!b.dataParser){b.dataParser=a.wijmo.wijgrid.embeddedParsers.boolParser}break;case"number":if(!b.dataParser){b.dataParser=a.wijmo.wijgrid.embeddedParsers.numberParser}break;case"currency":if(!b.dataParser){b.dataParser=a.wijmo.wijgrid.embeddedParsers.currencyParser}break;case"datetime":if(!b.dataParser){b.dataParser=a.wijmo.wijgrid.embeddedParsers.dateTimeParser}break;default:throw a.wijmo.wijgrid.stringFormat('Unsupported dataType value: "{0}"',b.dataType)}},_parseDOM:function(b,c){return b.dataParser.parseDOM(c,this._field("closestCulture"),b.dataFormatString,this.options.nullString,true)},_parse:function(c,d){var b=c.dataParser.parse(d,this._field("closestCulture"),c.dataFormatString,this.options.nullString,true);switch(c.dataType){case"datetime":if(b!==null&&!(b instanceof Date)){throw"invalid value."}break;case"number":case"currency":if(b!==null&&(typeof(b)!=="number"||isNaN(b))){throw"invalid value."}break;case"boolean":if(b!==null&&(typeof(b)!=="boolean"||isNaN(b))){throw"invalid value."}break;case"string":if(b!==null&&typeof(b)!=="string"){throw"invalid value."}break}return b},_toStr:function(b,c){return b.dataParser.toStr(c,this._field("closestCulture"),b.dataFormatString,this.options.nullString,true)},_funcOptions:function(){return["cellStyleFormatter","rowStyleFormatter","afterCellEdit","afterCellUpdate","beforeCellEdit","beforeCellUpdate","cellClicked","columnDragging","columnDragged","columnDropping","columnDropped","columnResizing","columnResized","columnGrouping","columnGrouped","columnUngrouping","columnUngrouped","currentCellChanging","currentCellChanged","filtering","filtered","filterOperatorsListShowing","groupAggregate","groupText","invalidCellValue","pageIndexChanging","pageIndexChanged","selectionChanged","sorting","sorted","ajaxError","dataLoading","dataLoaded","loading","loaded","rendering","rendered"]},_canInteract:function(){return !this.options.disabled},_canMoveToAnotherCell:function(g,f){var c=g.tagName.toLowerCase(),b,h,e,d;switch(c){case"input":if(a(g).hasClass("wijgridinput")){if(g.type==="text"){b=g.value.length;h=new a.wijmo.wijgrid.domSelection(g).getSelection();e=a.wijmo.wijgrid.getKeyCodeEnum();d=((f===e.UP||f===e.DOWN||f===e.PAGE_DOWN||f===e.PAGE_UP)||(h.length===0&&((h.start===0&&(f===e.LEFT||f===e.HOME))||(h.end>=b&&(f===e.RIGHT||f===e.END)))));return d}return true}return false;case"textarea":case"select":return false}return true},_getDataToAbsOffset:function(){var b=0,d=0,c=this._headerRows();if(this.options.showRowHeader){b++}if(c){d+=c.length()}if(this._filterRow()){d++}return{x:b,y:d}},_getDataCellsRange:function(){var d=0,b=0,c=this._field("visibleLeaves").length-1,e=(this._rendered)?this._rows().length()-1:this.sketchTable.length-1;if(this.options.showRowHeader){c--}if(c<0||e<0){d=b=c=e=-1}return new a.wijmo.wijgrid.cellInfoRange(new a.wijmo.wijgrid.cellInfo(d,b),new a.wijmo.wijgrid.cellInfo(c,e))},_getDataItem:function(b){return this.data()[b]},_getFirstDataRowCell:function(g){var h,c,f,d=this._view(),e=this._rows(),b=a.wijmo.wijgrid.rowType;for(h=0,c=e.length();h<c;h++){f=d._getRowInfo(e.item(h));if(f.type&b.data){return new a.wijmo.wijgrid.cellInfo(g,h)}}return a.wijmo.wijgrid.cellInfo.prototype.outsideValue},_getNextCurrencyPos:function(f,e,h,b){var d=e.cellIndex(),i=e.rowIndex(),g,c=a.wijmo.wijgrid.getKeyCodeEnum();switch(h){case c.PAGE_UP:if(this._reverseKey&&i===f.topLeft().rowIndex()){i=f.bottomRight().rowIndex()}else{i-=this._pageSizeKey;if(i<(g=f.topLeft().rowIndex())){i=g}}break;case c.PAGE_DOWN:if(this._reverseKey&&i===f.bottomRight().rowIndex()){i=f.TopLeft().RowIndex()}else{i+=this._pageSizeKey;if(i>(g=f.bottomRight().rowIndex())){i=g}}break;case c.END:d=(this._reverseKey&&d===f.bottomRight().cellIndex())?f.topLeft().cellIndex():f.bottomRight().cellIndex();break;case c.HOME:d=(this._reverseKey&&d===f.topLeft().cellIndex())?f.bottomRight().cellIndex():f.topLeft().cellIndex();break;case c.LEFT:if(d>f.topLeft().cellIndex()){d--}else{if(this._reverseKey){d=f.bottomRight().cellIndex()}}break;case c.UP:if(i>f.topLeft().rowIndex()){i--}else{if(this._reverseKey){i=f.bottomRight().rowIndex()}}break;case c.RIGHT:if(d<f.bottomRight().cellIndex()){d++}else{if(this._reverseKey){d=f.topLeft().cellIndex()}}break;case c.ENTER:case c.DOWN:if(i<f.bottomRight().rowIndex()){i++}else{if(this._reverseKey){i=f.topLeft().rowIndex()}}break;case c.TAB:if(false){if(b){d--;if(d<f.topLeft().cellIndex()){d=f.bottomRight().cellIndex();i--;if(i<f.topLeft().rowIndex()){i=f.bottomRight().rowIndex()}}}else{d++;if(d>f.bottomRight().cellIndex()){d=f.topLeft().cellIndex();i++;if(i>f.bottomRight().rowIndex()){i=f.topLeft().rowIndex()}}}}break}return{cellIndex:d,rowIndex:i}},_findUntilOuterDiv:function(g,b){var e=g,c,f,d=null;for(;e;e=e.parentNode){f=e.nodeName.toLowerCase();if(f){if(e===this.outerDiv[0]){c=e;break}if(b[f]){d=e}}}return c?d:null},_getStaticIndex:function(d){var b,c=this._getDataCellsRange();if(this._hasSpannedCells()){return -1}if(d){b=Math.min(this.options.staticRowIndex,c.bottomRight().rowIndex())}else{b=Math.min(this.options.staticColumnIndex,c.bottomRight().cellIndex())}if(b<-1){b=-1}return b},_getStaticOffsetIndex:function(b){var c=0;if(b){if(this.options.showRowHeader===true){c++}}else{c=this._field("columnHeadersTable").length;if(this.options.showFilter){c++}}return c},_getRealStaticColumnIndex:function(){var g,c,e=this._getStaticOffsetIndex(true),f=this._getStaticIndex(false),b,d;b=f+e;if(f>=0){g=this._field("visibleLeaves");c=g.length;d=b;for(;b<c;b++){if(g[b].parentIdx===-1){if(b>d){b--}break}}if(b>=c){b=c-1}}return b},_getRealStaticRowIndex:function(){var b=this._getStaticOffsetIndex(false);return this._getStaticIndex(true)+b},_hasMerging:function(){var f=this._field("leaves"),e,c,d,b=false;if(f){for(e=0,c=f.length;(e<c)&&!b;e++){d=f[e];b|=d.parentVis&&(d.rowMerge!=="none")}}return b},_hasGrouping:function(){var f=this._field("leaves"),e,c,d,b=false;for(e=0,c=f.length;(e<c)&&!b;e++){d=f[e];b=d.groupInfo&&(d.groupInfo.position!=="none")}return b},_hasSpannedCells:function(){return this._hasGrouping()||this._hasMerging()},_view:function(){return this._field("view")},_originalFooterRowData:function(){var b=this._field("tfoot");return(b&&b.length)?b[0]:null},_originalHeaderRowData:function(){var b=this._field("thead");return(b&&b.length)?b[0]:null},_setAttr:function(b,d,e){var c=this;if(b===this.element){if(arguments.length===2){a.each(d,function(g,f){if(!(g in c._originalAttr)){c._originalAttr[g]=b.attr(g)}});return b.attr(d)}else{if(!(d in this._originalAttr)){this._originalAttr[d]=b.attr(d)}return b.attr(d,e)}}else{return(arguments.length===3)?b.attr(d,e):b.attr(d)}return this},_totalRowsCount:function(){if(this._dataStore.isDynamic()){return this._dataStore.totalCount()}return this.sketchTable.length},_trackScrollingPosition:function(b,c){this._scrollingState.x=b;this._scrollingState.y=c},_trackScrollingIndex:function(b){this._scrollingState.index=b}})})(jQuery);(function(a){a.widget("wijmo.c1basefield",{_data$prefix:"c1basefield",options:{allowMoving:true,allowSizing:true,cellFormatter:undefined,dataKey:undefined,ensurePxWidth:undefined,footerText:undefined,headerText:undefined,visible:true,width:undefined},_create:function(){var b=this.options.owner;this._destroyed=false;this.element.addClass("ui-widget wijmo-c1basefield ui-state-default");this._field("owner",b);delete this.options.owner;this._field("widgetName",this.widgetFullName);if(this.options.disabled){this.disable()}if(b.options.allowColMoving){b._dragndrop(true).attach(this)}},_init:function(){this.element.wrapInner("<div class='wijmo-wijgrid-innercell'></div>");this._refreshHeaderCell()},destroy:function(){try{a.Widget.prototype.destroy.apply(this,arguments)}finally{this._destroyed=true}},_destroy:function(){if(this._isDestroyed()){return}var b=this._owner();if(b&&b._dragndrop(false)){b._dragndrop(false).detach(this)}a.wijmo.wijgrid.remove$dataByPrefix(this.element,this._data$prefix);this.element.removeClass("ui-widget wijmo-c1basefield ui-state-default").html(this.element.find(".wijmo-wijgrid-headertext").contents())},_field:function(b,c){return a.wijmo.wijgrid.dataPrefix(this.element,this._data$prefix,b,c)},_removeField:function(b){var c=this._data$prefix+b;this.element.removeData(c)},_setOption:function(e,g,b){var h=this["_preset_"+e],d=this.options[e],f,c;if(h!==undefined){g=h.apply(this,[g,d,b])}f=(g!==d);a.Widget.prototype._setOption.apply(this,[e,g]);if(f){c=this["_postset_"+e];if(c!==undefined){c.apply(this,[g,d,b])}}},_postset_allowMoving:function(d,c,b){this._invokeGroupedColumn("allowMoving",d,b)},_preset_clientType:function(c,b){throw"read-only"},_postset_headerText:function(d,c,b){this._refreshHeaderCell();this._invokeGroupedColumn("headerText",d,b)},_postset_visible:function(c,b){this._owner().ensureControl(false)},_postset_width:function(e,b){var c=this._owner(),d;if(c){this.options.ensurePxWidth=true;var d=a.wijmo.wijgrid.getColumnByTravIdx(c.options.columns,this.options.travIdx);if(d){d.found.width=e;d.found.ensurePxWidth=true}c.setSize()}},_invokeGroupedColumn:function(d,e,c){if(!c&&this.options.groupedIndex!==undefined){var b=this._owner()._field("groupedWidgets")[this.options.groupedIndex];b._setOption(d,e,true)}},_owner:function(){return this._field("owner")},_canSize:function(){return this.options.allowSizing&&this._owner().options.allowColSizing},_canDrag:function(){return this.options.allowMoving===true},_canDropTo:function(b){if(a.wijmo.wijgrid.isChildOf(this._owner().options.columns,b,this)){return false}return true},_createHeaderContent:function(b){return b.html(this.options.headerText||"")},_decorateHeaderContent:function(b){return b.wrapInner('<span class="wijmo-wijgrid-headertext" />')},_refreshHeaderCell:function(){var b=this.element.children(".wijmo-wijgrid-innercell").empty();this._createHeaderContent(b);this._decorateHeaderContent(b)},_isDestroyed:function(){return this._destroyed}})})(jQuery);(function(a){a.widget("wijmo.c1field",a.wijmo.c1basefield,{options:{aggregate:"none",allowSort:true,dataType:"string",dataParser:undefined,dataFormatString:undefined,filterOperator:"nofilter",filterValue:undefined,groupInfo:{expandInfo:[],groupSingleRow:true,collapsedImageClass:"ui-icon-triangle-1-e",expandedImageClass:"ui-icon-triangle-1-se",position:"none",outlineMode:"startExpanded",headerText:undefined,footerText:undefined},readOnly:false,rowMerge:"none",showFilter:true,sortDirection:"none",valueRequired:false},_create:function(){a.wijmo.c1basefield.prototype._create.apply(this,arguments);this.element.addClass("ui-widget wijmo-c1field")},_destroy:function(){if(this._isDestroyed()){return}this.element.find("*").unbind("."+this.widgetName);if(this.$filterEditor){this.$filterEditor.closest("td").find("*").unbind("."+this.widgetName);switch(this._getInputEditorType(this.options)){case"date":if(this.$filterEditor.data("wijmo-wijinputdate")){this.$filterEditor.wijinputdate("destroy")}break;case"mask":if(this.$filterEditor.data("wijmo-wijinputmask")){this.$filterEditor.wijinputmask("destroy")}break;case"numberCurrency":case"numberNumber":case"numberPercent":if(this.$filterEditor.data("wijmo-wijinputnumber")){this.$filterEditor.wijinputnumber("destroy")}break}this.$filterEditor=null}this.element.removeClass("ui-widget wijmo-c1field").find(".wijmo-wijgrid-headertext > span.ui-icon").remove();this._removeDropDownFilterList();a.wijmo.c1basefield.prototype._destroy.apply(this,arguments)},_init:function(){a.wijmo.c1basefield.prototype._init.apply(this,arguments);this.$filterEditor=null;var b=this._owner();this.filterRow=b._filterRow();if(b.options.showFilter&&this.options.showFilter&&(this.options.dataIndex>=0)){this._prepareFilterCell()}},_postset_aggregate:function(c,b){this._owner().ensureControl(false)},_postset_allowSort:function(d,c,b){this._refreshHeaderCell();this._invokeGroupedColumn("allowSort",d,b)},_postset_dataType:function(c,b){throw"read-only"},_postset_dataParser:function(c,b){this._owner().ensureControl(false)},_postset_dataFormatString:function(c,b){this._owner().ensureControl(false)},_postset_filterOperator:function(c,b){this._owner().ensureControl(true)},_postset_filterValue:function(c,b){this._owner().ensureControl(true)},_postset_groupInfo:function(c,b){this._owner().ensureControl(true)},_postset_rowMerge:function(c,b){this._owner().ensureControl(false)},_postset_showFilter:function(c,b){this._owner().ensureControl(false)},_postset_sortDirection:function(c,b){this.options.sortOrder=0;this._owner().ensureControl(true)},_postset_width:function(c,b){a.wijmo.c1basefield.prototype._postset_width.apply(this,arguments)},_canDropTo:function(b){if(a.wijmo.c1basefield.prototype._canDropTo.apply(this,arguments)){if(this.options.groupedIndex!==undefined&&(b instanceof a.wijmo.c1groupedfield)){return false}return true}return false},_canSort:function(){var b=this._owner();return(b&&b.options.allowSorting&&this.options.allowSort&&(this.options.dataIndex>=0))},_decorateHeaderContent:function(c){if(this._canSort()){var b=c.wrapInner('<a class="wijmo-wijgrid-headertext" href="#" role="button" />').children("a");b.bind("click."+this.widgetName,this,this._onHrefClick);switch(this.options.sortDirection){case"ascending":b.append(a('<span class="ui-icon ui-icon-triangle-1-n">ascending</span>'));break;case"descending":b.append(a('<span class="ui-icon ui-icon-triangle-1-s">descending</span>'));break}}else{a.wijmo.c1basefield.prototype._decorateHeaderContent.apply(this,arguments)}},_prepareFilterCell:function(){var h=this.options.visLeavesIdx,f=null,c=null,e,g,d=this,b;if(h>=0){f=this._owner();if(this.filterRow){c=a(new a.wijmo.wijgrid.rowAccessor().getCell(this.filterRow,h))}else{throw"exception"}this.$filterEditor=c.find("input");c.bind((a.support.selectstart?"selectstart":"mousedown"),function(i){i.stopPropagation()});e=f._parse(this.options,a.wijmo.wijgrid.filterHelper.getSingleValue(this.options.filterValue));if(e===null){switch(this.options.dataType){case"boolean":e=false;break;case"number":case"currency":case"datetime":e=0;break;default:e=""}}g={culture:f.options.culture,disabled:f.options.disabled,decimalPlaces:(function(i){var j=/^(n|p|c){1}(\d*)$/.exec(i);if(j){if(j[2]){return parseInt(j[2],10)}}return 2})(this.options.dataFormatString)};switch(b=this._getInputEditorType(this.options)){case"date":this.$filterEditor.wijinputdate(a.extend(g,{date:e,dateFormat:this.options.dataFormatString||undefined}));break;case"mask":this.$filterEditor.wijinputmask({text:e+""});break;case"numberCurrency":this.$filterEditor.wijinputnumber(a.extend(g,{type:"currency",value:e}));break;case"numberNumber":this.$filterEditor.wijinputnumber(a.extend(g,{value:e}));break;case"numberPercent":this.$filterEditor.wijinputnumber(a.extend(g,{type:"percent",value:e*100}));break;default:throw a.wijmo.wijgrid.stringFormat('Unsupported editor type: "{0}"',b)}c.find(".wijmo-wijgrid-filter-trigger").attr({role:"button","aria-haspopup":"true"}).bind("mouseenter."+this.widgetName,function(i){if(!d.options.disabled){a(this).addClass("ui-state-hover")}}).bind("mouseleave."+this.widgetName,function(i){if(!d.options.disabled){a(this).removeClass("ui-state-hover ui-state-active")}}).bind("mouseup."+this.widgetName,this,function(i){if(!d.options.disabled){a(this).removeClass("ui-state-active")}}).bind("mousedown."+this.widgetName,{column:this},this._onFilterBtnClick).bind("click."+this.widgetName,function(i){i.preventDefault()})}},_onFilterBtnClick:function(j){var f=j.data.column,h=8,i,g,k,l,m,o,c,b,d,n;if(f.options.disabled){return false}if(f.$dropDownFilterList){f._removeDropDownFilterList();return false}j.target.focus();i=f._owner();g=a.wijmo.wijgrid.filterHelper.getSingleOperatorName(f.options.filterOperator).toLowerCase();k=i.filterOperatorsCache.getByDataType(f.options.dataType);i.filterOperatorsCache.sort(k,i.options.filterOperatorsSortMode);l=a.extend(true,{},{operators:k,column:f.options});i._trigger("filterOperatorsListShowing",null,l);m=[];if(l.operators){for(o in l.operators){if(l.operators.hasOwnProperty(o)){c=l.operators[o];m.push({label:c.displayName||c.name,value:c.name,selected:c.name.toLowerCase()===g})}}}f.$dropDownFilterList=a('<div class="wijmo-wijgrid-filterlist"></div').appendTo(document.body).wijlist({autoSize:true,maxItemsCount:h,selected:function(q,p){var r,e;switch(e=f._getInputEditorType(f.options)){case"date":r=f.$filterEditor.wijinputdate("option","date")||new Date();break;case"mask":r=f.$filterEditor.wijinputmask("option","text");break;case"numberCurrency":case"numberNumber":case"numberPercent":r=f.$filterEditor.wijinputnumber("option","value");if(e==="numberPercent"){r/=100}break}f._removeDropDownFilterList();i._handleFilter(f,p.item.value,r)}});if(a.ui&&a.fn.zIndex){n=i.outerDiv.zIndex();if(n){n++}}f.$dropDownFilterList.css("z-index",Math.max(n||0,100));f.$dropDownFilterList.wijlist("setItems",m).wijlist("renderList");b=f.$dropDownFilterList.width()|150;f.$dropDownFilterList.width(m.length>h?b+20:b).wijlist("refreshSuperPanel").position({of:a(this),my:"left top",at:"left bottom"});f.$dropDownFilterList.$button=a(this);d=f.$dropDownFilterList.eventUID=a.wijmo.wijgrid.getUID();a(document).bind("mousedown."+f.widgetName+"."+d,{column:f},f._onDocMouseDown)},_onDocMouseDown:function(f){var b=a(f.target),c=b.parents(".wijmo-wijgrid-filterlist:first"),d=b.is(".wijmo-wijgrid-filter-trigger")?b:b.parents(".wijmo-wijgrid-filter-trigger:first");if((d.length&&(d[0]===f.data.column.$dropDownFilterList.$button[0]))||(c.length&&(c[0]===f.data.column.$dropDownFilterList[0]))){}else{f.data.column._removeDropDownFilterList()}},_onHrefClick:function(b){if(b.data.options.disabled){return false}if(b.data.options.allowSort){b.data._owner()._handleSort(b.data.options,b.ctrlKey)}return false},_removeDropDownFilterList:function(){if(this.$dropDownFilterList){var b=this.$dropDownFilterList.eventUID;this.$dropDownFilterList.remove();this.$dropDownFilterList=null;a(document).unbind("mousedown."+this.widgetName+"."+b,this._onDocMouseDown)}},_getInputEditorType:function(b){switch(b.dataType){case"number":return(b.dataFormatString&&b.dataFormatString.indexOf("p")===0)?"numberPercent":"numberNumber";case"currency":return"numberCurrency";case"datetime":return"date";default:return"mask"}}})})(jQuery);(function(a){a.widget("wijmo.c1groupedfield",{_data$prefix:"c1groupedfield",options:{allowMoving:true,allowSort:true,headerText:undefined,sortDirection:"none"},_create:function(){var b=this.options.owner;this._destroyed=false;this.element.addClass("wijmo-wijgrid-group-button ui-state-default ui-corner-all");this._field("owner",b);delete this.options.owner;if(this.options.disabled){this.disable()}if(b.options.allowColMoving){b._dragndrop(true).attach(this)}},_init:function(){this._refreshHeaderCell()},destroy:function(){try{a.Widget.prototype.destroy.apply(this,arguments)}finally{this._destroyed=true}},_destroy:function(){if(this._isDestroyed()){return}this.element.find("*").unbind("."+this.widgetName);var b=this._owner();if(b&&b._dragndrop(false)){b._dragndrop(false).detach(this)}a.wijmo.wijgrid.remove$dataByPrefix(this.element,this._data$prefix)},_field:function(b,c){return a.wijmo.wijgrid.dataPrefix(this.element,this._data$prefix,b,c)},_removeField:function(b){var c=this._data$prefix+b;this.element.removeData(c)},_setOption:function(e,g,b){var h=this["_preset_"+e],d=this.options[e],f,c;if(h!==undefined){g=h.apply(this,[g,d,b])}f=(g!==d);a.Widget.prototype._setOption.apply(this,[e,g]);if(f){c=this["_postset_"+e];if(c!==undefined){c.apply(this,[g,d,b])}}},_postset_headerText:function(d,c,b){this._refreshHeaderCell()},_postset_allowSort:function(d,c,b){this._refreshHeaderCell()},_owner:function(){return this._field("owner")},_canSize:function(){return this.options.allowSizing&&this._owner().options.allowColSizing},_canDrag:function(){return this.options.allowMoving===true},_canDropTo:function(b){if(!(b instanceof a.wijmo.c1groupedfield)){return false}if(a.wijmo.wijgrid.isChildOf(this._owner().options.columns,b,this)){return false}return true},_canSort:function(){var b=this._owner();return(b&&b.options.allowSorting&&this.options.allowSort&&(this.options.dataIndex>=0))},_refreshHeaderCell:function(){var b=a('<span class="wijmo-wijgrid-group-button-close ui-state-default ui-corner-all"><span class="ui-icon ui-icon-close"></span></span>').bind("click."+this.widgetName,this,this._onCloseClick);this.element.html(this.options.headerText||"").prepend(b).bind("click."+this.widgetName,this,this._onHrefClick);if(this._canSort()){switch(this.options.sortDirection){case"ascending":this.element.append(a('<span class="wijmo-wijgrid-group-button-sort ui-icon ui-icon-triangle-1-n"></span>'));break;case"descending":this.element.append(a('<span class="wijmo-wijgrid-group-button-sort ui-icon ui-icon-triangle-1-s"></span>'));break}}},_onCloseClick:function(c){var b=c.data.options;if(!b.disabled){c.data._owner()._handleUngroup(c.data.options.travIdx)}return false},_onHrefClick:function(c){var d=c.data._owner(),b=c.data.options,e;if(!b.disabled&&b.allowSort){e=a.wijmo.wijgrid.search(d.columns(),function(f){return f.options.travIdx===b.travIdx});e=(!e.found)?a.wijmo.wijgrid.getColumnByTravIdx(d.options.columns,b.travIdx).found:e.found.options;if(e){d._handleSort(e,c.ctrlKey)}}return false},_isDestroyed:function(){return this._destroyed}})})(jQuery);(function(a){a.widget("wijmo.c1band",a.wijmo.c1basefield,{options:{columns:[]},_create:function(){a.wijmo.c1basefield.prototype._create.apply(this,arguments);this.element.addClass("ui-widget wijmo-c1band")},_canDropTo:function(b){if(a.wijmo.c1basefield.prototype._canDropTo.apply(this,arguments)){return !(b instanceof a.wijmo.c1groupedfield)}return false}})})(jQuery);(function(a){a.extend(a.wijmo.wijgrid,{bandProcessor:function(){var c,e,f,h,d,g,b;this.generateSpanTable=function(i,k){c=e=g=d=0;f=[];h=[];b=[];var j=this._generateSpanTable(i,k,true);return j};this._generateSpanTable=function(k,o,m){var n,l;c=this._getVisibleHeight(k,m);o=o||[];a.wijmo.wijgrid.traverse(k,function(i){if(i.isLeaf){o.push(i)}h.push(i)});e=o.length;for(n=0;n<c;n++){f[n]=[];for(l=0;l<e;l++){f[n][l]={column:null,colSpan:0,rowSpan:0}}}this._setTableValues(k,0,0);return f};this._getVisibleHeight=function(l,m){var o,k,p,n,j=0;if(a.isArray(l)){for(o=0,k=l.length;o<k;o++){n=this._getVisibleHeight(l[o],m);j=Math.max(j,n)}}else{p=(l.visible===undefined)?true:l.visible;l.parentVis=p&&m;if(l.isBand){for(o=0,k=l.columns.length;o<k;o++){n=this._getVisibleHeight(l.columns[o],l.parentVis);j=Math.max(j,n)}if(!l.parentVis){return j}l.isLeaf=(j===0);j++}else{l.isLeaf=true;if(l.parentVis){j=1}}}return j};this._getVisibleParent=function(i){while(i){i=h[i.parentIdx];if(i&&(i.parentVis||i.parentVis===undefined)){return i}}return null};this._setTableValues=function(p,o,q){var l,n,m,k,r,j;if(a.isArray(p)){for(l=0,n=p.length;l<n;l++){this._setTableValues(p[l],o,q)}}else{if(p.travIdx===undefined){throw"undefined travIdx"}m=q+d;if(p.parentVis){k=m+g;f[o][k].column=p;b[p.travIdx]=k}if(p.isBand){for(l=0,n=p.columns.length;l<n;l++){this._setTableValues(p.columns[l],o+1,q)}}if(p.parentVis){if(d-m===0){f[o][b[p.travIdx]].rowSpan=c-o;d++}else{f[o][b[p.travIdx]].colSpan=d-m}}else{if(!p.isBand&&c>0){j=this._getVisibleParent(p);r=(j)?j.isLeaf:false;if(r){g++}if(o>=c){o=c-1}k=q+d+g;f[o][k].column=p;if(!r){if(j&&(b[j.travIdx]===k)){this._shiftTableElements(k,o)}g++}}}}};this._shiftTableElements=function(j,k){var l;for(l=0;l<k;l++){f[l][j+1]=f[l][j];f[l][j]={column:null,colSpan:0,rowSpan:0};if(f[l][j+1].column){b[f[l][j+1].column.travIdx]++}}}},getAllLeaves:function(b){var c=[];this._getAllLeaves(b,c);return c},_getAllLeaves:function(e,g){var d,c,f,b;if(e){for(d=0,c=e.length;d<c;d++){f=e[d];if(f.options){f=f.options}b=f.columns;if(b&&b.length){this._getAllLeaves(b,g)}else{g.push(f)}}}},getColumnByTravIdx:function(f,d){var e,c,g,b=null;if(f&&d>=0){for(e=0,c=f.length;e<c&&!b;e++){g=f[e];if(g.options){g=g.options}if(g.travIdx===d){return{found:g,at:f}}if(g.columns){b=this.getColumnByTravIdx(g.columns,d)}}}return b},isChildOf:function(b,e,c){if(e.options){e=e.options}if(c.options){c=c.options}if(c.isBand&&e.parentIdx>=0){if(e.parentIdx===c.travIdx){return true}if(e.parentIdx>c.travIdx){var d=this.flatten(b);while(true){e=d[e.parentIdx];if(e.travIdx===c.travIdx){return true}if(e.parentIdx===-1){break}}}}return false},getLeaves:function(b){var c=[];this._getLeaves(b,c);return c},_getLeaves:function(d,f){var c,b,e;if(d){for(c=0,b=d.length;c<b;c++){e=d[c];if(e.isLeaf){f.push(e)}if(e.columns){this._getLeaves(e.columns,f)}}}},setTraverseIndex:function(b){return this._setTraverseIndex(b,0,-1)},_setTraverseIndex:function(e,c,g){var d,b,f;if(e){for(d=0,b=e.length;d<b;d++){f=e[d];if(f.options){f=f.options}f.linearIdx=d;f.travIdx=c++;f.parentIdx=g;if(f.columns){c=this._setTraverseIndex(f.columns,c,c-1)}}}return c},flatten:function(c){var b=[];this.traverse(c,function(d){b.push(d)});return b},traverse:function(d,f){var c,b,e;if(d&&(a.isFunction(f))){for(c=0;c<d.length;c++){e=d[c];if(e.options){e=e.options}b=d.length;f(e,d);if(d.length!==b){c--;continue}if(e.columns){this.traverse(e.columns,f)}}}},getAriaHeaders:function(d,h){var f,c,e,g,b=[];for(f=0,c=d.length;f<c;f++){e=d[f];g="";do{g+=escape(e.headerText)+" "}while((e=h[e.parentIdx]));b[f]=a.trim(g)}return b}})})(jQuery);(function(a){a.extend(a.wijmo.wijgrid,{getTableSection:function(b,c){if(b&&!b.nodeType){b=b[0]}if(b){switch(c){case 1:return b.tHead;case 2:if(b.tBodies){return b.tBodies[0]||null}break;case 3:return b.tFoot;default:return b}}return null},getTableSectionLength:function(b,c){if(b&&!b.nodeType){b=b[0]}return(b&&(c=this.getTableSection(b,c)))?c.rows.length:0},getTableSectionRow:function(b,c,d){if(b&&!b.nodeType){b=b[0]}return(b&&(c=this.getTableSection(b,c)))?c.rows[d]||null:null},readTableSection:function(i,g,e){var f,h,l,b,k,c,j=[],d=function(m){m=m.toLowerCase();return m==="rowspan"||m==="colspan"};if(i&&!i.nodeType){i=i[0]}if(i&&(g=this.getTableSection(i,g))){for(f=0,h=g.rows.length;f<h;f++){k=g.rows[f];c=[];if(e){c.rowAttributes=a.wijmo.wijgrid.getAttributes(k)||{};c.cellsAttributes=[]}for(l=0,b=k.cells.length;l<b;l++){c[l]=a.trim(k.cells[l].innerHTML);if(e){c.cellsAttributes[l]=a.wijmo.wijgrid.getAttributes(k.cells[l],d)||{}}}j[f]=c}}return j}})})(jQuery);(function($){$.extend($.wijmo.wijgrid,{dataMode:{dom:1,statical:2,remoteStatical:4,dynamical:8},dataStore:function(wijgrid){var _dataSource=null,_self=this,_isLoaded=false,_disposed=false,_clonedItems=null,_attributes=null,_transformedData,_parsed=false,_transformed=false,_originalReader=null,_originalLoading=null,_originalLoaded=null,_originalProxyError=null;this.dataMode=function(){return _dataMode()};this.dispose=function(){if(_dataSource){_dataSource.reader=_originalReader;_dataSource.loading=_originalLoading;_dataSource.loaded=_originalLoaded;if(_dataSource.proxy){_dataSource.proxy.options.error=_originalProxyError}_disposed=true}};this.dataSource=function(){return _dataSource};this.getFieldNames=function(){_ensureDataLoaded();var result=[],key,firstItem;if(_dataSource.items&&_dataSource.items.length){firstItem=_dataSource.items[0]}else{if((_dataMode()===$.wijmo.wijgrid.dataMode.dom)&&_dataSource.header&&_dataSource.header.length){firstItem=_dataSource.header[0]}}if(firstItem){$.each(firstItem,function(key,val){result.push((!isNaN(key))?parseInt(key,10):key)})}return result};this.wrapDataItem=function(dataItem,dataItemIndex,readAttributes){var attributes,tmp={};if(readAttributes){if(dataItem.rowAttributes||dataItem.cellsAttributes){attributes={rowAttributes:dataItem.rowAttributes,cellsAttributes:dataItem.cellsAttributes};delete dataItem.rowAttributes;delete dataItem.cellsAttributes}else{$.each(dataItem,function(key,value){if($.isArray(value)){tmp[key]=value[1];dataItem[key]=value[0]}attributes={rowAttributes:{},cellsAttributes:tmp}})}}return{values:dataItem,originalRowIndex:dataItemIndex,attributes:attributes}};this.getDataSlice=function(){_ensureDataLoaded();if(!_parsed){_parsed=true;_parseData(_clonedItems)}if(!_transformed){_transformed=true;if(!this.isDynamic()){_transformedData=_transform(_clonedItems,_dataSource.emptyData)}else{_transformedData={data:_clonedItems,totalRows:_dataSource.data.totalRows,totals:_dataSource.data.totals||{},emptyData:_dataSource.emptyData}}}return _transformedData};this.load=function(userData){if(!_dataSource){_dataSource=$.proxy(_createDataSource,this)(wijgrid)}if(this.isDynamic()&&wijgrid._customPagingEnabled()){throw"Dynamic wijdatasource and custom paging cannot be used at the same time"}if(this.isDynamic()&&wijgrid.options.allowVirtualScrolling){throw"Dynamic wijdatasource and virtual scrolling can not be used at the same time."}if(this.isDynamic()){userData.data=_prepareRequest();if(_dataSource.proxy){_dataSource.proxy.options.data=$.extend(_dataSource.proxy.options.data,userData.data)}_attributes=null;_dataSource.load(userData,true)}else{if(!_isLoaded){_attributes=null;_dataSource.load(userData)}else{_dataLoading(_dataSource,userData);_dataLoaded(_dataSource,userData)}}};this.isLoaded=function(){return _isLoaded};this.isDynamic=function(){return _dataMode()===$.wijmo.wijgrid.dataMode.dynamical};this.totalCount=function(){_ensureDataLoaded();if(this.isDynamic()){return _dataSource.data?_dataSource.data.totalRows||0:0}return(_dataSource.items)?_dataSource.items.length:0};this.updateValue=function(originalRowIndex,dataKey,newValue){_ensureDataLoaded();this.dataSource().items[originalRowIndex][dataKey]=newValue};function _createDataSource(grid){var dataSource=null,gridData=grid.options.data;if(gridData===null){dataSource=new wijdatasource({data:grid.element,reader:new _dataReaderWrapper(new _domTableDataReader()),loading:$.proxy(_dataLoading,this),loaded:$.proxy(_dataLoaded,this)})}else{if($.isArray(gridData)){dataSource=new wijdatasource({data:gridData,reader:new _dataReaderWrapper(new wijarrayreader()),loading:$.proxy(_dataLoading,this),loaded:$.proxy(_dataLoaded,this)})}else{dataSource=gridData;_originalReader=dataSource.reader;dataSource.reader=new _dataReaderWrapper(dataSource.reader);_originalLoading=dataSource.loading;dataSource.loading=$.proxy(function(ds,data){if($.isFunction(_originalLoading)){_originalLoading.apply(this,arguments)}_dataLoading.apply(this,arguments)},this);_originalLoaded=dataSource.loaded;dataSource.loaded=$.proxy(function(ds,data){if($.isFunction(_originalLoaded)){_originalLoaded.apply(this,arguments)}_dataLoaded.apply(this,arguments)},this);if(dataSource.proxy&&dataSource.proxy.options){_originalProxyError=dataSource.proxy.options.error;dataSource.proxy.options.error=function(){_error.apply(this,arguments);if($.isFunction(_originalProxyError)){_originalProxyError.apply(this,arguments)}}}}}return dataSource}function _dataLoading(wijDataSource,userData){if(_disposed){return}if(_self.isDynamic()||wijgrid.options.alwaysParseData){_parsed=false}_transformed=false;_transformedData=null;_clonedItems=null;wijgrid._dataLoading(userData)}function _dataLoaded(wijDataSource,userData){if(_disposed){return}_isLoaded=true;var readAttributes=(!_attributes&&wijgrid.options.readAttributesFromData);if(!_attributes){_attributes=[]}_clonedItems=[];$.each(wijDataSource.items,function(i,item){var clonedItem=_self.wrapDataItem(item,i,readAttributes);if(readAttributes){_attributes.push(clonedItem.attributes)}else{clonedItem.attributes=_attributes[i]}_clonedItems.push(clonedItem)});wijgrid._dataLoaded(userData)}function _ensureDataLoaded(){if(!_isLoaded){throw"data is not loaded yet"}}function _error(){wijgrid._ajaxError.apply(wijgrid,arguments)}function _dataMode(){if(!_dataSource.data||_dataSource.data.jquery){return $.wijmo.wijgrid.dataMode.dom}if(_dataSource.dynamic===true){return $.wijmo.wijgrid.dataMode.dynamical}return $.wijmo.wijgrid.dataMode.statical}function _parseData(data){if(data&&data.length){var dataLeaves=[],dataLen,ri,len,dataRow,di,value,dataLeaf;$.wijmo.wijgrid.traverse(wijgrid.options.columns,function(column){if($.wijmo.wijgrid.validDataKey(column.dataKey)){dataLeaves.push(column)}});dataLen=Math.min(dataLeaves.length,_self.getFieldNames().length);for(ri=0,len=data.length;ri<len;ri++){dataRow=data[ri];for(di=0;di<dataLen;di++){value=null;dataLeaf=dataLeaves[di];if(dataLeaf&&dataLeaf.dataParser){value=wijgrid._parse(dataLeaf,dataRow.values[dataLeaf.dataKey]);dataRow.values[dataLeaf.dataKey]=value}}}}}function _transform(data,emptyData){if(data&&data.length){var filterRequest=wijgrid._prepareFilterRequest(true),pageRequest=wijgrid._preparePageRequest(true),sortRequest=wijgrid._prepareSortRequest(true),totalsRequest=wijgrid._prepareTotalsRequest(true),result=new $.wijmo.wijgrid.dataHelper().getDataSlice(wijgrid,data,filterRequest,pageRequest,sortRequest,totalsRequest);return result}return{data:[],totalRows:wijgrid._customPagingEnabled()?wijgrid.options.totalRows:0,totals:{},emptyData:emptyData}}function _prepareRequest(){var result={filtering:wijgrid._prepareFilterRequest(false),paging:wijgrid._preparePageRequest(false),sorting:wijgrid._prepareSortRequest(false),totals:wijgrid._prepareTotalsRequest(false)};return result}function _dataReaderWrapper(dataReader){this.read=function(dataSource){dataSource.items=null;if(dataReader&&$.isFunction(dataReader.read)){dataReader.read(dataSource)}if(!$.isArray(dataSource.items)){dataSource.items=[];if($.isArray(dataSource.data)){dataSource.items=dataSource.data}else{if(dataSource.data&&$.isArray(dataSource.data.rows)){dataSource.items=dataSource.data.rows}}}if(_dataMode()===$.wijmo.wijgrid.dataMode.dynamical){if(!dataSource.data||isNaN(dataSource.data.totalRows)){throw"totalRows value is missing"}}if(!dataSource.items||!$.isArray(dataSource.items)){dataSource.items=[]}}}function _domTableDataReader(){this.read=function(wijDataSource){wijDataSource.items=[];if(wijDataSource&&wijDataSource.data&&wijDataSource.data.length){if($.wijmo.wijgrid.getTableSectionLength(wijDataSource.data,2)===1&&$($.wijmo.wijgrid.getTableSectionRow(wijDataSource.data,2,0)).hasClass("wijmo-wijgrid-emptydatarow")){wijDataSource.emptyData=$.wijmo.wijgrid.readTableSection(wijDataSource.data,2)}else{wijDataSource.items=$.wijmo.wijgrid.readTableSection(wijDataSource.data,2,wijgrid.options.readAttributesFromData)}wijDataSource.header=$.wijmo.wijgrid.readTableSection(wijDataSource.data,1);wijDataSource.data=null}else{throw"invalid data source"}}}},dataHelper:function(){this.getDataSlice=function(gridView,dataCache,filterRequest,pageRequest,sortRequest,totalsRequest){var customPaging=gridView._customPagingEnabled(),totalRows,start,end,pagedData,i,j,len,pageCount,totals={};if(!customPaging){dataCache=_applyFiltering(dataCache,filterRequest,gridView)}if(!customPaging){$.proxy(_applySort,this)(dataCache,sortRequest)}totalRows=gridView._customPagingEnabled()?gridView.options.totalRows:dataCache.length;totals=_getTotals(dataCache,totalsRequest,gridView);if(pageRequest&&!customPaging){pageCount=Math.ceil(totalRows/pageRequest.pageSize)||1;if(pageRequest.pageIndex>=pageCount){pageRequest.pageIndex=pageCount-1}start=Math.min(dataCache.length-1,pageRequest.pageIndex*pageRequest.pageSize);if(start<0){start=0}end=Math.min(dataCache.length,start+pageRequest.pageSize);pagedData=[];for(i=start,len=0,j=0;i<end;i++,j++){pagedData[j]=dataCache[i]}dataCache=pagedData}return{data:dataCache,totalRows:totalRows,totals:totals}};function _getTotals(data,totalsRequest,gridView){var i,len,j,len2,dataItemValues,tallies=[],result={};for(i=0,len=totalsRequest.length;i<len;i++){tallies.push(new $.wijmo.wijgrid.tally())}for(i=0,len=data.length;i<len;i++){dataItemValues=data[i].values;for(j=0,len2=tallies.length;j<len2;j++){tallies[j].add(dataItemValues[totalsRequest[j].column.dataKey])}}for(i=0,len=tallies.length;i<len;i++){result[totalsRequest[i].column.dataKey]=tallies[i].getValueString(totalsRequest[i].column)}return result}function _applyFiltering(data,filterRequest,gridView){if(!data||!data.length||!filterRequest||!filterRequest.length){return data}$.each(filterRequest,function(i,item){if(!$.isArray(item.filterOperator)){item.filterOperator=[item.filterOperator]}if(!$.isArray(item.filterValue)){item.filterValue=[item.filterValue]}$.each(item.filterOperator,function(i,fop){if(typeof(fop)==="string"){item.filterOperator[i]=fop={name:fop,condition:"or"}}item.filterOperator[i].name=gridView.filterOperatorsCache.getByName(fop.name)});$.each(item.filterValue,function(i,value){if(!$.isArray(value)){item.filterValue[i]=gridView._parse(item.column,value)}else{$.each(value,function(j,subValue){value[j]=gridView._parse(item.column,subValue)})}})});var i,j,k,dataLen,dataRow,dataValue,dataRes=[],flag,subFlag,filterReqLen=filterRequest.length,currentReq,filterOp,filterVal;for(i=0,dataLen=data.length;i<dataLen;i++){dataRow=data[i];flag=true;for(j=0;j<filterReqLen;j++){currentReq=filterRequest[j];dataValue=dataRow.values[currentReq.column.dataKey];subFlag=false;for(k=0;k<currentReq.filterOperator.length;k++){filterOp=currentReq.filterOperator[k];filterVal=currentReq.filterValue[k];if((k>0)&&(filterOp.condition==="and")){subFlag&=filterOp.name.operator(dataValue,filterVal)}else{subFlag|=filterOp.name.operator(dataValue,filterVal)}}flag&=subFlag}if(flag){dataRes.push(dataRow)}}return dataRes}function _applySort(data,sortRequest){if(sortRequest.length){var builder=[],i,len,arg,si,dataKey,idx;builder.push("var context = this;");builder.push("this.sort = function(a, b)\n{\n");for(i=0,len=sortRequest.length;i<len;i++){arg="arg"+i;si=sortRequest[i];dataKey=(typeof(si.dataKey)==="string")?'"'+si.dataKey+'"':si.dataKey;if(si.sortDirection==="ascending"||si.sortDirection==="descending"){if(si.sortDirection==="ascending"){builder.push("var ",arg," = context._sortAsc","(a.values[",dataKey,"], b.values[",dataKey,"]);\n")}else{builder.push("var ",arg," = context._sortDesc","(a.values[",dataKey,"], b.values[",dataKey,"]);\n")}}else{builder.push("var ",arg," = context._sortDigitAsc","(a.originalRowIndex, b.originalRowIndex);\n")}builder.push("if (",arg," === 0)\n");builder.push("{\n")}idx=sortRequest.length-1;if(idx>=0){arg="arg"+idx;si=sortRequest[idx];dataKey=(typeof(si.dataKey)==="string")?'"'+si.dataKey+'"':si.dataKey;if((si.sortDirection==="ascending")||(si.sortDirection==="descending")){if(si.sortDirection==="ascending"){builder.push("var ",arg," = context._sortDigitAsc","(a.originalRowIndex, b.originalRowIndex);\n")}else{builder.push("var ",arg," = context._sortDigitDesc","(a.originalRowIndex, b.originalRowIndex);\n")}}}for(i=sortRequest.length-1;i>=0;i--){builder.push("}\n");arg="arg"+i;builder.push("return ",arg,";\n")}builder.push("}");eval(builder.join(""));data.sort(this.sort)}}this._normalizeValue=function(value){if(typeof(value)==="string"){value=value.toLowerCase()}else{if(value instanceof Date){value=value.getTime()}}return value};this._sortAsc=function(a,b){a=this._normalizeValue(a);b=this._normalizeValue(b);if(a===b){return 0}if(a===null){return -1}if(b===null){return 1}return(a<b)?-1:1};this._sortDesc=function(a,b){a=this._normalizeValue(a);b=this._normalizeValue(b);if(a===b){return 0}if(a===null){return 1}if(b===null){return -1}return(a<b)?1:-1};this._sortDigitAsc=function(a,b){return a-b};this._sortDigitDesc=function(a,b){return b-a}}})})(jQuery);(function(a){a.extend(a.wijmo.wijgrid,{groupRange:function(g,d,f,e,j){this.value=-1;this.isExpanded=false;this.cr=new a.wijmo.wijgrid.cellRange(-1,-1);this.sum=-1;this.position="none";this.hasHeaderOrFooter=true;if(g!==undefined){this.isExpanded=g}if(d!==undefined){this.cr=d}if(f!==undefined){this.sum=f}if(e!==undefined){this.position=e}if(j!==undefined){this.hasHeaderOrFooter=j}this.isSubRange=function(k){return((this.cr.r1>=k.cr.r1)&&(this.cr.r2<=k.cr.r2))};this.toString=function(){return this.cr.r1+"-"+this.cr.r2};this._getHeaderImageClass=function(k){var l=this.owner;if(l){return k?l.expandedImageClass||a.wijmo.c1field.prototype.options.groupInfo.expandedImageClass:l.collapsedImageClass||a.wijmo.c1field.prototype.options.groupInfo.collapsedImageClass}return null};this.collapse=function(){var m,n,l,p,o,k;if((m=this.owner)&&(n=m.owner)&&(l=n.owner)){p=new a.wijmo.wijgrid.groupHelper();o=l._field("leaves");if(p.isParentExpanded(o,this.cr,m.level)){if((m.position!=="footer")&&(m.outlineMode!=="none")){k=p.getGroupedColumnsCount(o);h(p,l._rows(),o,this,k,l._field("viewRenderBounds").start)}}}};this.expand=function(o){var m,n,l,q,p,k;if((m=this.owner)&&(n=m.owner)&&(l=n.owner)){q=new a.wijmo.wijgrid.groupHelper();p=l._field("leaves");if(q.isParentExpanded(p,this.cr,m.level)){k=q.getGroupedColumnsCount(p);c(q,l._rows(),p,this,k,o,true,l._field("viewRenderBounds").start)}}};function h(k,n,u,v,w,s){var l=v.owner,o=v.cr.r1,x=v.cr.r2,r,t,q,m,p;switch(l.position){case"header":case"headerAndFooter":i(n.item(v.cr.r1-s),undefined,false);o++;break}for(r=o;r<=x;r++){i(n.item(r-s),false)}v.isExpanded=false;b(n,v,s);for(r=l.level+1;r<=w;r++){q=k.getChildGroupRanges(u,v.cr,r-1);for(p=0,t=q.length;p<t;p++){m=q[p];m.isExpanded=false;switch(m.owner.position){case"header":case"headerAndFooter":i(n.item(m.cr.r1-s),undefined,false);break}b(n,m,s)}}}function c(m,q,v,x,y,k,o,t){var l=x.owner,p=x.cr.r1,z=x.cr.r2,s,u,r,n,w;switch(l.position){case"header":i(q.item(p-t),true,o||k);p++;break;case"footer":i(q.item(z-t),true);z--;break;case"headerAndFooter":i(q.item(p-t),true,o||k);if(o){i(q.item(z-t),true)}p++;z--;break}if(o){x.isExpanded=true;b(q,x,t)}else{return}if(x.owner.level===y){for(s=p;s<=z;s++){i(q.item(s-t),true)}}else{r=m.getChildGroupRanges(v,x.cr,x.owner.level);if(r.length&&(p!==r[0].cr.r1)){for(s=p;s<r[0].cr.r1;s++){i(q.item(s-t),true)}}if(k){for(s=0,u=r.length;s<u;s++){n=r[s];c(m,q,v,n,y,k,true,t)}}else{for(s=0,u=r.length;s<u;s++){n=r[s];w=(n.owner.position==="footer"||n.owner.outlineMode==="none")?true:false;c(m,q,v,n,y,false,w,t)}}}}function i(l,m,k){if(l){if(l[0]){if(m!==undefined){l[0].style.display=m?"":"none";l[0]["aria-hidden"]=m?"false":"true"}if(k!==undefined){l[0]["aria-expanded"]=k?"true":false}}if(l[1]){if(m!==undefined){l[1].style.display=m?"":"none";l[1]["aria-hidden"]=m?"false":"true"}if(k!==undefined){l[1]["aria-expanded"]=k?"true":false}}}}function b(l,n,m){if(n.owner.position!=="footer"){var o=null,k=l.item(n.cr.r1-m);if(k){if(k[0]){o=a(k[0]).find("div.wijmo-wijgrid-grouptogglebtn:first-child")}}if(o&&o.length){o.toggleClass(n._getHeaderImageClass(!n.isExpanded),false);o.toggleClass(n._getHeaderImageClass(n.isExpanded),true)}}}},grouper:function(){this.group=function(c,f,h){this._grid=c;this._data=f;this._leaves=h;this._groupRowIdx=0;this._groupHelper=new a.wijmo.wijgrid.groupHelper();var d=1,g,j,l,k=[],e=false,b=0;for(g=0,j=h.length;g<j;g++){l=h[g];if(l.groupInfo){delete l.groupInfo.level;delete l.groupInfo.expandInfo}if(l.groupInfo&&(l.groupInfo.position&&(l.groupInfo.position!=="none"))&&(l.dataIndex>=0)){if(l.groupedIndex===undefined){e=true}}else{if(l.groupedIndex!==undefined){delete l.groupedIndex}}}if(e){for(g=0,j=h.length;g<j;g++){l=h[g];if(l.groupInfo&&(l.groupInfo.position&&(l.groupInfo.position!=="none"))&&(l.dataIndex>=0)){l.groupedIndex=b++;k.push(l)}}}else{k=a.map(h,function(m,i){return m.groupedIndex!==undefined?m:null});k.sort(function(m,i){return m.groupedIndex-i.groupedIndex});a.each(k,function(i,m){m.groupedIndex=i})}c._field("groupedColumns",k);for(g=0,j=k.length;g<j;g++){l=k[g];this._groupRowIdx=0;if(l.groupInfo&&(l.groupInfo.position&&(l.groupInfo.position!=="none"))&&(l.dataIndex>=0)){l.groupInfo.level=d;l.groupInfo.expandInfo=[];this._processRowGroup(l,d++)}}delete this._grid;delete this._data;delete this._leaves};this._processRowGroup=function(k,c){var p,j,b,h,d,l,e,g,m,f,n=0,o=true;a.each(this._leaves,function(r,q){if(q.parentVis){n=r;return false}});for(p=0;p<this._data.length;p++){if(!(this._data[p].rowType&a.wijmo.wijgrid.rowType.data)){continue}j=this._getGroupCellRange(p,k,c);b=true;h=(k.groupInfo.outlineMode==="startCollapsed");if(h||this._groupHelper.isParentCollapsed(this._leaves,j,c)){if((k.groupInfo.groupSingleRow===false)&&(j.r1===j.r2)){continue}b=false}if(c&&this._grid.options.groupIndent){for(d=j.r1;d<=j.r2;d++){this._addIndent(this._data[d][n],c)}}o=!(k.groupInfo.groupSingleRow===false&&(j.r1===j.r2));switch(k.groupInfo.position){case"header":l=this._addGroupRange(k.groupInfo,j,b,o);for(f=j.r1;f<=j.r2;f++){this._data[f].__attr["aria-level"]=c+1;if(!b){this._data[f].__style.display="none";this._data[f].__attr["aria-hidden"]=true}}if(!o){break}this._updateByGroupRange(l,c);e=this._groupHelper.isParentCollapsed(this._leaves,l.cr,c);g=this._buildGroupRow(l,j,true,e);this._data.splice(j.r1,0,g);g.__attr["arial-level"]=c;g.__attr["aria-expanded"]=b;if(e){g.__style.display="none";g.__attr["aria-hidden"]=true}p=j.r2+1;break;case"footer":l=this._addGroupRange(k.groupInfo,j,true,o);if(!o){break}this._updateByGroupRange(l,c);m=this._buildGroupRow(l,j,false,false);m.__attr["aria-level"]=c;this._data.splice(j.r2+1,0,m);p=j.r2+1;e=this._groupHelper.isParentCollapsed(this._leaves,l.cr,c);if(e){m.__style.display="none";m.__attr["aria-hidden"]=true}break;case"headerAndFooter":l=this._addGroupRange(k.groupInfo,j,b,o);for(f=j.r1;f<=j.r2;f++){this._data[f].__attr["aria-level"]=c+1;if(!b){this._data[f].__style.display="none";this._data[f].__attr["aria-hidden"]=true}}if(!o){break}this._updateByGroupRange(l,c);e=this._groupHelper.isParentCollapsed(this._leaves,l.cr,c);g=this._buildGroupRow(l,j,true,e);m=this._buildGroupRow(l,j,false,false);this._data.splice(j.r2+1,0,m);m.__attr["aria-level"]=c;if(e||!b){m.__style.display="none";m.__attr["aria-hidden"]=true}this._data.splice(j.r1,0,g);g.__attr["aria-level"]=c;g.__attr["aria-expanded"]=b;if(e){g.__style.display="none";g.__attr["aria-hidden"]=true}p=j.r2+2;break;default:throw a.wijmo.wijgrid.stringFormat('Unknown Position value: "{0}"',k.groupInfo.position)}this._groupRowIdx++}};this._buildGroupRow=function(j,n,d,q){var h=j.owner,p=h.owner,i=p.owner,f=[],g="",m="",s,b,r,c,o,e,l,k;f.__style={};f.__attr={};f.__attr.id=((d)?"GH":"GF")+this._groupRowIdx+"-"+h.level;f.rowType=(d)?a.wijmo.wijgrid.rowType.groupHeader:a.wijmo.wijgrid.rowType.groupFooter;if((p.dataIndex>=0)&&((s=this._data[n.r1][p.dataIndex].value)!==null)){g=i._toStr(p,s)}if(this._grid.options.showRowHeader){f.push({html:"&nbsp;"})}b={html:"",__attr:{},__style:{}};if(d&&h.outlineMode!=="none"){if(j.isExpanded){b.html='<div class="ui-icon '+j._getHeaderImageClass(true)+' wijmo-wijgrid-grouptogglebtn">&nbsp;</div>'}else{b.html='<div class="ui-icon '+j._getHeaderImageClass(false)+' wijmo-wijgrid-grouptogglebtn">&nbsp;</div>'}}f.push(b);if(p.aggregate&&(p.aggregate!=="none")){m=this._getAggregate(n,p,p,d,g)}r=(d)?h.headerText:h.footerText;if(r==="custom"){c={data:this._data,column:p,groupByColumn:h.owner,groupText:g,text:"",groupingStart:n.r1,groupingEnd:n.r2,isGroupHeader:d,aggregate:m};if(this._grid._trigger("groupText",null,c)){r=c.text}}else{if((r===undefined)||(r===null)){if(d){r="{1}: {0}"}if(m||(m===0)){r=r?r+" {2}":"{2}"}}r=a.wijmo.wijgrid.stringFormat(r,g,p&&p.headerText?p.headerText:"",m.toString())}if(!r){r="&nbsp;"}b.html+="<span>"+r+"</span>";this._addIndent(b,h.level-1);o=1;e=(this._grid.options.showRowHeader)?1:0;l=true;for(;e<this._leaves.length;e++){s=this._leaves[e];if(s.parentVis){if(l){l=false;continue}if((s.dynamic!==true)&&s.aggregate&&(s.aggregate!=="none")){break}o++}}for(;e<this._leaves.length;e++){s=this._leaves[e];if(s.parentVis){k=this._getAggregate(n,s,h.owner,d,g);if(!k&&(k!==0)){k="&nbsp;"}f.push({html:k.toString(),__attr:{groupInfo:{leafIndex:s.leavesIdx,purpose:a.wijmo.wijgrid.groupRowCellPurpose.aggregateCell}}})}}b.__attr.colSpan=o;b.__attr.groupInfo={leafIndex:p.leavesIdx,purpose:a.wijmo.wijgrid.groupRowCellPurpose.groupCell};return f};this._getAggregate=function(f,e,c,i,h){var b="",g,d,j;if(!e.aggregate||(e.aggregate==="none")){return b}if(e.aggregate==="custom"){g={data:this._data,column:e,groupByColumn:c,groupText:h,text:"",groupingStart:f.r1,groupingEnd:f.r2,isGroupHeader:i};if(this._grid._trigger("groupAggregate",null,g)){b=g.text}}else{d=new a.wijmo.wijgrid.tally();for(j=f.r1;j<=f.r2;j++){d.add(this._data[j][e.dataIndex].value)}b=d.getValueString(e)}return b};this._getGroupCellRange=function(j,f,b){var i=f.leavesIdx,d=new a.wijmo.wijgrid.cellRange(j,i),c=this._groupHelper.getParentGroupRange(this._leaves,d,b),h,g,e;if(this._data[j].rowType&a.wijmo.wijgrid.rowType.data){h=this._data[j][f.dataIndex].value;if(h instanceof Date){h=h.getTime()}for(d.r2=j,e=this._data.length-1;d.r2<e;d.r2++){if(!(this._data[d.r2+1].rowType&a.wijmo.wijgrid.rowType.data)||(c&&(d.r2+1>c.r2))){break}g=this._data[d.r2+1][f.dataIndex].value;if(g instanceof Date){g=g.getTime()}if(h!==g){break}}}return d};this._addGroupRange=function(d,h,b,j){var k=null,i=this._groupHelper.getChildGroupIndex(h,d.expandInfo),g,c,f,e;if(i>=0&&i<d.expandInfo.length){k=d.expandInfo[i]}else{g=new a.wijmo.wijgrid.cellRange(h.r1,h.r1,h.r2,h.r2);c=(d.position==="footer"||!j)?true:b&&(d.outlineMode!=="startCollapsed");k=new a.wijmo.wijgrid.groupRange(c,g,-1,d.position,j);k.owner=d;d.expandInfo.push(k)}if(k&&j){f=h.r1;e=h.r2;if(d.position==="headerAndFooter"){e+=2}if(d.position!=="headerAndFooter"){e++}k.cr.r2=e}return k};this._updateByGroupRange=function(h,b){var f,g,c,d,e,l,k;for(f=0,g=this._leaves.length;f<g;f++){c=this._leaves[f].groupInfo;if(c&&(c.level<b)){d=(c.expandInfo)?c.expandInfo.length:0;for(e=0;e<d;e++){l=c.expandInfo[e];k=(h.position==="headerAndFooter")?2:1;if(l.cr.r1>=h.cr.r1&&!((l.cr.r1===h.cr.r1)&&(l.position==="footer"))){l.cr.r1+=k}if(l.cr.r2>=h.cr.r1){l.cr.r2+=k}}}}};this._addIndent=function(c,d){var b;if(d>0&&(b=this._grid.options.groupIndent)){c.__style.paddingLeft=(b*d)+"px"}}}})})(jQuery);(function(a){a.extend(a.wijmo.wijgrid,{_getGroupInfoRegExp:/.*G([HF]){1}(\d+)-(\d+)$/,groupHelper:function(){this.getGroupInfo=function(c){if(c){var e=a.wijmo.wijgrid._getGroupInfoRegExp.exec(c.id),f,b,d;if(e){f=parseInt(e[3],10);b=parseInt(e[2],10);d=(e[1]==="H");return{level:f,index:b,isHeader:d,toString:function(){return(this.isHeader?"GH":"GF")+this.index+"-"+this.level}}}}return null};this.getColumnByGroupLevel=function(f,e){var d,b,c;for(d=0,b=f.length;d<b;d++){c=f[d];if(c.groupInfo&&(c.groupInfo.level===e)){return c}}return null};this.getGroupedColumnsCount=function(f){var c=0,e,b,d;for(e=0,b=f.length;e<b;e++){d=f[e].groupInfo;if(d&&(d.position==="header"||d.position==="headerAndFooter"||d.position==="footer")){c++}}return c};this.getChildGroupIndex=function(c,b){var g=0,d=b.length-1,e,f;while(g<=d){e=((d-g)>>1)+g;f=b[e].cr.r1-c.r1;if(f===0){return e}if(f<0){g=e+1}else{d=e-1}}return g};this.getParentGroupIndex=function(c,d){var b=this.getChildGroupIndex(c,d);if(b>0){b--}return(b<d.length)?b:-1};this.getChildGroupRanges=function(f,h,b){var l=[],d,c,e,g,j,k=this.getColumnByGroupLevel(f,b+1);if(k){d=k.groupInfo.expandInfo;j=this.getChildGroupIndex(h,d);for(e=j,g=d.length;e<g;e++){c=d[e];if(c.cr.r2<=h.r2){l.push(c)}else{break}}}return l};this.getParentGroupRange=function(g,c,f){var e,d,b;if(f===undefined){f=65535}if(f-2>=0){for(e=g.length-1;e>=0;e--){d=g[e].groupInfo;if(!d||!d.expandInfo||(d.level<0)||(d.level!==f-1)){continue}b=this.getParentGroupIndex(c,d.expandInfo);if(b>=0){return d.expandInfo[b]}}}return null};this.isParentCollapsed=function(f,b,e){var c,d;if(e===1){return false}for(c=e;c>1;c--){d=this.getParentGroupRange(f,b,c);if(d&&!d.isExpanded){return true}b=d.cr}return false};this.isParentExpanded=function(f,b,e){var c,d;if(e===1){return true}for(c=e;c>1;c--){d=this.getParentGroupRange(f,b,c);if(d&&d.isExpanded){return true}b=d.cr}return false}}})})(jQuery);(function(a){a.extend(a.wijmo.wijgrid,{cellRange:function(d,e,b,c){switch(arguments.length){case 2:this.r1=this.r2=d;this.c1=this.c2=e;break;case 4:this.r1=d;this.r2=b;this.c1=e;this.c2=c;break;default:this.r1=0;this.r2=0;this.c1=0;this.c2=0}this.isSingleCell=function(){return((this.r1===this.r2)&&(this.c1===this.c2))}},merger:function(){this.merge=function(f,c){this.leaves=c;this.data=f;var e,b,d;for(e=0,b=c.length;e<b;e++){d=c[e];if((d.dataIndex>=0)&&!d.isBand&&(d.rowMerge==="free"||d.rowMerge==="restricted")){this.mergeColumn(d)}}delete this.data;delete this.leaves};this.mergeColumn=function(g){var f=g.dataIndex,d,b,c,e,h;for(d=0,b=this.data.length;d<b;d++){if(!(this.data[d].rowType&a.wijmo.wijgrid.rowType.data)){continue}c=this.getCellRange(d,g);if(c.r1!==c.r2){e=c.r2-c.r1+1;this.data[c.r1][f].__attr.rowSpan=e;for(h=c.r1+1;h<=c.r2;h++){this.data[h][f].visible=false}}d=c.r2}};this.getCellRange=function(c,f){var e=f.dataIndex,h=new a.wijmo.wijgrid.cellRange(c,e),j=(this.data[c][e].value||"").toString(),d=this.data.length,b,i,g,k;for(h.r2=c;h.r2<d-1;h.r2++){b=this.data[h.r2+1];if(!(b.rowType&a.wijmo.wijgrid.rowType.data)||((b[e].value||"").toString()!==j)){break}}i=f.leavesIdx;if(i>0&&f.rowMerge==="restricted"){g=this.leaves[i-1];if(g.dataIndex>=0){k=this.getCellRange(c,g);h.r1=Math.max(h.r1,k.r1);h.r2=Math.min(h.r2,k.r2)}}return h}}})})(jQuery);(function(a){a.extend(a.wijmo.wijgrid,{rowType:{header:1,data:2,dataAlt:4,filter:8,groupHeader:16,groupFooter:32,footer:64,emptyDataRow:128,fooRow:65536},renderState:{none:0,rendering:1,current:2,hovered:4,selected:8},groupRowCellPurpose:{groupCell:0,aggregateCell:1},stringFormat:function(d,e){var c,b;if(!d){return""}for(c=1,b=arguments.length;c<b;c++){d=d.replace(new RegExp("\\{"+(c-1)+"\\}","gm"),arguments[c])}return d},validDataKey:function(b){return(b&&!(b<0))||(b===0)},iterateChildrenWidgets:function(b,c){if(b&&c){if(b.nodeType){b=a(b)}b.find(".ui-widget").each(function(d,e){a.each(a(e).data(),function(g,f){if(f.widgetName){c(d,f)}})})}},remove$dataByPrefix:function(b,c){var d=[];a.each(b.data(),function(e){if(e.indexOf(c)===0){d.push(e)}});a.each(d,function(e,f){b.removeData(f)})},domSelection:function(b){this.getSelection=function(){var e=0,c=0,d;if(b.selectionStart!==undefined){e=b.selectionStart;c=b.selectionEnd}else{if(document.selection){d=document.selection.createRange().duplicate();c=d.text.length;e=Math.abs(d.moveStart("character",-b.value.length));c+=e}}return{start:e,end:c,length:c-e}};this.setSelection=function(c){if(b.selectionStart!==undefined){b.setSelectionRange(c.start,c.end)}else{var d=b.createTextRange();d.collapse(true);d.moveStart("character",c.start);d.moveEnd("character",c.end);d.select()}};this.toggleSelection=function(e){var c=a(b),d="onselectstart" in b;if(e){if(d){c.unbind(".wijgrid-disableSelection")}else{c.css({MozUserSelect:"",WebkitUserSelect:""})}}else{if(d){c.bind("selectstart.wijgrid-disableSelection",function(f){f.preventDefault()})}else{c.css({MozUserSelect:"-moz-none",WebkitUserSelect:"none"})}}}},createDynamicField:function(b){return a.extend(true,{},a.wijmo.c1basefield.prototype.options,a.wijmo.c1field.prototype.options,{dynamic:true,isLeaf:true,isBand:false,parentIdx:-1},b)},bounds:function(d,c){if(d){var b=d.nodeType?a(d):d,e=b.offset();if(e){if(c){return{top:e.top,left:e.left,width:b[0].clientWidth||0,height:b[0].clientHeight||0}}return{top:e.top,left:e.left,width:b.outerWidth(),height:b.outerHeight()}}}return null},_getDOMText:function(e,g,d){if(g===undefined){g=3}if(e&&g!==0){if(!d&&e.nodeType===3){return e.nodeValue}if(e.nodeType===1){switch(e.type){case"button":case"text":case"textarea":case"select-one":return e.value;case"checkbox":return e.checked.toString()}var b="",c=0,f;while(f=e.childNodes[c++]){b+=a.wijmo.wijgrid._getDOMText(f,g-1)}return b}}return""},rowTypeFromCss:function(b){var c=/wijmo-wijgrid-(\S+)row/.exec(b.attr("class"));if(c){switch(c[1]){case"header":return a.wijmo.wijgrid.rowType.header;case"filter":return a.wijmo.wijgrid.rowType.filter;case"data":if(b.hasClass("wijmo-wijgrid-alternatingrow")){return a.wijmo.wijgrid.rowType.data|a.wijmo.wijgrid.rowType.dataAlt}return a.wijmo.wijgrid.rowType.data;case"alternating":return a.wijmo.wijgrid.rowType.data|a.wijmo.wijgrid.rowType.dataAlt;case"groupheader":return a.wijmo.wijgrid.rowType.groupHeader;case"groupfooter":return a.wijmo.wijgrid.rowType.groupFooter}}},dataPrefix:function(d,h,b,k){var g=(d.jquery||a.isArray(d)),e,j,f,c=h+b;if(arguments.length===3){if(g){return a.data(d[0],c)}return a.data(d,c)}else{if(g){for(e=0,j=d.length;e<j;e++){f=a.data(d[e],c,k)}return f}return a.data(d,c,k)}},shallowMerge:function(e,f){if(f&&e){var b,d,c;for(b in f){if(f.hasOwnProperty(b)){d=f[b];c=typeof(d);if((c==="string"||c==="boolean"||c==="number")&&(e[b]===undefined)){e[b]=d}}}}},isCustomObject:function(b){return(b&&(typeof(b)==="object")&&!(b instanceof Date))},search:function(d,f){var b,e,c=a.isFunction(f);for(b in d){if(d.hasOwnProperty(b)){e=c?f(d[b]):(d[b]===f);if(e===true){return{at:b,found:d[b]}}}}return{at:null,found:null}},getAttributes:function(j,d){if(j){var g,c,f=0,b={},h,e;for(g=0,c=j.attributes.length;g<c;g++){e=j.attributes[g].name;if(e&&(!d||!d(e))){h=j.getAttribute(e);if(e==="style"){h=(typeof(h)==="object")?h.cssText:h}if(!h&&e==="class"){h=j.getAttribute("className")}if(h&&(typeof(h)!=="function")){b[e]=h;f++}}}if(f){return b}}return null},getKeyCodeEnum:function(){if(a.ui&&a.ui.keyCode){return a.ui.keyCode}if(a.mobile&&a.mobile.keyCode){return a.mobile.keyCode}throw"keyCode object is not found"},isOverAxis:function(c,b,d){return(c>b)&&(c<(b+d))},isOver:function(g,c,f,e,b,d){return a.wijmo.wijgrid.isOverAxis(g,f,b)&&a.wijmo.wijgrid.isOverAxis(c,e,d)}});if(a.wijmo.wijgrid._uid===undefined){a.extend(a.wijmo.wijgrid,{_uid:0,getUID:function(){return"uid"+a.wijmo.wijgrid._uid++}})}})(jQuery);(function(a){a.extend(a.wijmo.wijgrid,{embeddedParsers:{stringParser:{parseDOM:function(e,d,f,c,b){return this.parse(a.wijmo.wijgrid._getDOMText(e),d,f,c,b)},parse:function(e,d,f,c,b){switch(e){case null:return null;case c:if(b){return null}case undefined:case"&nbsp;":return"";default:return""+e}},toStr:function(e,d,f,c,b){if(e===null&&b){return c}return""+e}},numberParser:{parseDOM:function(e,d,f,c,b){return this.parse(a.wijmo.wijgrid._getDOMText(e),d,f,c,b)},parse:function(f,d,g,c,b){var e=typeof(f);if(e==="number"){return isNaN(f)?NaN:f}if((!f&&f!==0)||(f==="&nbsp;")||(f===c&&b)){return null}return Globalize.parseFloat(f,10,d.name)},toStr:function(e,d,f,c,b){if(e===null&&b){return c}return Globalize.format(e,f||"n",d.name)}},currencyParser:{parseDOM:function(e,d,f,c,b){return this.parse(a.wijmo.wijgrid._getDOMText(e),d,f,c,b)},parse:function(f,d,g,c,b){var e=typeof(f);if(e==="number"){return isNaN(f)?NaN:f}if((!f&&f!==0)||(f==="&nbsp;")||(f===c&&b)){return null}if(e==="string"){f=f.replace(d.numberFormat.currency.symbol,"")}return Globalize.parseFloat(f,10,d.name)},toStr:function(e,d,f,c,b){if(e===null&&b){return c}return Globalize.format(e,f||"c",d.name)}},dateTimeParser:{parseDOM:function(e,d,f,c,b){return this.parse(a.wijmo.wijgrid._getDOMText(e),d,f,c,b)},parse:function(g,d,h,c,b){var e,f;if(g instanceof Date){return g}if(!g||(g==="&nbsp;")||(g===c&&b)){return null}e=/^\/Date\((\d+)\)\/$/.exec(g);if(e){return new Date(parseInt(e[1],10))}f=Globalize.parseDate(g,h,d.name);if(f==null||isNaN(f)){f=Date.parse(g);f=isNaN(f)?NaN:new Date(f)}return f},toStr:function(e,d,f,c,b){if(e===null&&b){return c}return Globalize.format(e,f||"d",d.name)}},boolParser:{parseDOM:function(e,d,f,c,b){return this.parse(a.wijmo.wijgrid._getDOMText(e),d,f,c,b)},parse:function(e,d,f,c,b){var g=typeof(e);if(g==="boolean"){return e}if(g==="string"){e=a.trim(e)}if(!e||(e==="&nbsp;")||(e===c&&b)){return null}switch(e.toLowerCase()){case"true":return true;case"false":return false}return NaN},toStr:function(e,d,f,c,b){if(e===null&&b){return c}return(e)?"true":"false"}}}})})(jQuery);(function(a){a.extend(a.wijmo.wijgrid,{filterOperatorsCache:function(){var d={};this.add=function(f){if(f&&f.name&&f.operator){var g=f.name.toLowerCase();if(!d[g]){d[g]=f}}};this.clear=function(){d.length=0};this.getByName=function(f){return d[f.toLowerCase()]};this.getByDataType=function(h){var f=[],i,g;for(i in d){if(d.hasOwnProperty(i)){g=d[i];if(a.inArray(h,g.applicableTo)>=0){f.push(g)}}}return f};this.removeCustom=function(){var f;for(f in d){if(d[f].custom){delete d[f]}}};this.sort=function(g,f){switch(f.toLowerCase()){case"alphabetical":g.sort(b);break;case"alphabeticalcustomfirst":g.sort(c);break;case"alphabeticalembeddedFirst":g.sort(e);break;case"none":break;default:break}return g};function b(g,f){var i=g.name.toLowerCase(),h=f.name.toLowerCase();if(i!==h){if(i==="nofilter"){return -1}if(h==="nofilter"){return 1}}if(i===h){return 0}return(i<h)?-1:1}function e(g,f){var i=g.name.toLowerCase(),h=f.name.toLowerCase();if(i!==h){if(i==="nofilter"){return -1}if(h==="nofilter"){return 1}}if(g.custom!==f.custom){if(g.custom){return 1}if(f.custom){return -1}}if(i===h){return 0}return(i<h)?-1:1}function c(g,f){var i=g.name.toLowerCase(),h=f.name.toLowerCase();if(i!==h){if(i==="nofilter"){return -1}if(h==="nofilter"){return 1}}if(g.custom!==f.custom){if(g.custom){return -1}if(f.custom){return 1}}if(i===h){return 0}return(i<h)?-1:1}}});a.wijmo.wijgrid.embeddedFiltersImpl={_anyCmp:function(d,h,f){var e,b,g,c=false;if(!a.isArray(h)){h=[h]}if(!(b=h.length)){return false}if(d instanceof Date){d=d.getTime()}if(typeof(d)==="string"){d=d.toLowerCase()}for(e=0;(e<b)&&!c;e++){g=h[e];if(g instanceof Date){g=g.getTime()}if(typeof(g)==="string"){g=g.toLowerCase()}c=f(d,g)}return c}};a.wijmo.wijgrid.embeddedFilters={nofilter:{name:"NoFilter",arity:1,applicableTo:["string","number","datetime","currency","boolean"],operator:function(b){return true}},contains:{name:"Contains",arity:2,applicableTo:["string"],operator:function(b,c){return a.wijmo.wijgrid.embeddedFiltersImpl._anyCmp(b,c,function(d,e){return(d===e)||(d?d.indexOf(e)>=0:false)})}},notcontain:{name:"NotContain",arity:2,applicableTo:["string"],operator:function(b,c){return !a.wijmo.wijgrid.embeddedFilters.contains.operator(b,c)}},beginswith:{name:"BeginsWith",arity:2,applicableTo:["string"],operator:function(b,c){return a.wijmo.wijgrid.embeddedFiltersImpl._anyCmp(b,c,function(d,e){return(d===e)||(d?d.indexOf(e)===0:false)})}},endswith:{name:"EndsWith",arity:2,applicableTo:["string"],operator:function(b,c){return a.wijmo.wijgrid.embeddedFiltersImpl._anyCmp(b,c,function(f,g){var e=(f===g),d;if(!e&&f){d=f.lastIndexOf(g);if(d>=0){e=(f.length-d===g.length)}}return e})}},equals:{name:"Equals",arity:2,applicableTo:["string","number","datetime","currency","boolean"],operator:function(b,c){return a.wijmo.wijgrid.embeddedFiltersImpl._anyCmp(b,c,function(d,e){return(d===e)})}},notequal:{name:"NotEqual",arity:2,applicableTo:["string","number","datetime","currency","boolean"],operator:function(b,c){return a.wijmo.wijgrid.embeddedFiltersImpl._anyCmp(b,c,function(d,e){return(d!==e)})}},greater:{name:"Greater",arity:2,applicableTo:["string","number","datetime","currency","boolean"],operator:function(b,c){return a.wijmo.wijgrid.embeddedFiltersImpl._anyCmp(b,c,function(d,e){return(d>e)})}},less:{name:"Less",arity:2,applicableTo:["string","number","datetime","currency","boolean"],operator:function(b,c){return a.wijmo.wijgrid.embeddedFiltersImpl._anyCmp(b,c,function(d,e){return(d<e)})}},greaterorequal:{name:"GreaterOrEqual",arity:2,applicableTo:["string","number","datetime","currency","boolean"],operator:function(b,c){return a.wijmo.wijgrid.embeddedFiltersImpl._anyCmp(b,c,function(d,e){return(d>=e)})}},lessorequal:{name:"LessOrEqual",arity:2,applicableTo:["string","number","datetime","currency","boolean"],operator:function(b,c){return a.wijmo.wijgrid.embeddedFiltersImpl._anyCmp(b,c,function(d,e){return(d<=e)})}},isempty:{name:"IsEmpty",arity:1,applicableTo:["string"],operator:function(b){return a.wijmo.wijgrid.embeddedFiltersImpl._anyCmp(b,undefined,function(c){return !c&&c!==0&&c!==false})}},notisempty:{name:"NotIsEmpty",arity:1,applicableTo:["string"],operator:function(b){return a.wijmo.wijgrid.embeddedFiltersImpl._anyCmp(b,undefined,function(c){return !!c||c===0||c===false})}},isnull:{name:"IsNull",arity:1,applicableTo:["string","number","datetime","currency","boolean"],operator:function(b){return a.wijmo.wijgrid.embeddedFiltersImpl._anyCmp(b,undefined,function(c){return c===null})}},notisnull:{name:"NotIsNull",arity:1,applicableTo:["string","number","datetime","currency","boolean"],operator:function(b){return a.wijmo.wijgrid.embeddedFiltersImpl._anyCmp(b,undefined,function(c){return c!==null})}}}})(jQuery);(function(a){a.extend(a.wijmo.wijgrid,{filterHelper:{getSingleValue:function(b){if(a.isArray(b)){b=b[0];if(a.isArray(b)){b=b[0]}}return b},getSingleOperatorName:function(b){if(a.isArray(b)){b=b[0]}return b.name||b||""},verify:function(d,j,f,e){if(d){if(a.isArray(d)){var g,c,h=[],b=[];if(!a.isArray(j)){j=[j]}for(g=0,c=d.length;g<c;g++){if(this._verifySingleOp(d[g],j[g],f,e)){h.push({name:d[g].name||d[g],condition:d[g].condition||"or"});b.push(j?j[g]:undefined)}}if(h.length){return{filterOperator:h,filterValue:b}}}else{if(this._verifySingleOp(d,j,f,e)){return{filterOperator:d,filterValue:j}}}}return null},_verifySingleOp:function(b,f,d,c){if(b&&(b=(b.name||b))){var e;b=(b||"").toLowerCase();if(b!=="nofilter"&&(e=c.getByName(b))){if(a.inArray(d||"string",e.applicableTo)>=0){if(e.arity===1||(e.arity>1&&this.getSingleValue(f)!==undefined)){return true}}}}return false}}})})(jQuery);(function(a){a.extend(a.wijmo.wijgrid,{htmlTableAccessor:function(e,h,d,i){var g=[],c=0,f=e;function b(){var q=[],l,o,s,u,n,t,k,r,p,m;for(o=0,s=f.rows.length;o<s;o++){l=[];g[o]=l;u=f.rows[o];for(n=0,t=0,k=u.cells.length;n<k;n++,t++){r=u.cells[n];for(;q[t]>1;t++){q[t]--;l[t]={cellIdx:-1,colIdx:-1}}if(!(q[t]>1)){q[t]=r.rowSpan}l[t]={cellIdx:n,colIdx:-1};l[n].colIdx=t;p=r.colSpan;for(;p>1;p--){l[++t]={cellIdx:-1,colIdx:-1}}}m=q.length;for(;t<m;t++){q[t]--;l[t]={cellIdx:-1,colIdx:-1}}c=Math.max(c,m)}}this.element=function(){return e};this.width=function(){return c};this.getCellIdx=function(k,j){return(k<c)?g[j][k].cellIdx:-1};this.getColumnIdx=function(k,j){if(typeof(k)!=="number"){var l=k;k=l.cellIndex;j=l.parentNode.rowIndex}return(k<c)?g[j][k].colIdx:-1};this.clearSection=function(k){var l,j,k=a.wijmo.wijgrid.getTableSection(f,k);switch(k){case 2:l=this.getSectionLength(0);j=l+this.getSectionLength(k)-1;break;case 3:l=this.getSectionLength(0)+this.getSectionLength(1);j=l+this.getSectionLength(k)-1;break;default:l=0;j=this.getSectionLength(k)-1}while(k.rows.length){k.deleteRow(0)}g.splice(l,j-l+1)};this.getSectionLength=function(j){return a.wijmo.wijgrid.getTableSectionLength(f,j)};this.getSectionRow=function(k,j){return a.wijmo.wijgrid.getTableSectionRow(f,j,k)};this.forEachColumnCellNatural=function(m,p,o){var k,l,n,j;for(k=0,l=f.rows.length;k<l;k++){n=f.rows[k];if(m<n.cells.length){j=p(n.cells[m],m,o);if(j!==true){return j}}}return true};this.forEachColumnCell=function(n,q,p){var k,m,o,l,j;for(k=0,m=g.length;k<m;k++){o=f.rows[k];l=this.getCellIdx(n,k);if(l>=0){j=q(o.cells[l],k,p);if(j!==true){return j}}}return true};this.forEachRowCell=function(p,o,n){var m=f.rows[p],k,l,j;for(k=0,l=m.cells.length;k<l;k++){j=o(m.cells[k],k,n);if(j!==true){return j}}return true};this.colGroupTag=function(){var j=f.getElementsByTagName("colgroup");return(j&&j[0])||null};this.colTags=function(){var j=this.colGroupTag();return(j&&j.getElementsByTagName("col"))||[]};this.ensureTBody=function(){return(f.tBodies&&f.tBodies[0])||f.appendChild(document.createElement("tbody"))};this.ensureTHead=function(){return(f.tHead&&f.tHead[0])||f.createTHead()};this.ensureTFoot=function(){return(f.tFoot&&f.tFoot[0])||f.createTFoot()};this.ensureColGroup=function(){var j=f.getElementsByTagName("colgroup");return(j&&j[0])||f.appendChild(document.createElement("colgroup"))};this.appendCol=function(k){var j=this.ensureColGroup();return(k&&j.appendChild(k))||j.appendChild(document.createElement("col"))};this.removeOffset=function(j){if(j>=0&&j<g.length){if(j<0||(!j&&j!==0)){j=g.length-1}g.splice(j,1)}};this.insertOffset=function(j){var l,k;if(c>0){l=[];for(k=0;k<c;k++){l.push({cellIdx:k,colIdx:k})}if(j<0||(!j&&j!==0)){j=g.length}g.splice(j,0,l)}};this.rebuildOffsets=function(){g=[];c=0;b()};if(i){this.ensureColGroup()}if(d){this.ensureTBody()}if(!h){b()}}})})(jQuery);(function(a){a.wijmo.wijgrid.cellInfo=function(i,j,g,l){var m=false,c=g,h=undefined,f=undefined,o=undefined,e=undefined;if(l){o=i;e=j}else{h=i;f=j}this.cellIndexAbs=function(p){if(arguments.length===0){k();return o}h=undefined;o=p};this.rowIndexAbs=function(p){if(arguments.length===0){b();return e}f=undefined;e=p};this.cellIndex=function(p){if(arguments.length===0){d();return h}o=undefined;h=p};this.column=function(){if(c&&this._isValid()){return c._field("visibleLeaves")[this.cellIndexAbs()]}return null};this.container=function(){var q=this.tableCell(),p;if(q){p=a(q).children("div.wijmo-wijgrid-innercell");if(p){return p}}return null};this.isEqual=function(p){return(p&&(p.rowIndex()===this.rowIndex())&&(p.cellIndex()===this.cellIndex()))};this.row=function(){var p=null;if(c){p=c._view().rows().item(this.rowIndexAbs());if(p&&p.length){p=c._view()._getRowInfo(p)}}return p};this.rowIndex=function(p){if(arguments.length===0){n();return f}e=undefined;f=p};this.tableCell=function(){if(c&&this._isValid()){return c._view().getCell(this.cellIndexAbs(),this.rowIndexAbs())}return null};this.value=function(q){var p,r;if(c&&this._isValid()){r=c._view()._getRowInfo(c._rows().item(this.rowIndex()));if(r.type&a.wijmo.wijgrid.rowType.data){p=this.column();if(arguments.length===0){return r.data[p.dataKey]}else{q=c._parse(p,q);if((q===null&&p.valueRequired)||(p.dataType&&p.dataType!=="string"&&isNaN(q))){throw"invalid value"}c._dataStore.updateValue(r.dataItemIndex,p.dataKey,q)}}}};this.toString=function(){return this.cellIndex()+":"+this.rowIndex()};this._clip=function(q,s){var p=false,r;if(s){if(this.cellIndexAbs()<(r=q.topLeft().cellIndexAbs())){p=true;o=r;h=undefined}if(this.cellIndexAbs()>(r=q.bottomRight().cellIndexAbs())){p=true;o=r;h=undefined}if(this.rowIndexAbs()<(r=q.topLeft().rowIndexAbs())){p=true;e=r;f=undefined}if(this.rowIndexAbs()>(r=q.bottomRight().rowIndexAbs())){p=true;e=r;f=undefined}}else{if(this.cellIndex()<(r=q.topLeft().cellIndex())){p=true;h=r;o=undefined}if(this.cellIndex()>(r=q.bottomRight().cellIndex())){p=true;h=r;o=undefined}if(this.rowIndex()<(r=q.topLeft().rowIndex())){p=true;f=r;e=undefined}if(this.rowIndex()>(r=q.bottomRight().rowIndex())){p=true;f=r;e=undefined}}return p};this._clone=function(){return new a.wijmo.wijgrid.cellInfo(this.cellIndex(),this.rowIndex(),c)};this._isValid=function(){return this.cellIndex()>=0&&this.rowIndex()>=0};this._isEdit=function(p){if(!arguments.length){return m}m=p};this._setGridView=function(p){c=p};function k(){if(o===undefined){if(h===null){throw"relative index value is undefined"}if(h>=0){if(!c){throw"wijgrid is null"}o=h+c._getDataToAbsOffset().x}else{o=h}if(o<0){o=-1}}}function b(){if(e===undefined){if(f===undefined){throw"relative index value is undefined"}if(f>=0){if(!c){throw"wijgrid is null"}e=f+c._getDataToAbsOffset().y}else{e=f}if(e<0){e=-1}}}function d(){if(h===undefined){if(o===undefined){throw"absolute index value is undefined"}if(o>=0){if(!c){throw"wijgrid is null"}h=o-c._getDataToAbsOffset().x}else{h=o}if(h<0){h=-1}}}function n(){if(f===undefined){if(e===undefined){throw"relative index value is undefined"}if(e>=0){if(!c){throw"wijgrid is null"}f=e-c._getDataToAbsOffset().y}else{f=e}if(f<0){f=-1}}}};a.wijmo.wijgrid.cellInfo.prototype.outsideValue=new a.wijmo.wijgrid.cellInfo(-1,-1,null,true);a.wijmo.wijgrid.cellInfoRange=function(e,d){if(!e||!d){throw"invalid arguments"}var c=e._clone(),b=d._clone();this.bottomRight=function(){return b};this.isEqual=function(f){return(f&&c.isEqual(f.topLeft())&&b.isEqual(f.bottomRight()))};this.topLeft=function(){return c};this.toString=function(){return c.toString()+" - "+b.toString()};this._isIntersect=function(h){var g,f,j,i;if(h){g=h.bottomRight().rowIndex()-h.topLeft().rowIndex()+1;f=b.rowIndex()-c.rowIndex()+1;if((h.topLeft().rowIndex()+g)-c.rowIndex()<g+f){j=h.bottomRight().cellIndex()-h.topLeft().cellIndex()+1;i=b.cellIndex()-c.cellIndex()+1;return((h.topLeft().cellIndex()+j)-c.cellIndex()<j+i)}}return false};this._isValid=function(){return c._isValid()&&b._isValid()};this._clip=function(f,g){return c._clip(f,g)|b._clip(f,g)};this._clone=function(){return new a.wijmo.wijgrid.cellInfoRange(c._clone(),b._clone())};this._containsCellInfo=function(f){return(f&&f.cellIndex()>=c.cellIndex()&&f.cellIndex()<=b.cellIndex()&&f.rowIndex()>=c.rowIndex()&&f.rowIndex()<=b.rowIndex())};this._containsCellRange=function(f){return(f&&this._containsCellInfo(f.topLeft())&&this._containsCellInfo(f.bottomRight()))};this._extend=function(g,f){if(g===1){c.rowIndex(f.topLeft().rowIndex());b.rowIndex(f.bottomRight().rowIndex())}else{if(g===2){c.cellIndex(f.topLeft().cellIndex());b.cellIndex(f.bottomRight().cellIndex())}}return this};this._normalize=function(){var g=c.cellIndex(),i=c.rowIndex(),f=b.cellIndex(),h=b.rowIndex();c.cellIndex(Math.min(g,f));c.rowIndex(Math.min(i,h));b.cellIndex(Math.max(g,f));b.rowIndex(Math.max(i,h))}}})(jQuery);(function(a){a.extend(a.wijmo.wijgrid,{classFactory:function(d,g){var j="#fake#",f=(/xyz/.test(function(){xyz}))?/\b_base\b/:/.*/,e=d?d.prototype:function(){},c=d?new d(j):new e(),h,b,i;for(h in g){if(g.hasOwnProperty(h)){b=g[h];if(e&&(typeof(b)==="function")&&(typeof(e[h])==="function")&&f.test(b)){c[h]=(function(k,l){return function(){var n=this._base,m;this._base=e[k];m=l.apply(this,arguments);if(n!==undefined){this._base=n}else{delete this._base}return m}})(h,b)}else{c[h]=b}}}i=function(k){if((k!==j)&&this.ctor){this.ctor.apply(this,arguments)}};i.prototype=c;i.constructor=c;return i}})})(jQuery);(function(a){a.wijmo.wijgrid.baseView=a.wijmo.wijgrid.classFactory(null,{ctor:function(c,b){if(!c){throw"'wijgrid' must be specified"}this._rowHeaderSize=22;this._wijgrid=c;this._wijgrid.element.addClass("wijmo-wijgrid-table");this._bounds=b;this._bodyRowsAccessor=null;this._headerRowsAccessor=null;this._rowsAccessor=null},dispose:function(){this.toggleDOMSelection(true);this._wijgrid.element.removeClass("wijmo-wijgrid-table")},ensureDisabledState:function(){var d=this._wijgrid.widgetBaseClass+"-disabled ui-state-disabled",c=this._wijgrid.options.disabled,b=this;a.each(this.subTables(),function(f,g){if(g){var e=a(g.element());if(c){e.addClass(d);b._wijgrid._setAttr(e,"aria-disabled",true)}else{e.removeClass(d);b._wijgrid._setAttr(e,"aria-disabled",false)}}})},ensureWidth:function(c,d,b){this._setColumnWidth(c,d)},ensureHeight:function(b){},getScrollValue:function(){return null},getVisibleAreaBounds:function(){throw"not implemented"},getFixedAreaVisibleBounds:function(){throw"not implemented"},render:function(){this._ensureRenderBounds();this._preRender();this._renderContent();this._postRender()},toggleDOMSelection:function(b){a.each(this.subTables(),function(c,d){(new a.wijmo.wijgrid.domSelection(d.element())).toggleSelection(b)});(new a.wijmo.wijgrid.domSelection(this._wijgrid.outerDiv)).toggleSelection(b)},updateSplits:function(b){throw"not implemented"},bodyRows:function(){if(!this._bodyRowsAccessor){this._bodyRowsAccessor=new a.wijmo.wijgrid.rowAccessor(this,2,0,0)}return this._bodyRowsAccessor},filterRow:function(){if(this._wijgrid.options.showFilter){var b=new a.wijmo.wijgrid.rowAccessor(this,1,0,0);return b.item(b.length()-1)}return null},headerRows:function(){var b;if(!this._headerRowsAccessor){b=this._wijgrid.options.showFilter?1:0;this._headerRowsAccessor=new a.wijmo.wijgrid.rowAccessor(this,1,0,b)}return this._headerRowsAccessor},rows:function(){if(!this._rowsAccessor){this._rowsAccessor=new a.wijmo.wijgrid.rowAccessor(this,0,0,0)}return this._rowsAccessor},focusableElement:function(){throw"not implemented"},forEachColumnCell:function(b,d,c){throw"not implemented"},forEachRowCell:function(d,c,b){throw"not implemented"},getAbsoluteCellInfo:function(b){throw"not implemented"},getAbsoluteRowIndex:function(b){throw"not implemented"},getCell:function(c,b){throw"not implemented"},getColumnIndex:function(b){throw"not implemented"},getHeaderCell:function(b){throw"not implemented"},getJoinedCols:function(b){throw"not implemented"},getJoinedRows:function(c,b){throw"not implemented"},getJoinedTables:function(b,c){throw"not implemented"},subTables:function(){throw"not implemented"},_getMappedScrollMode:function(){var d=this._wijgrid.options.scrollMode,b="auto",c="auto";switch(d){case"horizontal":b="hidden";c="visible";break;case"vertical":b="visible";c="hidden";break;case"both":b="visible";c="visible";break}return{vScrollBarVisibility:b,hScrollBarVisibility:c}},_postRender:function(){this.toggleDOMSelection(this._wijgrid.options.selectionMode==="none");this.ensureDisabledState()},_preRender:function(){throw"not implemented"},_ensureRenderBounds:function(){var b=this._wijgrid._getDataCellsRange();this._bounds.start=0;this._bounds.end=b.bottomRight().rowIndex()},_renderContent:function(){this._renderCOLS();this._renderHeader();if(this._wijgrid.options.showFilter){this._renderFilter()}this._renderBody();if(this._wijgrid.options.showFooter){this._renderFooter()}},_renderCOLS:function(){var c=this._wijgrid._field("visibleLeaves"),d,f,e,b;for(e=0,b=c.length;e<b;e++){d=c[e];f=this._createCol(d,e);this._appendCol(f,d,e)}},_renderHeader:function(){var c=a.wijmo.wijgrid.rowType,d=this._wijgrid._field("columnHeadersTable"),e,b,f;if(d&&(b=d.length)){for(e=0;e<b;e++){f=this._insertEmptyRow(c.header,e,-1,-1,-1);this._renderRow(f,null,d[e])}}},_renderFilter:function(){var b=this._insertEmptyRow(a.wijmo.wijgrid.rowType.filter,-1,-1,-1,-1);this._renderRow(b,this._wijgrid._field("visibleLeaves"),null)},_renderBody:function(){var e=a.wijmo.wijgrid.rowType,k=this._wijgrid._field("visibleLeaves"),l=this._wijgrid.sketchTable,d=-1,m=0,f=0,j,c,g,b,h=this._wijgrid._dataOffset;if(this._wijgrid._dataStore.isDynamic()){m=this._wijgrid.options.pageIndex*this._wijgrid.options.pageSize}if(this._bounds.start>=0){for(j=this._bounds.start;j<=this._bounds.end;j++){g=l[j-h];b=(g.rowType&e.data)!==0;c=this._insertEmptyRow(g.rowType,f++,b?++d:-1,b?g.originalRowIndex:-1,b?m+g.originalRowIndex:-1);this._renderRow(c,k,g)}}},_renderFooter:function(){var b=this._insertEmptyRow(a.wijmo.wijgrid.rowType.footer,-1,-1,-1,-1);this._renderRow(b,this._wijgrid._field("visibleLeaves"),null)},_insertEmptyRow:function(h,b,c,e,g){var d=this._wijgrid._onViewInsertEmptyRow.apply(this._wijgrid,arguments),f=this._insertRow(h,b,d);return this._createRowInfo(f,h,a.wijmo.wijgrid.renderState.rendering,b,c,e,g)},_createEmptyCell:function(e,b,d){var c=a.wijmo.wijgrid.rowType,f=this._wijgrid._onViewCreateEmptyCell.apply(this._wijgrid,arguments);return this._createCell(e.type,f)},_insertRow:function(d,b,c){throw"not implemented"},_createCell:function(d,e){var c=a.wijmo.wijgrid.rowType,b;if(!e){e=(d==c.header)?document.createElement("th"):document.createElement("td")}if(d!==c.filter){b=document.createElement("div");b.className="wijmo-wijgrid-innercell";if(e.firstChild){while(e.firstChild){b.appendChild(e.firstChild)}}e.appendChild(b)}return a(e)},_appendCell:function(d,b,c){throw"not implemented"},_createCol:function(c,b){throw"not implemented"},_appendCol:function(d,c,b){throw"not implemented"},_renderRow:function(g,d,f){var c=a.wijmo.wijgrid.rowType,b,e;switch(g.type){case c.filter:this._renderFilterRow(g,d);break;case c.footer:this._renderFooterRow(g,d);break;case c.header:this._renderHeaderRow(g,f);break;case c.data:case c.data|c.dataAlt:this._renderDataRow(g,d,f);b=f.__attr;e=f.__style;break;case c.emptyDataRow:case c.groupHeader:case c.groupFooter:this._renderSpannedRow(g,d,f);b=f.__attr;e=f.__style;break;default:throw"unknown rowType"}this._rowRendered(g,b,e)},_renderCell:function(b,g,i,f,d,e,c){var h=this._createEmptyCell(b,d.dataIndex,d);var j=(b.type===a.wijmo.wijgrid.rowType.filter)?h:a(h[0].firstChild);this._appendCell(b,g,h);if(f){j.html(i)}else{this._wijgrid.cellFormatter.format(j,d,i,b)}this._cellRendered(b,h,g,d,e,c)},_renderDataRow:function(b,l,d){var e,f,g,k,m,j,c,h=false;for(e=0,f=l.length;e<f;e++){g=l[e];k=g.dataIndex;m=null;if(k>=0&&(!d[k]||(d[k].visible===false))){continue}if(g.dataParser){m=(k>=0)?this._wijgrid._toStr(g,d[k].value):null}else{if(k>=0){m=d[k].html;h=true}}j=(k>=0)?d[k].__attr:null;c=(k>=0)?d[k].__style:null;this._renderCell(b,e,m,h,g,j,c)}},_renderFilterRow:function(f,c){var e,b,d;for(e=0,b=c.length;e<b;e++){d=c[e];this._renderCell(f,e,a.wijmo.wijgrid.filterHelper.getSingleValue(d.filterValue),false,d)}},_renderFooterRow:function(e,c){var d,b;for(d=0,b=c.length;d<b;d++){this._renderCell(e,d,"",false,c[d])}},_renderHeaderRow:function(g,e){var c,b,f=0,d;for(c=0,b=e.length;c<b;c++){d=e[c];if(d.column&&d.column.parentVis){d.column.thX=f++;d.column.thY=g.sectionRowIndex;this._renderCell(g,c,d.column.headerText,false,d.column,{colSpan:d.colSpan,rowSpan:d.rowSpan})}}},_renderSpannedRow:function(f,c,g){var e,d,b=Math.min(c.length,g.length);for(e=0;e<b;e++){this._renderCell(f,e,g[e].html,true,c[e],g[e].__attr,g[e].__style)}},_cellRendered:function(g,f,d,c,b,e){this._wijgrid.cellStyleFormatter.format(f,d,c,g,a.wijmo.wijgrid.renderState.rendering,b,e);this._changeCellRenderState(f,a.wijmo.wijgrid.renderState.rendering,false);this._wijgrid._onViewCellRendered(g,f,d,c)},_rowRendered:function(d,b,c){this._wijgrid.rowStyleFormatter.format(d,b,c);d.state&=~a.wijmo.wijgrid.renderState.rendering;this._setRowInfo(d.$rows,d);this._wijgrid._onViewRowRendered(d)},_isBodyRow:function(d){var b=a.wijmo.wijgrid.rowType,c=d.type;return((c&b.data)||(c===b.groupHeader)||(c===b.groupFooter)||(c===b.emptyDataRow))},_changeRowRenderState:function(c,b,d){if(d){c.state|=b}else{c.state&=~b}this._setRowInfo(c.$rows,c)},_changeCellRenderState:function(g,c,f){var e=a.wijmo.wijgrid.dataPrefix,b=this._wijgrid._data$prefix,d=e(g,b,"renderState");if(f){c=d|c;e(g,b,"renderState",c)}else{c=d&~c;e(g,b,"renderState",c)}return c},_adjustWidthArray:function(d,l,j,f,n){var m=this._sumWidthArray(d),e=this._sumWidthArray(l),k=[],h,i=0,c,b,g=true;if(m<=j){a.extend(true,k,d);if(m===j||f){return k}else{h=j-m}}else{a.extend(true,k,l);if(e>=j){return k}else{h=j-e}}a.each(k,function(o,p){if(!p.real){i++}});if(i!==0){if(n!==undefined&&(n>-1&&n<k.length)&&!k[n].real){k[n].width+=h;return k}c=Math.floor(h/i);b=h-c*i;a.each(k,function(o,p){if(!p.real){p.width+=c;if(g){p.width+=b;g=false}}})}return k},_getColumnWidth:function(g,k){var h,d,b,l,n,e,o,q,m,p,c,f;if(k){h=this._wijgrid._field("visibleLeaves")[g];if(h._realWidth!==undefined){d={width:h._realWidth,real:true}}else{if(h.isRowHeader){d={width:this._rowHeaderSize,real:true}}else{b=0;l=this.getJoinedTables(true,g);n=l[2];for(e=0;e<2;e++){o=l[e];if(o!==null){q=o.element().rows;if(f=q.length){for(c=f-1,p=null;c>=0;c--){if(q[c].cells.length===o.width()){p=q[c];break}}if(p){m=p.cells[n];b=Math.max(b,a(m).outerWidth())}}}}d={width:b,real:false}}}k.push(d)}},_setColumnWidth:function(b,c){var d=this.getHeaderCell(b),e=this.getJoinedCols(b);if(c){a(d).setOutWidth(c);a.each(e,function(f,g){a(g).setOutWidth(c)})}},_setTableWidth:function(d,b,g,c){var f,e;a.each(d,function(h,i){i.css("table-layout","fixed").setOutWidth(b)});f=d[0].outerWidth();e=f-b;if(e!==0){this._setColumnWidth(c,g-e)}},_sumWidthArray:function(e,d,c){var b=0;a.each(e,function(f,g){if(d!==undefined&&c!==undefined&&(f<d||f>c)){return true}b+=g.width});return b},_clearBody:function(){a.each(this.subTables(),function(b,c){c.clearSection(2)})},_rebuildOffsets:function(){a.each(this.subTables(),function(b,c){c.rebuildOffsets()})},_removeBodyRow:function(f,e){var d=a.wijmo.wijgrid.rowType,l=this._wijgrid._rows(),g,h,c,k,b,j;if((f>=0)&&(f<(h=l.length()))){if(e){for(g=0;g<h;g++){c=this._getRowInfo(l.item(g));cmp=c.sectionRowIndex-f;if(c.sectionRowIndex>f){c.sectionRowIndex--;if(c.type&d.data){if(c.type&d.dataAlt){c.type&=~d.dataAlt}else{c.type|=d.dataAlt}c.dataItemIndex--;c.dataRowIndex--;c.virtualDataItemIndex--}this._setRowInfo(c.$rows,c)}}}c=this._getRowInfo(l.item(f));b=this.getAbsoluteRowIndex(c.$rows[0]);c.$rows.remove();j=this.getJoinedTables(false,b);if(j[0]){j[0].removeOffset(j[2])}if(j[1]){j[1].removeOffset(j[2])}}},_insertBodyRow:function(g,h,c,o){var n=this._wijgrid._field("visibleLeaves"),f=a.wijmo.wijgrid.rowType,m=this._wijgrid._view(),p=this._wijgrid._rows(),k=p.length(),j,e=((g.rowType&f.data)!==0),d,b,l;if(h<0||h>=k||(!h&&h!==0)){h=k}d=this._insertEmptyRow(g.rowType,h,-1,c,o);this._renderRow(d,n,g);b=this.getAbsoluteRowIndex(d.$rows[0]);l=this.getJoinedTables(false,b);if(l[0]){l[0].insertOffset(b)}if(l[1]){l[1].insertOffset(b)}return d},_findRowInfo:function(f){var c=this.bodyRows(),d=0,b=c.length(),e;if(a.isFunction(f)){for(d=0;d<b;d++){e=this._getRowInfo(c.item(d));if(f(e)===true){return e}}}return null},_setRowInfo:function(g,f){var c="$rows" in f,b="data" in f,e,d;if(c){e=f.$rows;delete f.$rows}if(b){d=f.data;delete f.data}a.wijmo.wijgrid.dataPrefix(g,this._wijgrid._data$prefix,"rowInfo",f);if(c){f.$rows=e}if(b){f.data=d}},_getRowInfo:function(c){var e=this._wijgrid,b=c[1]?a(c):a(c[0]),f=a.wijmo.wijgrid.dataPrefix(b,e._data$prefix,"rowInfo"),d;f.$rows=b;if((f.dataItemIndex>=0)&&(f.type&a.wijmo.wijgrid.rowType.data)){f.data=e._getDataItem(f.dataItemIndex)}return f},_createRowInfo:function(j,h,d,f,e,b,i){var g,c={type:h,state:d,sectionRowIndex:f,dataRowIndex:e,dataItemIndex:b,virtualDataItemIndex:i,$rows:a(j)};if((b>=0)&&(h&a.wijmo.wijgrid.rowType.data)){c.data=this._wijgrid._getDataItem(b)}return c}})})(jQuery);(function(a){a.wijmo.wijgrid.flatView=a.wijmo.wijgrid.classFactory(a.wijmo.wijgrid.baseView,{ctor:function(c,b){this._base(c,b);this._dataTable=null;this._contentArea=null},dispose:function(){this._wijgrid.outerDiv.unbind("scroll",this._onScroll);this._base()},ensureWidth:function(e,f,d){var c=a(this._dataTable.element()),b=c.width()+f-d;this._base(e,f,d);this._setTableWidth([c],b,f,e)},getVisibleAreaBounds:function(){var b=a.wijmo.wijgrid.bounds(this._dataTable.element()),c;if(this._wijgrid.options.scrollMode==="none"){return b}else{c=a.wijmo.wijgrid.bounds(this._wijgrid.outerDiv.find(".wijmo-wijgrid-split-area-se:first")[0]);return{top:b.top,left:b.left,width:Math.min(c.width,b.width),height:Math.min(c.height,b.height)}}},updateSplits:function(d){var m=this,h=this._wijgrid,c=h.options,f=h.element,b=[],j=[],e=[],i=h._field("visibleLeaves"),k=h.outerDiv,l,g;f.css({"table-layout":"",width:""});a.each(i,function(p,o){var q,n=o.width;if(n||(n===0)){q=((typeof(n)==="string")&&(n.length>1)&&(n[n.length-1]==="%"));if(q){n=k.width()*parseFloat(n)/100}else{n=parseFloat(n)}if(o.ensurePxWidth||(o.ensurePxWidth===undefined&&c.ensureColumnsPxWidth)){o._realWidth=n}m._setColumnWidth(p,n)}});a.each(i,function(o,n){m._getColumnWidth(o,b)});f.css("width","1px");a.each(i,function(o,n){m._getColumnWidth(o,j)});l=k.width();e=this._adjustWidthArray(b,j,l,c.ensureColumnsPxWidth,c.autoExpandColumnIndex);a.each(e,function(o,p){var n=i[o];if(n._realWidth!==undefined){delete n._realWidth;return}m._setColumnWidth(o,p.width)});g=e.length-1;if(g!==-1){this._setTableWidth([f],this._sumWidthArray(e,0,g),e[g].width,g)}},focusableElement:function(){return a(this._dataTable.element())},forEachColumnCell:function(b,d,c){return this._dataTable.forEachColumnCell(b,d,c)},forEachRowCell:function(d,c,b){return this._dataTable.forEachRowCell(d,c,b)},getAbsoluteCellInfo:function(b){return new a.wijmo.wijgrid.cellInfo(this.getColumnIndex(b),b.parentNode.rowIndex,this._wijgrid,true)},getAbsoluteRowIndex:function(b){return b.rowIndex},getCell:function(e,d){var c=this._dataTable.getCellIdx(e,d),b;if(c>=0){b=this.getJoinedRows(d,0);if(b[0]){return b[0].cells[c]}}return null},getColumnIndex:function(b){return this._dataTable.getColumnIdx(b)},getHeaderCell:function(d){var b=this._wijgrid._field("visibleLeaves")[d],c;if(b&&(c=this._wijgrid._headerRows())){return new a.wijmo.wijgrid.rowAccessor().getCell(c.item(b.thY),b.thX)}return null},getJoinedCols:function(b){var c=a(this._dataTable.element()).find("> colgroup");if(c.length){if(b<c[0].childNodes.length){return[c[0].childNodes[b],null]}}return[null,null]},getJoinedRows:function(c,b){return[this._dataTable.getSectionRow(c,b),null]},getJoinedTables:function(b,c){return[this._dataTable,null,c]},subTables:function(){return[this._dataTable]},_preRender:function(){this._dataTable=new a.wijmo.wijgrid.htmlTableAccessor(this._wijgrid.element[0],true,true,true)},_postRender:function(){this._wijgrid.element.find("> tbody").addClass("ui-widget-content wijmo-wijgrid-data");this._dataTable=new a.wijmo.wijgrid.htmlTableAccessor(this._wijgrid.element[0]);this._wijgrid._setAttr(this._wijgrid.element,{role:"grid",cellpadding:"0",border:"0",cellspacing:"0"});this._wijgrid.element.css("border-collapse","separate");this._wijgrid.outerDiv.bind("scroll",{wijgrid:this._wijgrid},this._onScroll);this._base()},_insertRow:function(f,c,d){var b=a.wijmo.wijgrid.rowType,e;switch(f){case b.header:case b.filter:e=this._dataTable.ensureTHead();break;case b.footer:e=this._dataTable.ensureTFoot();break;default:e=this._dataTable.ensureTBody()}if(d){return[e.appendChild(d)]}else{if(c>e.rows.length){c=-1}return[e.insertRow(c)]}},_rowRendered:function(e,b,c){var d=e.$rows[0];if(!d.cells.length&&this._isBodyRow(e)){d.parentNode.removeChild(d)}else{this._base(e,b,c)}},_appendCell:function(d,b,c){d.$rows[0].appendChild(c[0])},_createCol:function(c,b){return document.createElement("col")},_appendCol:function(d,c,b){this._dataTable.appendCol(d)},_onScroll:function(b){if(b.data.wijgrid.$superPanelHeader){b.data.wijgrid.$superPanelHeader.css("left",b.target.scrollLeft)}if(b.data.wijgrid.$bottomPagerDiv){b.data.wijgrid.$bottomPagerDiv.css("left",b.target.scrollLeft)}}})})(jQuery);(function(a){a.wijmo.wijgrid.fixedView=a.wijmo.wijgrid.classFactory(a.wijmo.wijgrid.baseView,{ctor:function(c,b){this._base(c,b);this._verScrollBarSize=18;this._mouseWheelHandler=a.proxy(this._onMouseWheel,this);this._viewTables={};this._splitAreas={};this._scroller=null;this.element=c.element;this._allowVirtualScrolling=c._allowVirtualScrolling(),this._staticDataRowIndex=c._getStaticIndex(true);this._staticRowIndex=c._getRealStaticRowIndex();this._staticColumnIndex=c._getRealStaticColumnIndex();this._staticAllColumnIndex=(this._staticColumnIndex===-1)?-1:c._field("visibleLeaves")[this._staticColumnIndex].leavesIdx},dispose:function(){this._base();this._wijgrid.outerDiv.unbind("mousewheel",this._mouseWheelHandler)},ensureWidth:function(l,r,c){var j=this._wijgrid,e=j.options,f=this._staticColumnIndex,p=l<=f,k=a(this._viewTables.nw.element()),g=a(this._viewTables.ne.element()),q=a(this._viewTables.sw.element()),m=a(this._viewTables.se.element()),b=p?[k,q]:[g,m],i=(p?k.width():g.width())+r-c,h=j._field("frozener"),d=this.getScrollValue();this._destroySuperPanel();this._base(l,r);this._setTableWidth(b,i,r,l);try{if(f>=0){e.splitDistanceX=k[0].offsetWidth}else{e.splitDistanceX=0}}catch(n){}this._updateSplitAreaBounds(0);this._adjustRowsHeights();try{if(this._staticRowIndex>=0){e.splitDistanceY=Math.max(k[0].offsetHeight,g[0].offsetHeight)}else{e.splitDistanceY=0}}catch(n){}this._updateSplitAreaBounds(1);this.refreshPanel(d);h.refresh()},ensureHeight:function(i){var f,g=this._wijgrid,c=g.options,h=a(this._viewTables.nw.element()),d=a(this._viewTables.ne.element()),l=a(this._viewTables.sw.element()),j=a(this._viewTables.se.element()),e=g._field("frozener"),b=this.getScrollValue(),m;this._destroySuperPanel();if(arguments.length>0){f=this.getJoinedRows(i,2);this._setRowHeight(f,this._getRowHeight(f))}j.css("height","");l.css("height","");m=Math.max(j.height(),l.height());j.height(m);l.height(m);try{if(this._staticRowIndex>=0){c.splitDistanceY=Math.max(h[0].offsetHeight,d[0].offsetHeight)}else{c.splitDistanceY=0}}catch(k){}this._updateSplitAreaBounds(1);this.refreshPanel(b);e.refresh()},getScrollValue:function(){var b=this._getSuperPanel();return b?{x:b.options.hScroller.scrollValue,y:b.options.vScroller.scrollValue}:null},getVisibleAreaBounds:function(){var b=a.wijmo.wijgrid.bounds(this._wijgrid.outerDiv.find(".wijmo-wijsuperpanel-contentwrapper:first"));if(!b){b=a.wijmo.wijgrid.bounds(this._wijgrid.outerDiv)}return b},getFixedAreaVisibleBounds:function(){var e=this.getVisibleAreaBounds(),d=a.wijmo.wijgrid.bounds(this._splitAreas.ne),b=a.wijmo.wijgrid.bounds(this._splitAreas.nw),c=null,f=null;if(d.height||b.height){c={left:e.left,top:e.top,width:e.width,height:Math.min(d.height||b.height,e.height)}}if(b.width){f={left:e.left,top:e.top,width:Math.min(b.width,e.width),height:e.height}}return[c,f]},refreshPanel:function(d){var i=this,f=this._wijgrid,j=f.options,g=this._getGridWidth(j.scrollMode),c=this._getMappedScrollMode(),e=this._testNeedVBar(f.outerDiv,f.element,a(this._viewTables.ne.element()),j.scrollMode,f._autoHeight),h=d?d.x:null,b=d?d.y:null;this._scroller.width(g);this._splitAreas.ne.width(g-j.splitDistanceX-(e?this._verScrollBarSize:0));if(!this._scroller.data("wijmo-wijsuperpanel")){if(this._allowVirtualScrolling){this.vsUI=new a.wijmo.wijgrid.virtualScrollerUI(f,this._splitAreas.se,j.splitDistanceY)}this._scroller.wijsuperpanel({disabled:f.options.disabled,scroll:a.proxy(this._onScroll,this),bubbleScrollingEvent:true,customScrolling:this._allowVirtualScrolling,vScroller:{scrollBarVisibility:c.vScrollBarVisibility,scrollValue:d?d.y:null},hScroller:{scrollBarVisibility:c.hScrollBarVisibility,scrollValue:d?d.x:null},hScrollerActivating:function(m,k){var l;if(f._autoHeight){l=f.element.height()+j.splitDistanceY-k.contentLength;if(l>0){i._scroller.height(i._scroller.height()+l);i._scroller.wijsuperpanel("paintPanel");return false}}i._splitAreas.sw.height(k.contentLength-j.splitDistanceY)}});this._scroller.find(".wijmo-wijsuperpanel-contentwrapper:first").scroll(function(k){if(k.target.scrollLeft){k.target.scrollLeft=0}if(k.target.scrollTop){k.target.scrollTop=0}k.preventDefault()});if(this._allowVirtualScrolling){this.vsUI.attach(this._scroller)}}else{this._scroller.wijsuperpanel("paintPanel")}this._scroller.find(".wijmo-wijsuperpanel-hbarcontainer, .wijmo-wijsuperpanel-vbarcontainer").css("zIndex",5)},scrollTo:function(q){if(!q.tableCell()){return}var c=this._wijgrid,t=c.options,m=this._getSuperPanel(),d=q.tableCell(),e=d.nodeType?a(d):d,g,v,i,k,w,p,n,u,b,x,r,h=null,l=null,f,s,y,j;if(m&&e.is(":visible")){g=m.getContentElement();v=g.parent();i=parseInt((g.css("left")+"").replace("px",""),10)*-1;k=parseInt((g.css("top")+"").replace("px",""),10)*-1;w=v.outerWidth()-t.splitDistanceX;p=v.outerHeight()-t.splitDistanceY;n=e.position();u=n.left;b=n.top;x=e.outerWidth();r=e.outerHeight();f=c._getStaticIndex(true);s=c._getStaticIndex(false);y=q.rowIndex();j=q.cellIndex();if(y<=f){if(j<=s){h=0;l=0}else{u+=i;if(u+x>i+w){i=h=u+x-w}if(u<i){h=u}l=0}}else{if(j<=s){b+=k;if(b+r>k+p){k=l=b+r-p}if(b<k){l=b}h=0}else{u-=t.splitDistanceX;if(b+r>k+p){k=l=b+r-p}if(u+x>i+w){i=h=u+x-w}if(b<k){l=b}if(u<i){h=u}}}if(h!==null){m.hScrollTo(h)}if(l!==null){if(this._allowVirtualScrolling){}else{m.vScrollTo(l)}}}},updateSplits:function(m){var c=this._wijgrid,s=c.options,f,q=this,k=[],h=[],j=[],r=this._staticColumnIndex,p,n=s.scrollMode,d=c._field("visibleLeaves"),b=a(this._viewTables.se.element()),g=a(this._viewTables.ne.element()),t=a(this._viewTables.sw.element()),x=a(this._viewTables.nw.element()),e=c.outerDiv,w,u,l;this._destroySuperPanel();e.unbind("mousewheel",this._mouseWheelHandler);if((w=q._viewTables.se.element().tBodies)&&(w=w[0])){l=false;for(u=0;u<w.rows.length;u++){if(!a(w.rows[u]).hasClass("wijmo-wijgrid-groupheaderrow")){l=true;break}}if(!l){c.element.css("width","100%")}}a.each([b,g,t,x],function(i,o){o.css({"table-layout":"",width:""})});a.each(d,function(y,o){var z,i=o.width;if(i||(i===0)){z=((typeof(i)==="string")&&(i.length>1)&&(i[i.length-1]==="%"));if(z){i=e.width()*parseFloat(i)/100}else{i=parseFloat(i)}if(o.ensurePxWidth||(o.ensurePxWidth===undefined&&s.ensureColumnsPxWidth)){o._realWidth=i}q._setColumnWidth(y,i)}});a.each(d,function(o,i){q._getColumnWidth(o,j)});a.each([x,g,t,b],function(i,o){o.css({width:"1px"})});a.each(d,function(o,i){q._getColumnWidth(o,h)});f=e.width();k=this._adjustWidthArray(j,h,f,s.ensureColumnsPxWidth,s.autoExpandColumnIndex);a.each(k,function(o,y){var i=d[o];if(i._realWidth!==undefined){delete i._realWidth;return}q._setColumnWidth(o,y.width)});if(r>=0){p=r;this._setTableWidth([x,t],this._sumWidthArray(k,0,p),k[p].width,p)}try{if(r>=0){s.splitDistanceX=x[0].offsetWidth}else{s.splitDistanceX=0}}catch(v){}this._updateSplitAreaBounds(0);if(!s.ensureColumnsPxWidth){g.parent().width(f-s.splitDistanceX)}p=k.length-1;if(p!==-1){this._setTableWidth([g,b],this._sumWidthArray(k,r+1,p),k[p].width,p)}this._adjustRowsHeights();try{if(this._staticRowIndex>=0){s.splitDistanceY=Math.max(x[0].offsetHeight,g[0].offsetHeight)}else{s.splitDistanceY=0}}catch(v){}this._updateSplitAreaBounds(1);if(!s.ensureColumnsPxWidth){if(this._testNeedVBar(c.outerDiv,b,g,n,c._autoHeight)){f-=this._verScrollBarSize;k=this._adjustWidthArray(j,h,f,s.ensureColumnsPxWidth,s.autoExpandColumnIndex);a.each(k,function(i,o){if(!o.real){q._setColumnWidth(i,o.width)}});if(r>=0){p=r;this._setTableWidth([x,t],this._sumWidthArray(k,0,p),k[p].width,p)}try{if(r>=0){s.splitDistanceX=x[0].offsetWidth}else{s.splitDistanceX=0}}catch(v){}this._updateSplitAreaBounds(0);g.parent().width(f-s.splitDistanceX);p=k.length-1;if(p!==-1){this._setTableWidth([g,b],this._sumWidthArray(k,r+1,p),k[p].width,p)}this._adjustRowsHeights();try{if(this._staticRowIndex>=0){s.splitDistanceY=Math.max(x[0].offsetHeight,g[0].offsetHeight)}else{s.splitDistanceY=0}}catch(v){}this._updateSplitAreaBounds(1)}}this.refreshPanel(m);e.bind("mousewheel",this._mouseWheelHandler)},_clearBody:function(){this._base()},bodyRows:function(){var b=this._base();return b},focusableElement:function(){return this._wijgrid.outerDiv},forEachColumnCell:function(d,g,f){var e=this.getJoinedTables(true,d),c,b;if(e[0]!==null){c=e[2];b=e[0].forEachColumnCell(c,g,f);if(b!==true){return b}if(e[1]!==null){b=e[1].forEachColumnCell(c,g,f);if(b!==true){return b}}}return true},forEachRowCell:function(i,h,g){var f=this.getJoinedTables(false,i),e=f[0],d=f[1],b,c;if(e!==null){b=f[2];if(b<e.element().rows.length){c=e.forEachRowCell(b,h,g);if(c!==true){return c}}if((d!==null)&&(b<d.element().rows.length)){c=d.forEachRowCell(b,h,g);if(c!==true){return c}}}return true},getAbsoluteCellInfo:function(b){return new a.wijmo.wijgrid.cellInfo(this.getColumnIndex(b),this.getAbsoluteRowIndex(b.parentNode),this._wijgrid,true)},getAbsoluteRowIndex:function(c){var b=c.rowIndex,d=c.parentNode;while(d.tagName.toLowerCase()!=="table"){d=d.parentNode}return(d===this._viewTables.nw.element()||d===this._viewTables.ne.element())?b:b+this._staticRowIndex+1},getCell:function(i,g){var b=this.getJoinedTables(false,g),f,e,h,d,c;if(b[0]!==null){f=this.getJoinedTables(true,i);if(f[0]!==null){e=b[2];h=f[2];d=null;if(b[1]!==null){d=(i===h)?b[0]:b[1]}else{d=b[0]}c=d.getCellIdx(h,e);if(c>=0){return d.element().rows[e].cells[c]}}}return null},getColumnIndex:function(f){var b=null,d=null,c=false,e;for(b=f.parentNode;b.tagName.toLowerCase()!=="table";b=b.parentNode){}if(b!==null){if(b===this._viewTables.nw.element()){d=this._viewTables.nw}else{if(b===this._viewTables.ne.element()){d=this._viewTables.ne;c=true}else{if(b===this._viewTables.sw.element()){d=this._viewTables.sw}else{if(b===this._viewTables.se.element()){d=this._viewTables.se;c=true}}}}if(d!==null){e=d.getColumnIdx(f);if(c){e+=this._staticColumnIndex+1}return e}}return -1},getHeaderCell:function(d){var b=this._wijgrid._field("visibleLeaves")[d],c;if(b&&(c=this._wijgrid._headerRows())){return new a.wijmo.wijgrid.rowAccessor().getCell(c.item(b.thY),b.thX)}return null},getJoinedCols:function(d){var b=[],e=this.getJoinedTables(true,d),c=e[2];e.splice(e.length-1,1);a.each(e,function(f,g){b.push(g?a(g.element()).find("col")[c]:null)});return b},getJoinedRows:function(i,d){var o=null,n=null,m=null,k=null,j=this._staticRowIndex,b=this._staticColumnIndex,c=this._wijgrid._field("visibleLeaves").length-1,l=this._rowsCountRaw()-1,f=(j===l),h=(j<0),e=!f&&!h,g=0;if(f||e){if(b>=0&&b<c){m=this._viewTables.nw;k=this._viewTables.ne}else{m=(b<0)?this._viewTables.ne:this._viewTables.nw}g=m.getSectionLength(d);if(i<g){o=m.getSectionRow(i,d);if(k!==null){n=k.getSectionRow(i,d)}}}if(h||(e&&(o===null))){if(!h){i-=g}if(b>=0&&b<c){m=this._viewTables.sw;k=this._viewTables.se}else{m=(b<0)?this._viewTables.se:this._viewTables.sw}o=m.getSectionRow(i,d);if(k!==null){n=k.getSectionRow(i,d)}}return(o===null&&n===null)?null:[o,n]},getJoinedTables:function(c,e){var h=null,g=null,b=e,f=this._wijgrid,i=this._staticRowIndex,d=this._staticColumnIndex;if(c){if(e<=d){h=this._viewTables.nw;g=this._viewTables.sw}else{h=this._viewTables.ne;g=this._viewTables.se;b=b-(d+1)}if(i<0){h=null}if(i===this._rowsCountRaw()-1){g=null}}else{if(e<=i){h=this._viewTables.nw;g=this._viewTables.ne}else{h=this._viewTables.sw;g=this._viewTables.se;b=b-(i+1)}if(d<0){h=null}if(d===f._field("leaves").length-1){g=null}}if(h===null){h=g;g=null}return[h,g,b]},subTables:function(){return[this._viewTables.nw,this._viewTables.ne,this._viewTables.sw,this._viewTables.se]},_getGridWidth:function(e){var d=this._wijgrid,c=d.element.outerWidth(true)+d.options.splitDistanceX,b=d.outerDiv.innerWidth();if(this._testNeedVBar(d.outerDiv,d.element,a(this._viewTables.ne.element()),e,d._autoHeight)){c+=this._verScrollBarSize}if(c>b){c=b}return c},_getSuperPanel:function(){return this._scroller?this._scroller.data("wijmo-wijsuperpanel"):null},_ensureRenderBounds:function(){if(this._wijgrid._allowVirtualScrolling()){this._wijgrid._ensureRenderBounds(this._bounds);if(this._wijgrid._serverSideVirtualScrolling()){}this._bounds.end=this._bounds.start+this._wijgrid.options.pageSize-1;this._wijgrid._ensureRenderBounds(this._bounds)}else{this._base()}},_renderContent:function(){this._base()},_preRender:function(){var c=document.createDocumentFragment(),b=a.wijmo.wijgrid.htmlTableAccessor;this._wijgrid.outerDiv.wrapInner('<div class="wijmo-wijgrid-fixedview"><div class="wijmo-wijgrid-scroller"><div class="wijmo-wijgrid-split-area-se wijmo-wijgrid-content-area"></div></div></div>');this._scroller=this._wijgrid.outerDiv.find(".wijmo-wijgrid-scroller");this._scroller.css("padding",0);this._scroller.after(this._splitAreas.nw=a('<div class="wijmo-wijgrid-split-area wijmo-wijgrid-split-area-nw" style="overflow:hidden;position:absolute;z-index:4;top:0px;left:0px;"></div>'));this._scroller.after(this._splitAreas.ne=a('<div class="wijmo-wijgrid-split-area wijmo-wijgrid-split-area-ne" style="overflow:hidden;position:absolute;z-index:4;top:0px;left:0px;"></div>'));this._scroller.after(this._splitAreas.sw=a('<div class="wijmo-wijgrid-split-area wijmo-wijgrid-split-area-sw" style="overflow:hidden;position:absolute;z-index:4;top:0px;left:0px;"></div>'));this._splitAreas.se=this._scroller.find(".wijmo-wijgrid-split-area-se:first");this._viewTables={nw:new b(c.appendChild(document.createElement("table")),true,true,true),ne:new b(c.appendChild(document.createElement("table")),true,true,true),sw:new b(c.appendChild(document.createElement("table")),true,true,true),se:new b(c.appendChild(this._wijgrid.element[0]),true,true,true)}},_postRender:function(){var d,b,g,f,c=a.wijmo.wijgrid.htmlTableAccessor,e=this;this._viewTables={nw:new c(d=this._viewTables.nw.element()),ne:new c(b=this._viewTables.ne.element()),sw:new c(g=this._viewTables.sw.element()),se:new c(f=this._viewTables.se.element())};this._splitAreas.nw.empty().append(d);this._splitAreas.ne.empty().append(b);this._splitAreas.sw.empty().append(g);this._splitAreas.se.empty().append(f);a.each(this._viewTables,function(h,j){var i=a(j.element());e._wijgrid._setAttr(i,{role:"grid",border:"0",cellpadding:"0",cellspacing:"0"});i.addClass("wijmo-wijgrid-table").css("border-collapse","separate").find("> tbody").addClass("ui-widget-content wijmo-wijgrid-data")});this._base()},_rowsCountRaw:function(){var c=this._viewTables.nw.element(),b=this._viewTables.ne.element(),e=this._viewTables.sw.element(),d=this._viewTables.se.element(),f;f=Math.max(c.rows.length,b.rows.length)+Math.max(e.rows.length,d.rows.length);return f},_createCol:function(c,b){return[document.createElement("col"),document.createElement("col")]},_appendCol:function(d,c,b){if(b<=this._staticColumnIndex){this._viewTables.nw.appendCol(d[0]);this._viewTables.sw.appendCol(d[1])}else{this._viewTables.ne.appendCol(d[0]);this._viewTables.se.appendCol(d[1])}},_insertRow:function(g,c,e){var b=a.wijmo.wijgrid.rowType,f,d,h=this._viewTables;switch(g){case b.header:case b.filter:f=h.nw.ensureTHead();d=h.ne.ensureTHead();break;case b.footer:f=h.sw.ensureTFoot();d=h.se.ensureTFoot();break;default:if(c<=this._staticDataRowIndex){f=h.nw.ensureTBody();d=h.ne.ensureTBody()}else{c-=this._staticDataRowIndex+1;f=h.sw.ensureTBody();d=h.se.ensureTBody()}}if(e){return[f.appendChild(e),d.appendChild(e.cloneNode(false))]}else{return[f.insertRow(c>f.rows.length?-1:c),d.insertRow(c>d.rows.length?-1:c)]}},_rowRendered:function(f,b,c){var d=f.$rows[0],e=f.$rows[1];if(!d.cells.length&&this._isBodyRow(f)){d.parentNode.removeChild(d);d=null}if(!e.cells.length&&this._isBodyRow(f)){e.parentNode.removeChild(e);e=null}if(d||e){if(!d||!e){f.$rows=d?a(d):a(e)}this._base(f,b,c)}},_appendCell:function(e,b,d){var c=(e.type!==a.wijmo.wijgrid.rowType.header)?this._staticColumnIndex:this._staticAllColumnIndex;if(b<=c){e.$rows[0].appendChild(d[0])}else{e.$rows[1].appendChild(d[0])}},_getRowHeight:function(f,e){if(f[0]&&f[1]){var h=a(f[0]),b=a(f[1]),d,g,c=function(k){var n,m=k[0],o;for(n=0;n<m.cells.length;n++){o=m.cells[n];if(!o.rowSpan||o.rowSpan===1){var l=a(o).outerHeight();var j=a(o).height();return a(o).outerHeight()}}return k.height()};h.css("height","");b.css("height","");if(e){d=c(h);g=c(b)}else{d=h.height();g=b.height()}return Math.max(d,g)}return null},_setRowHeight:function(b,e){if(b[0]&&b[1]){var d=[a(b[0]),a(b[1])],c;if(e===null){return}e+=1;a.each(d,function(f,g){g.height(e);c=e-g.height();if(c){g.height(e+c)}})}},_adjustRowHeight:function(){var c=this._wijgrid,v=this._staticColumnIndex,u=c._field("visibleLeaves").length-1,h,g,k,w,f,n,r,o,e,d,q,m,t,s,p,b,l=[];if(v>-1&&v<u){h=this._staticRowIndex;g=this._rowsCountRaw()-1;k=this._viewTables;if(h>-1&&h<=g){w=k.ne.element();f=w.parentNode;n=k.nw.element();r=n.parentNode;p=n.rows;b=w.rows;m=p.length;for(t=0;t<m;t++){l.push(this._getRowHeight([p[t],b[t]],true))}}if(h>=-1&&h<g){o=k.se.element();e=o.parentNode;d=k.sw.element();q=d.parentNode;p=d.rows;b=o.rows;m=p.length;for(t=0;t<m;t++){l.push(this._getRowHeight([p[t],b[t]]))}}if(h>-1&&h<=g){r.removeChild(n);f.removeChild(w)}if(h>=-1&&h<g){q.removeChild(d);e.removeChild(o)}if(h>-1&&h<=g){p=n.rows;b=w.rows;m=p.length;for(t=0,s=0;t<m;t++){this._setRowHeight([p[t],b[t]],l[s++])}}if(h>=-1&&h<g){p=d.rows;b=o.rows;m=p.length;for(t=0;t<m;t++){this._setRowHeight([p[t],b[t]],l[s++])}}if(h>-1&&h<=g){r.appendChild(n);f.appendChild(w)}if(h>=-1&&h<g){q.appendChild(d);e.appendChild(o)}}},_adjustRowsHeights:function(){var c=a(this._viewTables.sw.element()),d=a(this._viewTables.se.element()),b;d.css("height","");c.css("height","");this._adjustRowHeight();b=Math.max(d.height(),c.height());c.height(b);d.height(b)},_destroySuperPanel:function(){if(this._scroller.data("wijmo-wijsuperpanel")){if(this.vsUI){this.vsUI.dispose()}this._scroller.wijsuperpanel("destroy")}},_onScroll:function(b,d){var c=this._getSuperPanel();if(this._allowVirtualScrolling){if(d.dir==="h"){this._setFixedAreaPosition(c.getContentElement(),d.dir,d.position,d.animationOptions,false);this._setFixedAreaPosition(this._splitAreas.ne,d.dir,d.position,d.animationOptions,true)}}else{this._setFixedAreaPosition(d.dir==="h"?this._splitAreas.ne:this._splitAreas.sw,d.dir,d.position,d.animationOptions,true)}this._wijgrid._trackScrollingPosition(c.options.hScroller.scrollValue,c.options.vScroller.scrollValue)},_onMouseWheel:function(g,h){var f,c=(h>0)?"top":"bottom",b=false,d;if(this._wijgrid._canInteract()){f=this.getFixedAreaVisibleBounds();a.each(f,function(e,j){if(j&&a.wijmo.wijgrid.isOver(g.pageY,g.pageX,j.top,j.left,j.height,j.width)){b=true;return false}});if(b&&this._scroller.data("wijmo-wijsuperpanel")){d=this._scroller.wijsuperpanel("option","vScroller").scrollValue;this._scroller.wijsuperpanel("doScrolling",c);if(d!==this._scroller.wijsuperpanel("option","vScroller").scrollValue){g.stopPropagation();g.preventDefault()}}}},_setFixedAreaPosition:function(d,g,b,e,f){var h={},c;if(g==="h"){c=f?"scrollLeft":"left"}else{c=f?"scrollTop":"top"}if(!f){b=-b}if(e){h[c]=b;d.animate(h,e)}else{if(f){d[0][c]=b}else{d.css(c,b)}}},_testNeedVBar:function(k,c,l,d,m){var i,e=this._wijgrid,f=l.width()+e.options.splitDistanceX,b=c.height()+e.options.splitDistanceY,o=k.width(),j=k.height(),h,n=0,g=0;if(this._allowVirtualScrolling&&e._totalRowsCount()>1){return true}if(e.$superPanelHeader!==null){n=e.$superPanelHeader.outerHeight(true)}if(e.$bottomPagerDiv!==null){g=e.$bottomPagerDiv.outerHeight(true)}h=j-n-g;if(d==="both"||d==="vertical"){i=true}else{i=(d==="auto")&&((b>h)||(!m&&f>o&&b>h-this._verScrollBarSize))}return i},_updateSplitAreaBounds:function(h){var b=this._wijgrid,g=b.options,f,d,c=0,e=0;if(h===0||h===2){this._splitAreas.nw.width(g.splitDistanceX);this._splitAreas.sw.width(g.splitDistanceX);this._splitAreas.se.css("marginLeft",g.splitDistanceX);this._splitAreas.ne.css("marginLeft",g.splitDistanceX)}if(h===1||h===2){this._scroller.css("height","");this._splitAreas.se.css("marginTop",0);f=b.outerDiv.height();if(!b._autoHeight){this._scroller.height(f)}else{this._scroller.height(f+g.splitDistanceY)}this._splitAreas.nw.height(g.splitDistanceY);this._splitAreas.ne.height(g.splitDistanceY);if(b.$superPanelHeader!==null){c=b.$superPanelHeader.outerHeight(true)}if(b.$bottomPagerDiv!==null){e=b.$bottomPagerDiv.outerHeight(true)}d=f-c-e;if(b.$superPanelHeader!==null){this._splitAreas.nw.css("top",c+"px");this._splitAreas.ne.css("top",c+"px")}if(!b._autoHeight){this._splitAreas.sw.height(d-g.splitDistanceY)}else{this._splitAreas.sw.height(d)}this._splitAreas.sw.css("top",g.splitDistanceY+c);this._splitAreas.se.css("marginTop",g.splitDistanceY)}}})})(jQuery);(function(a){a.wijmo.wijgrid.selection=function(b){var k=0,i,g=new a.wijmo.wijgrid.cellInfoOrderedCollection(b),c=new a.wijmo.wijgrid.cellInfoOrderedCollection(b),d=new a.wijmo.wijgrid.cellInfoOrderedCollection(b),j=new a.wijmo.wijgrid.cellInfoOrderedCollection(b),m=null,e=null,l={singlecell:[0,0,0],singlecolumn:[1,1,1],singlerow:[2,2,2],singlerange:[0,1,2],multicolumn:[1,1,1],multirow:[2,2,2],multirange:[0,1,2]};this.selectedCells=function(){return d};this.addColumns=function(o,n){if(!n&&n!==0){n=o}this.addRange(o,0,n,16777215)};this.addRange=function(o,r,p,q){if(!o&&(arguments.length===1)){throw"invalid argument"}var n=(arguments.length===4)?new a.wijmo.wijgrid.cellInfoRange(new a.wijmo.wijgrid.cellInfo(o,r),new a.wijmo.wijgrid.cellInfo(p,q)):o._clone();n._normalize();if(!n._isValid()){throw"invalid argument"}this.beginUpdate();this._startNewTransaction(b._field("currentCell"));this._selectRange(n,false,true,0,null);this.endUpdate()};this.addRows=function(o,n){if(!n&&n!==0){n=o}this.addRange(0,o,16777215,n)};this.removeRange=function(o,r,p,q){if(!o&&(arguments.length===1)){throw"invalid argument"}var n=(arguments.length===4)?new a.wijmo.wijgrid.cellInfoRange(new a.wijmo.wijgrid.cellInfo(o,r),new a.wijmo.wijgrid.cellInfo(p,q)):o._clone();n._normalize();if(!n._isValid()){throw"invalid argument"}this.beginUpdate();this._startNewTransaction(b._field("currentCell"));this._clearRange(n,0);this.endUpdate()};this.removeColumns=function(o,n){if(!n&&n!==0){n=o}this.removeRange(o,0,n,16777215)};this.removeRows=function(o,n){if(!n&&n!==0){n=o}this.removeRange(0,o,16777215,n)};this.addRows=function(o,n){if(!n&&n!==0){n=o}this.addRange(0,o,65535,n)};this.clear=function(){this.beginUpdate();c._clear();c._addFrom(d);this.endUpdate()};this.selectAll=function(){this.beginUpdate();this._selectRange(b._getDataCellsRange(),false,false,0,null);this.endUpdate()};this.beginUpdate=function(){k++};this.endUpdate=function(){if(k>0){k--;if(k===0){f();if(g.length()||c.length()){if(m!==null){m.UnderlyingDataChanged()}if(e!==null){e.UnderlyingDataChanged()}b._trigger("selectionChanged",null,{addedCells:g,removedCells:c})}g=new a.wijmo.wijgrid.cellInfoOrderedCollection(b);c._clear()}}};this._multipleRangesAllowed=function(){var n=b.options.selectionMode;return(n&&((n=n.toLowerCase())==="multicolumn"||n==="multirow"||n==="multirange"))};this._anchorCell=function(){return i};this._startNewTransaction=function(n){if(n){i=n._clone();j=new a.wijmo.wijgrid.cellInfoOrderedCollection(b)}};this._clearRange=function(t,r){var y=b.options.selectionMode.toLowerCase(),n,o,q,v,z,x,s,u,p,w=b._getDataCellsRange();if(t._isValid()&&(y!=="none")&&(d.length()>0)){n=t._clone();n._normalize();n._clip(w);if(!t._isValid()){return}n._extend(l[y][r],w);this.beginUpdate();for(s=0,u=d.length();s<u;s++){p=d.item(s);if(n._containsCellInfo(p)){c._add(p)}}this.endUpdate()}};this._selectRange=function(o,u,s,r,q){var t=b.options.selectionMode.toLowerCase(),n,p=b._getDataCellsRange();if((t!=="none")&&o._isValid()){n=o._clone();n._normalize();n._clip(p);if(!n._isValid()){return}this.beginUpdate();if(!this._multipleRangesAllowed()){this.clear()}else{if(u||s){if(s){c._clear();c._addFrom(j)}}else{this.clear()}}switch(t){case"singlecell":case"singlecolumn":case"singlerow":n=(q===null)?new a.wijmo.wijgrid.cellInfoRange(n.topLeft(),n.topLeft()):new a.wijmo.wijgrid.cellInfoRange(q,q);break}n._extend(l[t][r],p);h(n,true);this.endUpdate()}};function f(){var t=b._getDataToAbsOffset(),r=t.x,v=t.y,z=b._view(),u,x,s,A,y,w,q=a.wijmo.wijgrid.renderState,o,n,p=-1;for(u=0,x=c.length();u<x;u++){s=c.item(u);if(g.indexOf(s)<0){A=z.getCell(s.cellIndex()+r,s.rowIndex()+v);if(A){if(p!==s.rowIndex()){o=s.row();p=s.rowIndex()}y=a(A);n=z._changeCellRenderState(y,q.selected,false);b.cellStyleFormatter.format(y,s.cellIndex(),s.column(),o,n)}d._remove(s);j._remove(s)}else{c._removeAt(u);u--;x--}}p=-1;for(u=0,x=g.length();u<x;u++){s=g.item(u);w=d.indexOf(s);if(w<0){A=z.getCell(s.cellIndex()+r,s.rowIndex()+v);if(A){if(p!==s.rowIndex()){o=s.row();p=s.rowIndex()}y=a(A);n=z._changeCellRenderState(y,q.selected,true);b.cellStyleFormatter.format(y,s.cellIndex(),s.column(),o,n)}d._insertUnsafe(s,~w);j._add(s)}else{g._removeAt(u);u--;x--}}}function h(s,x){var p=s.topLeft().cellIndex(),v=s.topLeft().rowIndex(),o=s.bottomRight().cellIndex(),u=s.bottomRight().rowIndex(),r,z,q,w,t=b._view(),n,y;if(x){r=g.length();y=b._rows();for(z=v;z<=u;z++){n=t._getRowInfo(y.item(z));if(n.type&a.wijmo.wijgrid.rowType.data){for(q=p;q<=o;q++){w=new a.wijmo.wijgrid.cellInfo(q,z);if(r===0){g._appendUnsafe(w)}else{g._add(w)}}}}}else{r=c.length();for(z=v;z<=u;z++){for(q=p;q<=o;q++){w=new a.wijmo.wijgrid.cellInfo(q,z);if(r===0){c._appendUnsafe(w)}else{c._add(w)}}}}}};a.wijmo.wijgrid.cellInfoOrderedCollection=function(c){if(!c){throw"argument is null"}var b=[];this.item=function(d){return b[d]};this.length=function(){return b.length};this.indexOf=function(e,j){if(arguments.length===1){j=e.rowIndex();e=e.cellIndex()}var f=0,d=b.length-1,h,i,g;while(f<=d){h=f+((d-f)>>1);i=b[h];g=i.rowIndex()-j;if(g===0){g=i.cellIndex()-e}if(g<0){f=h+1}else{if(g>0){d=h-1}else{return h}}}return ~f};this.toString=function(){var f="",e,d;for(e=0,d=b.length;e<d;e++){f+=b[e].toString()+"\n"}return f};this._add=function(e){var d=this.indexOf(e);if(d<0){b.splice(~d,0,e);e._setGridView(c);return true}return false};this._addFrom=function(e){if(e){var g=e.length(),d=b.length,f;if(d===0){b.length=g;for(f=0;f<g;f++){b[f]=e.item(f);b[f]._setGridView(c)}}else{for(f=0;f<g;f++){this._add(e.item(f))}}}};this._appendUnsafe=function(d){b[b.length]=d;d._setGridView(c)};this._insertUnsafe=function(e,d){b.splice(d,0,e)};this._clear=function(){b.length=0};this._remove=function(e){var d=this.indexOf(e);if(d>=0){b.splice(d,1);return true}return false};this._removeAt=function(d){b.splice(d,1)};this._getColumnsIndicies=function(){var h=[],d=b.length,e,g,f;if(d){e=[];for(g=0;g<d;g++){e[b[g].cellIndex()]=1}d=e.length;f=0;for(g=0;g<d;g++){if(e[g]){h[f++]=g}}}return h};this._getSelectedRowsIndicies=function(){var h=[],d=b.length,g,f,e;if(d){g=[];for(f=0;f<d;f++){g[b[f].rowIndex()]=1}d=g.length;e=0;for(f=0;f<d;f++){if(g[f]){h[e++]=f}}}return h};this._rectangulate=function(){var d=b.length,h=4294967295,k=4294967295,f=0,j=0,g,e;if(d){for(g=0;g<d;g++){e=b[g];h=Math.min(h,e.cellIndex());k=Math.min(k,e.rowIndex());f=Math.max(f,e.cellIndex());j=Math.max(j,e.rowIndex())}return new a.wijmo.wijgrid.cellInfoRange(new a.wijmo.wijgrid.cellInfo(h,k),new a.wijmo.wijgrid.cellInfo(f,j))}return null}}})(jQuery);(function(a){a.extend(a.wijmo.wijgrid,{selectionui:function(h){var t=10,n="{0}."+h.widgetName+".selectionui",q=new a.wijmo.wijgrid.cellInfoOrderedCollection(h),f,k,s,o,c=false,b=false,e=h._view(),m=h._field("visibleLeaves").length,p=e.focusableElement();p.bind(r("mousedown"),j);this.dispose=function(){p.unbind(r("mousedown"),j);l()};function j(y){if(!h._canInteract()||h.options.selectionMode.toLowerCase()==="none"){return}var z=e.getVisibleAreaBounds(),x={x:y.pageX,y:y.pageY},w=((y.target&&y.target.tagName!==undefined)?y.target.tagName.toLowerCase():undefined),v=a(y.target);if((!w||v.is("td.wijgridtd, th.wijgridtd, div.wijmo-wijgrid-innercell"))&&(x.x>z.left&&x.x<z.left+z.width)&&(x.y>z.top&&x.y<z.top+z.height)){u();f=x;k=g(f)}}function i(w){if(!k||!k._isValid()){return}var I={x:w.pageX,y:w.pageY},O,K,G,A,E,J,D,v,L,M,N,C,B,x,y,H=h._view(),F=h._rows(),z=a.wijmo.wijgrid.renderState;if(!c){c=(Math.abs(f.x-I.x)>t)||(Math.abs(f.y-I.y)>t)}if(c){O=g(I);if(!O._isValid()){return}s=O;K=new a.wijmo.wijgrid.cellInfoRange(k,s);K._normalize();K._clip(h._getDataCellsRange());if(K._isValid()&&!K.isEqual(o)){G=h._getDataToAbsOffset();o=K;A=new a.wijmo.wijgrid.cellInfoOrderedCollection(h);E=K.bottomRight().rowIndex();J=K.bottomRight().cellIndex();for(D=K.topLeft().rowIndex();D<=E;D++){B=H._getRowInfo(F.item(D));if(B.type&a.wijmo.wijgrid.rowType.data){for(v=K.topLeft().cellIndex();v<=J;v++){A._appendUnsafe(new a.wijmo.wijgrid.cellInfo(v,D))}}}x=-1;for(L=0,M=q.length();L<M;L++){N=q.item(L);if(A.indexOf(N)<0){if(h.selection().selectedCells().indexOf(N)<0){v=e.getCell(N.cellIndex()+G.x,N.rowIndex()+G.y);if(v){if(x!==N.rowIndex()){B=N.row();x=N.rowIndex()}C=a(v);y=H._changeCellRenderState(C,z.selected,false);h.cellStyleFormatter.format(C,N.cellIndex(),N.column(),B,y)}}q._removeAt(L);L--;M--}}x=-1;for(L=0,M=A.length();L<M;L++){N=A.item(L);if(q.indexOf(N)<0&&h.selection().selectedCells().indexOf(N)<0){if(q._add(N)){v=e.getCell(N.cellIndex()+G.x,N.rowIndex()+G.y);if(v){if(x!==N.rowIndex()){B=N.row();x=N.rowIndex()}C=a(v);y=H._changeCellRenderState(C,z.selected,true);h.cellStyleFormatter.format(C,N.cellIndex(),N.column(),B,y)}}}}}}}function d(D){l();if(c){c=false;if(o&&o._isValid()){h._changeCurrentCell(s);if(!D.shiftKey||(!h.selection()._multipleRangesAllowed()&&h.options.selectionMode.toLowerCase()!=="singleRange")){h.selection()._startNewTransaction(k)}h.selection().beginUpdate();h.selection()._selectRange(o,D.shiftKey,D.ctrlKey,0,s);h.selection().endUpdate();var F=h._view(),A=h._getDataToAbsOffset(),B,C,z,G,E,x=-1,w,v,y=a.wijmo.wijgrid.renderState;for(B=0,C=q.length();B<C;B++){z=q.item(B);if(h.selection().selectedCells().indexOf(z)<0){G=F.getCell(z.cellIndex()+A.x,z.rowIndex()+A.y);if(G!==null){if(x!==z.rowIndex()){w=z.row();x=z.rowIndex()}E=a(G);v=F._changeCellRenderState(E,y.selected,false);h.cellStyleFormatter.format(E,z.cellIndex(),z.column(),w,v)}}}q._clear();k=s=o=null;return false}}}function u(){if(!b){try{e.toggleDOMSelection(false);a(document).bind(r("mousemove"),i).bind(r("mouseup"),d)}finally{b=true}}}function l(){if(b){try{e.toggleDOMSelection(true);a(document).unbind(r("mousemove"),i).unbind(r("mouseup"),d)}finally{b=false}}}function r(v){return a.wijmo.wijgrid.stringFormat(n,v)}function g(v){var z=0,D=m-1,C=0,w=-1,x,E=new a.wijmo.wijgrid.rowAccessor(e,2,0,0),y,B,A,F;while(z<=D){C=((D-z)>>1)+z;x=a.wijmo.wijgrid.bounds(e.getHeaderCell(C));if(!x){B=E.item(0);x=a.wijmo.wijgrid.bounds(E.getCell(B,C))}if(!x){break}if(v.x<x.left){D=C-1}else{if(v.x>x.left+x.width){z=C+1}else{w=C;break}}}if(w===-1){return a.wijmo.wijgrid.cellInfo.prototype.outsideValue}E=new a.wijmo.wijgrid.rowAccessor(e,0,0,0);y=-1;z=0;D=E.length()-1;C=0;while(z<=D){C=((D-z)>>1)+z;B=E.item(C);x=a.wijmo.wijgrid.bounds(E.getCell(B,0));if(v.y<x.top){D=C-1}else{if(v.y>x.top+x.height){z=C+1}else{y=C;break}}}if(y===-1){return a.wijmo.wijgrid.cellInfo.prototype.outsideValue}A=h._getDataToAbsOffset();F=new a.wijmo.wijgrid.cellInfo(w-A.x,y-A.y);F._clip(h._getDataCellsRange());return F}}})})(jQuery);(function(a){a.wijmo.wijgrid.rowAccessor=function(b,g,f,c){var e=f,d=c,h;if(!e){e=0}if(!d){d=0}this.item=function(j){var i=this.length();return(j<i)?b.getJoinedRows(j+e,g):null};this.length=function(){var k=b.getJoinedTables(true,0),i=0,j;if(j=k[0]){i=j.getSectionLength(g)}if(j=k[1]){i+=j.getSectionLength(g)}i-=e+d;if(a.isFunction(h)){i+=h(k)}if(i<0){i=0}return i};this.iterateCells=function(q,s,k){if(q&&s){var n=0,m,o,p,l,r,t;for(m=0,o=q.length;m<o;m++){p=q[m];if(p){for(l=0,r=p.cells.length;l<r;l++){t=s(p.cells[l],n++,k);if(t!==true){return}}}}}};this.getCell=function(i,l){var j,k;if(i&&(j=i[0])){k=j.cells.length;if(l<k){return j.cells[l]}l-=k;if(j=i[1]){k=j.cells.length;if(l<k){return j.cells[l]}}}return null};this.cellsCount=function(i){var k=0,j;if(i&&(j=i[0])){k=j.cells.length;if(j=i[1]){k+=j.cells.length}}return k};this._offsetBottom=function(i){if(arguments.length){d=i}return d};this._offsetTop=function(i){if(arguments.length){e=i}return e};this._lengthAdjuster=function(i){if(arguments.length){h=i}return h}}})(jQuery);(function(a){a.extend(a.wijmo.wijgrid,{cellEditorHelper:function(){this.currentCellEditStart=function(f,i){var n=false,l=f.currentCell(),m=f._view(),g,j,k,h;if(l._isValid()&&!l._isEdit()&&(l.column().dataIndex>=0)){g=l.row();if(g){h=g.type;if(h&a.wijmo.wijgrid.rowType.data){j={cell:l,event:i,handled:false};if(n=f._trigger("beforeCellEdit",null,j)){if(!j.handled){n=e(f,j)}}if(n){l._isEdit(true);if(f.options.showRowHeader){k=a(g.$rows[0].cells[0]).children("div.wijmo-wijgrid-innercell");if(k.length){k.empty();k.append(a("<div>&nbsp;</div>").addClass("ui-icon ui-icon-pencil"))}}}}}}return n};this.currentCellEditEnd=function(f,k){var o=f.currentCell(),s=false,p=f._view(),g,j,h,m,q,n,r,i=a.wijmo.wijgrid.getKeyCodeEnum();if(!o._isValid()||!o._isEdit()){return}g=o.row();if(g){j=g.type;if(!(j&a.wijmo.wijgrid.rowType.data)){return s}h=(k&&k.which===i.ESCAPE);if(!k||(!h)){m={cell:o,value:undefined};if(s=f._trigger("beforeCellUpdate",null,m)){if(m.value===undefined){m.value=b(f,o)}q=m.value;try{m.value=f._parse(o.column(),m.value);q=m.value}catch(l){m.value=q}n=o.value();if(m.cell.column().dataType==="datetime"){if(q instanceof Date){q=q.getTime()}if(n instanceof Date){n=n.getTime()}}if(q!==n){try{o.value(m.value)}catch(l){s=false;f._trigger("invalidCellValue",null,{cell:o,value:m.value})}if(s){f._trigger("afterCellUpdate",null,{cell:o})}}}}else{s=true}if(s){m={cell:o,event:k,handled:false};f._trigger("afterCellEdit",null,m);if(!m.handled){s=d(f,m)}if(s){o._isEdit(false)}if(f.options.showRowHeader){a(g.$rows[0].cells[0]).children("div.wijmo-wijgrid-innercell").html("&nbsp;")}window.setTimeout(function(){if(!f._destroyed){o=f.currentCell();if(r=o.tableCell()){a(r).attr("tabIndex",0).focus()}else{a(f._view().focusableElement()).focus()}}},50)}}return s};function e(f,j){var l=j.cell.column(),p=false,m,o,k,h,n,g=a.wijmo.wijgrid.getKeyCodeEnum();if(l.dataIndex>=0){m=j.cell.value();p=true;try{o=j.cell.container();if(l.dataType==="boolean"){k=o.children("input");k.focus();if(j.event&&j.event.type==="keypress"){k.one("keyup",function(q){if(q.which===g.SPACE){q.preventDefault();k[0].checked=!m}})}}else{k=a("<input />").attr("type","text").addClass("wijgridinput wijmo-wijinput ui-state-focus").bind("keydown",f,c);k.bind((a.support.selectstart?"selectstart":"mousedown"),function(q){q.stopPropagation()});if(j.event&&j.event.type==="keypress"&&j.event.which){k.val(String.fromCharCode(j.event.which))}else{switch(j.cell.column().dataType){case"currency":case"number":if(m!==null){k.val(m);break}default:k.val(f._toStr(j.cell.column(),m));break}}o.empty().append(k);h=k.val().length;new a.wijmo.wijgrid.domSelection(k[0]).setSelection({start:h,end:h});k.focus();setTimeout(function(){k.focus()},0)}}catch(i){alert(i.message);p=false}}return p}function d(f,i){var l=i.cell.column(),o=false,m,n,k,g,j;if(l.dataIndex>=0){o=true;j=f._view();try{m=i.cell.container();n=f._toStr(l,i.cell.value());g=j._getRowInfo(f._rows().item(i.cell.rowIndex()));if(l.dataType==="boolean"){k=m.children("input");if(n==="true"){k.attr("checked","checked")}else{k.removeAttr("checked")}}else{f.cellFormatter.format(m,l,n,g)}}catch(h){alert("defaultAfterCellEdit: "+h.message);o=false}}return o}function c(g){var f=a.wijmo.wijgrid.getKeyCodeEnum();if(g.which===f.ENTER){var h=g.data;if(h){h._endEditInternal(g);return false}}}function b(h,g){var i=g.container().find(":input:first"),f=null;if(i.length){f=(i.attr("type")==="checkbox")?i[0].checked:i.val()}return f}}})})(jQuery);(function(a){a.extend(a.wijmo.wijgrid,{resizer:function(h){var d=[],q=10,s=1,n="{0}."+h.widgetName+".resizer",b=false,r=null,o,e=null,k=null,g=null;this.addElement=function(w){if(w&&w.element){w.element.bind(m("mousemove"),t).bind(m("mousedown"),p).bind(m("mouseout"),i);d.push(w)}};this.dispose=function(){a.each(d,function(w,x){x.element.unbind(m("mousemove"),t).unbind(m("mousedown"),p).unbind(m("mouseout"),i)});f()};this.inProgress=function(){return b};function t(x){if(!b){var w=u({x:x.pageX,y:x.pageY});if(w&&w._canSize()&&h._canInteract()){w.element.css("cursor","e-resize");r=w;x.stopPropagation()}else{i(x)}}}function i(w){if(!b){if(r){r.element.css("cursor","");r=null}}}function p(x){r=u({x:x.pageX,y:x.pageY});if(r&&r._canSize()&&h._canInteract()){try{r.element.css("cursor","");o=document.body.style.cursor;document.body.style.cursor="e-resize";e=k=a.wijmo.wijgrid.bounds(r.element);g=a('<div class="wijmo-wijgrid-resizehandle ui-state-highlight">&nbsp;</div>');var w=h._view().getVisibleAreaBounds();g.css({left:x.pageX,top:e.top,height:w.height+w.top-e.top});a(document.body).append(g)}finally{l();b=true;x.stopPropagation()}}}function j(x){var w=s*Math.round((x.pageX-k.left)/s);k={left:k.left+w,top:x.pageY};g.css("left",k.left)}function c(w){try{document.body.style.cursor=o;g.remove();if(e!==k){h._fieldResized(r,e.width,k.left-e.left)}}finally{r=null;g=null;f();b=false}}function v(w){w.preventDefault()}function l(){if(!b){a(document).bind(m("mousemove"),j).bind(m("mouseup"),c);if(a.fn.disableSelection){a(document.body).disableSelection()}if("onselectstart" in document){a(document.body).bind("selectstart",v)}}}function f(){if(b){a(document).unbind(m("mousemove"),j).unbind(m("mouseup"),c);if(a.fn.enableSelection){a(document.body).enableSelection()}if("onselectstart" in document){a(document.body).unbind("selectstart",v)}}}function u(x){var A,w,z,B,y;for(A=0,w=d.length;A<w;A++){z=d[A];B=a.wijmo.wijgrid.bounds(z.element);y=a.wijmo.wijgrid.isOver(x.y,x.x,B.top,B.left+B.width-q,B.height,q);if(y){return z}}return null}function m(w){return a.wijmo.wijgrid.stringFormat(n,w)}}})})(jQuery);(function(a){a.extend(a.wijmo.wijgrid,{frozener:function(e){var q,t,D,A,j=this,C,b="wijgridfrozener"+a.wijmo.wijgrid.getUID(),v=false,g=-1,p=-1,B=-1,o=0,c=0,u,d=false;y();this.inProgress=function(){return d};this.refresh=function(){y()};this.dispose=function(){r()};function r(){if(q){q.remove();q=null}if(t){t.remove();t=null}if(A){A.remove();A=null}D=null;C=null;z()}function y(){r();D=e.outerDiv.find(".wijmo-wijgrid-fixedview");C=e._view()._getSuperPanel();o=e._getStaticOffsetIndex(false);c=e._getStaticOffsetIndex(true);p=e._getStaticIndex(false);B=e._getStaticIndex(true);u=e._view().getVisibleAreaBounds();var F=a.wijmo.wijgrid.bounds(D.find(".wijmo-wijgrid-split-area-nw")),E=a.wijmo.wijgrid.bounds(D);n(u,F,E);l(u,F,E)}function n(H,G,E){var F=G.width+G.left;if(F<=H.left+H.width){t=a("<div><div></div></div>").addClass("wijmo-wijgrid-frozener-v").css({left:F-E.left,top:G.top-E.top,height:H.height+H.top-G.top}).bind("mousedown",function(I){I.data=true;i.apply(j,arguments)}).appendTo(D);t.find("div").addClass("ui-widget-header").css({width:0,height:"100%"})}}function l(H,G,E){var F=G.top+G.height;if(F<=H.top+H.height){q=a("<div><div></div></div>").addClass("wijmo-wijgrid-frozener-h").css({left:G.left-E.left,top:F-E.top,width:H.width+H.left-G.left}).bind("mousedown",function(I){I.data=false;i.apply(j,arguments)}).appendTo(D);q.find("div").addClass("ui-widget-header").css({width:"100%",height:0})}}function i(E){u=e._view().getVisibleAreaBounds();g=E.data?p:B;A=a('<div class="wijmo-wijgrid-resizehandle ui-widget-header"></div>').appendTo(document.body);x(E.data);d=true;E.stopPropagation()}function s(E){if(E.data&&C.options.hScroller.scrollValue){C.hScrollTo(0)}else{if(!E.data&&C.options.vScroller.scrollValue){C.vScrollTo(0)}}k(E)}function f(E){try{if(A){A.remove()}z();if(E.data){if(g!==p){e.option("staticColumnIndex",g)}}else{if(g!==B){e.option("staticRowIndex",g)}}}finally{A=null;d=false}}function x(E){if(!v){try{if(a.fn.disableSelection){a(document.body).disableSelection()}e._view().toggleDOMSelection(false);a(document).bind(m("mousemove"),E,s).bind(m("mouseup"),E,f)}finally{v=true}}}function z(){if(v){try{if(a.fn.enableSelection){a(document.body).enableSelection()}e._view().toggleDOMSelection(true);a(document).unbind("."+b)}finally{v=false}}}function m(E){return a.wijmo.wijgrid.stringFormat("{0}.{1}",E,b)}function k(I){var G,L,F,K,M,J,H,E;if(I.data){E=a.wijmo.wijgrid.bounds(t);if(Math.abs(I.pageX-(E.left+E.width/2))<E.width){A.hide();return}if((G=h({x:I.pageX,y:I.pageY}))){L=a.wijmo.wijgrid.bounds(G.element);F=L.left+L.width/2;K=G.options.visLeavesIdx-c;M=Math.max(K-1,-1);J=I.pageX<F?(M!==p):(K===p);H=J?L.left:L.left+L.width;if(!a.wijmo.wijgrid.isOverAxis(H,u.left-1,u.width+2)){return}g=J?M:K;A.show().css({left:H,top:L.top,width:3,height:u.height+u.top-L.top})}}else{E=a.wijmo.wijgrid.bounds(q);if(Math.abs(I.pageY-(E.top+E.height/2))<E.height){A.hide();return}if((G=w({x:I.pageX,y:I.pageY}))){L=a.wijmo.wijgrid.bounds(G);F=L.top+L.height/2;K=e._view().getAbsoluteRowIndex(G)-o;M=Math.max(K-1,-1);J=I.pageY<F?(M!==B):(K===B);H=J?L.top:L.top+L.height;if(!a.wijmo.wijgrid.isOverAxis(H,u.top-1,u.height+2)){return}g=J?M:K;A.show().css({left:L.left,top:H,width:u.width+u.left-L.left,height:3})}}}function h(K){var H=e.columns(),G,E,F,J,I;for(G=0,E=H.length;G<E;G++){F=H[G];J=F.options;if(J.isLeaf){I=a.wijmo.wijgrid.bounds(F.element);if(a.wijmo.wijgrid.isOverAxis(K.x,I.left,I.width)){return F}}}return null}function w(J){var H=e._rows(),F,E,I,G;for(F=0,E=H.length();F<E;F++){I=H.item(F)[0];G=a.wijmo.wijgrid.bounds(a(I));if(a.wijmo.wijgrid.isOverAxis(J.y,G.top,G.height)){return I}}return null}}})})(jQuery);(function(a){a.extend(a.wijmo.wijgrid,{cellFormatterHelper:function(){var c=document.createElement("div");this.format=function(l,j,i,k){if(k.type&a.wijmo.wijgrid.rowType.footer){if(j.aggregate&&(j.aggregate!=="none")){i=a.wijmo.wijgrid.stringFormat(j.footerText||"{0}",j._totalsValue||"")}else{i=j.footerText||j._footerTextDOM||""}}var g=true,f=null,h={$container:l,column:j,formattedValue:i,row:k,afterDefaultCallback:null};if(a.isFunction(j.cellFormatter)){g=!j.cellFormatter(h)}if(g){switch(j.dataType){case"boolean":f=d;break;default:f=b}if(f){f(h);if(a.isFunction(h.afterDefaultCallback)){h.afterDefaultCallback(h)}}}};function b(g){var f;switch(g.row.type){case a.wijmo.wijgrid.rowType.filter:e(g);break;default:f=g.$container[0];if(f.firstChild){while(f.firstChild){f.removeChild(f.firstChild)}}c.innerHTML=g.formattedValue||"&nbsp;";while(c.firstChild){f.appendChild(c.firstChild)}}}function d(j){var k,m,g="disabled='disabled'",i,l,f=a.wijmo.wijgrid.rowType,h=a.wijmo.wijgrid.getKeyCodeEnum();switch(j.row.type){case f.data:case f.data|f.dataAlt:k=j.column.owner;m=k.options.allowEditing&&(j.column.readOnly!==true);if(m){g=""}if(k._parse(j.column,j.row.data[j.column.dataKey])===true){j.$container.html("<input class='wijgridinput' type='checkbox' checked='checked' "+g+" />")}else{j.$container.html("<input class='wijgridinput' type='checkbox' "+g+" />")}if(m){j.$container.children("input").bind("mousedown",function(n){i=j.$container.parent()[0];l=k.currentCell();if(l.tableCell()!==i){k._onClick({target:i})}if(!l._isEdit()){k.beginEdit()}}).bind("keydown",function(n){if(n.which===h.ENTER){k._endEditInternal(n);return false}})}break;default:b(j)}}function e(f){f.$container.addClass("ui-widget ui-state-default");if((f.column.dataIndex>=0)&&!f.column.isBand&&f.column.showFilter){f.$container.html('<div class="wijmo-wijgrid-filter ui-corner-all"><input type="text" class="wijmo-wijgrid-filter-input" style="width:100%" /><a class="wijmo-wijgrid-filter-trigger ui-corner-right ui-state-default" href="#"><span class="ui-icon ui-icon-triangle-1-s"></span></a></div>')}else{f.$container.html("&nbsp;")}}}})})(jQuery);(function(a){a.extend(a.wijmo.wijgrid,{dragAndDropHelper:function(j){var h="scope_"+a.wijmo.wijgrid.getUID(),f=null,p=null,l=null,d=false,n,i='<div class="ui-widget wijmo-wijgrid ui-widget-content ui-corner-all"><table class="wijmo-wijgrid-root wijmo-wijgrid-table"><tr class="wijmo-wijgrid-headerrow"></tr></table></div>';this.attachGroupArea=function(q){var r;q.droppable({scope:h,tolerance:"pointer",greedy:true,accept:function(s){if(j.options.allowColMoving){r=e(s);if(r){if((r instanceof a.wijmo.c1groupedfield)&&(r.options.groupedIndex===j._field("groupedColumns").length-1)){return false}return !r.options.isBand&&(r.options.groupedIndex===undefined||(r instanceof a.wijmo.c1groupedfield))}}return false},drop:function(t,s){if(!m(t,s.draggable)&&(r=e(s.draggable))){d=true}},over:function(u,t){var s=j._field("groupedWidgets").length;n=(s>0);l=(s>0)?j._field("groupedWidgets")[s-1]:q;q.data("thisDroppableWijField",l)},out:function(t,s){if(l===q.data("thisDroppableWijField")){l=null}}})};this.attach=function(s){var q,r;if(!s||!(q=s.element)){return}q.draggable({helper:function(t){if(s instanceof a.wijmo.c1groupedfield){return q.clone().addClass("wijmo-wijgrid-dnd-helper")}else{return q.clone().wrap(i).width(q.width()).height(q.height()).closest(".wijmo-wijgrid").addClass("wijmo-wijgrid-dnd-helper")}},appendTo:"body",scope:h,drag:function(v,u){c();if(l&&!m(v,q)){var t=l.element;if(!t){t=l}o(t,b(s,l,v,u))}},start:function(y,x){if(j._canInteract()&&j.options.allowColMoving&&!j._field("resizer").inProgress()){var w=s.options,u=s.options.travIdx,v=(s instanceof a.wijmo.c1groupedfield),t=v?"groupArea":"columns";if(v){w=a.wijmo.wijgrid.search(j.columns(),function(z){return z.options.travIdx===u});w=(!w.found)?a.wijmo.wijgrid.getColumnByTravIdx(j.options.columns,u).found:w.found.options}if(s._canDrag()&&j._trigger("columnDragging",null,{drag:w,dragSource:t})){j._trigger("columnDragged",null,{drag:w,dragSource:t});return true}}return false},stop:function(u,t){c();try{if(d){if(!l.element){j._handleDragnDrop(s.options.travIdx,-1,"left",s instanceof a.wijmo.c1groupedfield,true)}else{j._handleDragnDrop(s.options.travIdx,l.options.travIdx,b(s,l,u,t),s instanceof a.wijmo.c1groupedfield,l instanceof a.wijmo.c1groupedfield)}}}finally{l=null;d=false}}}).droppable({hoverClass:"ui-state-hover",scope:h,tolerance:"pointer",greedy:true,accept:function(t){if(j.options.allowColMoving){if(q[0]!==t[0]){r=e(t);if(r){return r._canDropTo(s)}}}return false},drop:function(u,t){if(r=e(t.draggable)){d=true}},over:function(u,t){n=false;l=s;q.data("thisDroppableWijField",l)},out:function(u,t){if(l===s.element.data("thisDroppableWijField")){l=null}}})};this.detach=function(r){var q;if(r&&(q=r.element)){if(q.data("ui-draggable")){q.draggable("destroy")}if(q.data("ui-droppable")){q.droppable("destroy")}}};this.dispose=function(){if(p){p.remove();p=null}if(f){f.remove();f=null}};function e(q){var r=q.data(a.wijmo.c1basefield.prototype._data$prefix+"widgetName");if(!r){return q.data(a.wijmo.c1groupedfield.prototype._data$prefix)}else{return q.data(r)}}function o(r,q){g().show().position({my:"center",at:q+" top",of:r,collision:"none"});k().show().position({my:"center",at:q+" bottom",of:r,collision:"none"})}function c(){g().hide();k().hide()}function g(){if(!p){p=a("<div />").addClass("wijmo-wijgrid-dnd-arrow-top").append(a("<span />").addClass("ui-icon ui-icon-arrowthick-1-s")).hide().appendTo(document.body)}return p}function k(){if(!f){f=a("<div />").addClass("wijmo-wijgrid-dnd-arrow-bottom").append(a("<span />").addClass("ui-icon ui-icon-arrowthick-1-n")).hide().appendTo(document.body)}return f}function m(s,q){var r=a.wijmo.wijgrid.bounds(q,false);return((s.pageX>r.left&&s.pageX<r.left+r.width)&&(s.pageY>r.top&&s.pageY<r.top+r.height))}function b(u,s,v,w){if(!s.element){return"left"}if(n){return"right"}var q=a.wijmo.wijgrid.bounds(s.element,false),x=q.width/6,t=q.left+(q.width/2),y="right",r;if(v.pageX<t){y="left"}if(s instanceof a.wijmo.c1groupedfield){if(u instanceof a.wijmo.c1groupedfield){r=s.options.groupedIndex-u.options.groupedIndex;if(Math.abs(r)===1){y=(r<0)?"left":"right"}}return y}r=s.options.linearIdx-u.options.linearIdx;if(s.options.isBand&&(u.options.parentIdx!==s.options.travIdx)&&(Math.abs(v.pageX-t)<x)){return"center"}if(u.options.parentIdx===s.options.parentIdx&&Math.abs(r)===1){y=(r<0)?"left":"right"}return y}}})})(jQuery);(function(a){a.extend(a.wijmo.wijgrid,{cellStyleFormatterHelper:function(d){if(!d){throw"invalid arguments"}this.format=function(r,q,l,g,h,p,k){var j=a.wijmo.wijgrid.renderState,i=a.wijmo.wijgrid.rowType,n=g.type,o,m=null;if(q===0&&d.options.showRowHeader){l=null}if(n===i.groupHeader||n===i.groupFooter){l=null;if(p&&(m=p.groupInfo)){l=d._field("leaves")[m.leafIndex];delete p.groupInfo}}o={$cell:r,state:h,row:g,column:l,_cellIndex:q,_purpose:m?m.purpose:undefined};if(h===j.rendering){f(o,p,k)}else{e(o,h&j.current);b(o,h&j.selected)}if(a.isFunction(d.options.cellStyleFormatter)){d.options.cellStyleFormatter(o)}};function f(i,m,l){var g=a.wijmo.wijgrid.rowType,j,n,h=i.column,k=i.row.type;switch(k){case g.header:i.$cell.addClass("wijgridth");break;default:i.$cell.addClass("wijgridtd")}if(m){for(j in m){if(m.hasOwnProperty(j)){n=m[j];if((j==="colSpan"||j==="rowSpan")&&!(n>1)){continue}if(j==="class"){i.$cell.addClass(n)}else{i.$cell.attr(j,n)}}}}if(l){for(j in l){if(l.hasOwnProperty(j)){if(j==="paddingLeft"){i.$cell.children(".wijmo-wijgrid-innercell").css(j,l[j]);continue}i.$cell.css(j,l[j])}}}if(i._cellIndex===0&&d.options.showRowHeader){i.$cell.attr({role:"rowheader",scope:"row"}).addClass("ui-state-default ui-widget-content wijmo-wijgrid-rowheader")}else{switch(k){case (g.header):i.$cell.attr({role:"columnheader",scope:"col"});break;case (g.footer):i.$cell.attr({role:"columnfooter",scope:"col"});break;default:i.$cell.attr("role","gridcell")}}if(k&g.data){if(i._cellIndex>=0&&h&&h.dataParser){i.$cell.attr("headers",escape(h.headerText));if(h.readOnly){i.$cell.attr("aria-readonly",true)}if(h.dataIndex>=0){i.$cell.addClass("wijdata-type-"+(h.dataType||"string"))}}}if(k===g.groupHeader||k===g.groupFooter){if(h&&i._purpose===a.wijmo.wijgrid.groupRowCellPurpose.aggregateCell){i.$cell.addClass("wijdata-type-"+(h.dataType||"string"))}}}function e(h,i){var g=a.wijmo.wijgrid.rowType;if(i){h.$cell.addClass("ui-state-active");if(h.row.type===g.header){h.$cell.addClass("wijmo-wijgrid-current-headercell")}else{h.$cell.addClass("wijmo-wijgrid-current-cell")}}else{h.$cell.removeClass("ui-state-active");if(h.row.type===g.header){h.$cell.removeClass("wijmo-wijgrid-current-headercell")}else{h.$cell.removeClass("wijmo-wijgrid-current-cell")}}}function c(g,h){if(h){}else{}}function b(g,h){if(h){g.$cell.addClass("ui-state-highlight").attr("aria-selected","true")}else{g.$cell.removeClass("ui-state-highlight").removeAttr("aria-selected")}}}})})(jQuery);(function(a){a.extend(a.wijmo.wijgrid,{rowStyleFormatterHelper:function(d){if(!d){throw"invalid arguments"}this.format=function(m,h,j){var i=a.wijmo.wijgrid.renderState,g=a.wijmo.wijgrid.rowType,l=m.state,k=m;if(l===i.rendering){f(k,h,j)}else{e(k,l&i.current);c(k,l&i.hovered);b(k,l&i.selected)}if(a.isFunction(d.options.rowStyleFormatter)){d.options.rowStyleFormatter(k)}};function f(k,h,i){var m="wijmo-wijgrid-row ui-widget-content",j="wijmo-wijgrid-row ui-widget-content",g=a.wijmo.wijgrid.rowType,l;k.$rows.attr("role","row");if(h){for(l in h){if(h.hasOwnProperty(l)){if(l==="class"){k.$rows.addClass(h[l])}else{k.$rows.attr(l,h[l])}}}}if(i){for(l in i){if(i.hasOwnProperty(l)){k.$rows.css(l,i[l])}}}switch(k.type&~g.dataAlt){case (g.header):m="wijmo-wijgrid-headerrow";break;case (g.data):m=j+" wijmo-wijgrid-datarow";if(k.type&g.dataAlt){m+=" wijmo-wijgrid-alternatingrow"}break;case (g.emptyDataRow):m=j+" wijmo-wijgrid-emptydatarow";break;case (g.filter):m="wijmo-wijgrid-filterrow";break;case (g.groupHeader):m=j+" wijmo-wijgrid-groupheaderrow";break;case (g.groupFooter):m=j+" wijmo-wijgrid-groupfooterrow";break;case (g.footer):m="wijmo-wijgrid-footerrow ui-state-highlight";break;default:throw a.wijmo.wijgrid.stringFormat("unknown rowType: {0}",k.row.type)}k.$rows.addClass(m)}function e(h,g){if(d.options.showRowHeader){if(g){a(h.$rows[0].cells[0]).addClass("ui-state-active wijmo-wijgrid-current-rowheadercell")}else{a(h.$rows[0].cells[0]).removeClass("ui-state-active wijmo-wijgrid-current-rowheadercell")}}}function c(h,g){if(g){h.$rows.addClass("ui-state-hover")}else{h.$rows.removeClass("ui-state-hover")}}function b(h,g){if(g){}else{}}}})})(jQuery);(function(a){a.extend(a.wijmo.wijgrid,{tally:function(){var i=0,b=0,l=0,j=0,e=0,k=0,f=0,h,g,c=0,m=0;this.add=function(o){if(o===null||o===""){return}var p,n=(o instanceof Date)?"datetime":typeof(o);p=o.toString();if(j++===0){h=g=p}if(p<h){h=p}if(p>g){g=p}if(n==="number"){if(l++===0){f=k=o}i+=o;b+=o*o;if(o<f){f=o}if(o>k){k=o}}else{if(n==="datetime"){p=o.getTime();if(e++===0){c=m=p}if(p<c){c=p}if(p>m){m=p}}}};this.getValueString=function(n){var p=n.owner;if(l&&(n.dataType==="number"||n.dataType==="currency")){var o=d(n.aggregate);return p._toStr(n,o)}if(e&&(n.dataType==="datetime")){switch(n.aggregate){case"max":return p._toStr(n,new Date(m));case"min":return p._toStr(n,new Date(c));case"count":return j+""}}if(j){switch(n.aggregate){case"max":return g;case"min":return h;case"count":return j+""}}return""};function d(o){switch(o){case"average":return(l===0)?0:i/l;case"count":return j;case"max":return k;case"min":return f;case"sum":return i;case"std":if(l<=1){return 0}return Math.sqrt(d("var"));case"stdPop":if(l<=1){return 0}return Math.sqrt(d("varPop"));case"var":if(l<=1){return 0}return d("varPop")*l/(l-1);case"vapPop":if(l<=1){return 0}var n=i/l;return b/l-n*n}return 0}}})})(jQuery);(function(a){a.extend(a.wijmo.wijgrid,{columnsGenerator:function(e){this.generate=function(h,f,g){switch(h){case"append":c(f,g);break;case"merge":b(f,g);break;default:throw a.wijmo.wijgrid.stringFormat('Unsupported value: "{0}"',h)}};function c(h,k){var l=h.getFieldNames(),j,f,g;for(j=0,f=l.length;j<f;j++){g=d(l[j]);k.push(g)}}function b(f,h){var p=[],l=f.getFieldNames(),g={},j,m,k,o,n;for(j=0,m=l.length;j<m;j++){g[o=l[j]]=o}a.wijmo.wijgrid.traverse(h,function(i){if(i.isLeaf&&!i.isBand){k=i.dataKey;if(a.wijmo.wijgrid.validDataKey(k)){if(g[k]!==undefined){delete g[k]}}else{if(k!==null){p.push(i)}}}});if(p.length){j=0;for(k in g){if(g.hasOwnProperty(k)){n=p[j++];if(n){n.dataKey=g[k];delete g[k]}}}}for(k in g){if(g.hasOwnProperty(k)){n=d(g[k]);h.push(n)}}}function d(f){return a.wijmo.wijgrid.createDynamicField({dataKey:f})}}})})(jQuery);(function(a){a.extend(a.wijmo.wijgrid,{virtualScrollerUI:function(c,h,g){var b=0,t=50,e=false,s=null,d=c._view(),i,o,m,j=c._totalRowsCount(),k=20,p=c.outerDiv.height()+j*k;h.height(p-g-(j>0?k:0));d._splitAreas.sw.height(p);this.attach=function(A){o=A;i=A.find(".wijmo-wijsuperpanel-contentwrapper:first");m=A.data("wijmo-wijsuperpanel");var x,y=m.getContentElement().height(),w=g+y,v=i.innerHeight(),z=(101/(j-1))*((w-v)/w);x=m.options.vScroller;x.scrollSmallChange=z;m.option("vScroller",x);A.bind("wijsuperpanelscrolled.wijgrid",a.proxy(u,this));A.bind("wijsuperpanelscrolling.wijgrid",a.proxy(r,this));A.bind("wijsuperpanelscrolled.wijgrid",a.proxy(q,this))};this.dispose=function(){o.unbind(".wijgrid");f()};function f(){window.clearTimeout(b);b=0}function r(w,v){if(e||(v.dir!=="v")){return}if(b===-1){return false}}function u(w,v){if(e||(v.dir!=="v")){return}if(b>0){f()}if(b!==-1){b=window.setTimeout(function(){b=-1;var y=Math.round(v.newValue/m.options.vScroller.scrollSmallChange),x=d._bounds.start;if(y<0){y=0}if(y>=j){y=j-1}if(y!==x){c._handleVirtualScrolling(y,l)}else{n();f()}},t)}}function l(v){c._trackScrollingIndex(v);n();f()}function q(){if(a.isFunction(s)){s.apply(this,arguments)}}function n(){}}})})(jQuery);;
/*
 *
 * Wijmo Library 2.3.7
 * http://wijmo.com/
 *
 * Copyright(c) GrapeCity, Inc.  All rights reserved.
 * 
 * Licensed under the Wijmo Commercial License. Also available under the GNU GPL Version 3 license.
 * licensing@wijmo.com
 * http://wijmo.com/widgets/license/
 *
 *
 **/
(function(a){"use strict";a.widget("wijmo.wijlightbox",{options:{textPosition:"overlay",width:600,height:400,autoSize:true,player:"",groupItems:null,rootUrl:"",ctrlButtons:"",dialogButtons:"close",counterType:"default",counterFormat:"[i] of [n]",counterLimit:10,showCounter:true,showNavButtons:true,showTimer:false,controlsPosition:"inside",showControlsOnHover:true,clickPause:false,keyNav:false,modal:false,position:{my:"center",at:"center",of:window,collision:"fit",using:function(c){var b=a(this).css(c).offset().top;b<0&&a(this).css("top",c.top-b)}},zIndex:1e3,closeOnEscape:true,closeOnOuterClick:true,autoPlay:false,delay:2e3,loop:true,cookie:null,transAnimation:{animated:"fade",duration:400,easing:"easeInQuad"},slideDirection:"horizontal",resizeAnimation:{animated:"sync",duration:400},textShowOption:{duration:300,easing:"easeInQuad"},textHideOption:{duration:300,easing:"easeInQuad"},showMovieControls:true,autoPlayMovies:true,flashParams:{bgcolor:"#000000",allowfullscreen:true},flashVars:{},flashVersion:"9.0.115",flvPlayer:"player\\player.swf",flashInstall:"player\\expressInstall.swf",beforeShow:null,show:null,open:null,beforeClose:null,close:null},_keyDownHandler:function(b){var d=this.options,c=this;if(b.keyCode&&b.keyCode===a.ui.keyCode.ESCAPE){if(c._isFullSize())c._toggleFullSize();else d.closeOnEscape&&c._close();b.preventDefault();return}if(d.keyNav)if(b.keyCode)switch(b.keyCode){case a.ui.keyCode.LEFT:case a.ui.keyCode.DOWN:c.back();b.preventDefault();break;case a.ui.keyCode.RIGHT:case a.ui.keyCode.UP:c.next();b.preventDefault();break;case a.ui.keyCode.HOME:d.groupItems.length>0&&c.show(0);b.preventDefault();break;case a.ui.keyCode.END:d.groupItems.length>0&&c.show(d.groupItems.length-1);b.preventDefault()}},_create:function(){var b=this.options,c=this;if(window.wijmoApplyWijTouchUtilEvents)a=window.wijmoApplyWijTouchUtilEvents(a);if(!b.groupItems)b.groupItems=[];this._defaults={transAnimation:{animated:"fade",duration:400,easing:"easeInQuad"},resizeAnimation:{animated:"sync",duration:400},textShowOption:{duration:300,easing:"easeInQuad"},textHideOption:{duration:300,easing:"easeInQuad"}};this._parse();this.container=a("<div/>").addClass("wijmo-wijlightbox ui-widget wijmo-wijlightbox-controls-"+b.controlsPosition).css("z-index",b.zIndex).attr({tabIndex:-1,role:"dialog"}).bind("keydown.wijlightbox",a.proxy(c,"_keyDownHandler")).appendTo(document.body).hide();this.frame=a("<div></div>").addClass("wijmo-wijlightbox-frame ui-widget-content ui-corner-all ui-helper-clearfix").appendTo(this.container);this.content=a("<div></div>").addClass("wijmo-wijlightbox-content").appendTo(this.frame);if(b.activeIndex===undefined){if(typeof b.activeIndex!=="number"&&b.cookie)b.activeIndex=parseInt(c._cookie(),10);b.activeIndex=b.activeIndex||(b.groupItems.length?0:-1)}else if(b.activeIndex===null)b.activeIndex=-1;b.activeIndex=b.activeIndex>=0&&b.groupItems[b.activeIndex]||b.activeIndex<0?b.activeIndex:0;this._initClickBehavior();this._createTimerBar();this._createDialogButtons();this._createCtrlButtons();this._createText();this._createCounter();this._refreshCounter();this.toolBox&&this.toolBox.find(".wijmo-wijlightbox-toolbox-button").bind({mouseover:function(){c._addState("hover",a(this))},mouseout:function(){c._removeState("hover",a(this))},mousedown:function(){c._addState("active",a(this))},mouseup:function(){c._removeState("active",a(this))}});this._groupMode()&&this._createNavButtons();this._initHoverBehavior();this.container.width(this.frame.outerWidth())},destroy:function(){var c=this.options,b=this;this._hideWaiting();this._hideOverlay();c.cookie&&this._cookie(null,c.cookie);this.container.remove();a.Widget.prototype.destroy.apply(b,arguments);return b},_setOption:function(c,b){a.Widget.prototype._setOption.apply(this,arguments);switch(c){case"groupItems":if(this.options.activeIndex>=b.length)this.show(b.length-1);else if(this.options.activeIndex<0&&b.length)this.show(0);else this.show(this.options.activeIndex);break;case"activeIndex":this.show(b);break;case"textPosition":this._resetText();break;case"clickPause":this._initClickBehavior();break;case"showNavButtons":this._createNavButtons();break;case"showControlsOnHover":this._initHoverBehavior()}},_initClickBehavior:function(){var c=this.options,b=this;this.content.unbind("click");if(c.clickPause)this._groupMode()&&this.content.click(function(){b[!b.isPlaying()?"play":"stop"]()});else this._groupMode()&&this.content.click(function(d){if(b.isPlaying())return false;var c=a.extend({},a(this).offset(),{width:a(this).outerWidth(true),height:a(this).outerHeight(true)});if(d.pageX>=c.left&&d.pageX<c.left+c.width/2)!b.backBtn.hasClass("ui-state-disabled")&&b.back();else!b.nextBtn.hasClass("ui-state-disabled")&&b.next()})},_initHoverBehavior:function(){var b=this.options,a=this;this.frame.unbind(".wijlightbox");b.showControlsOnHover&&this.frame.bind({"mouseenter.wijlightbox":function(){if(a.container.data("moving.wijlightbox"))return false;a._showAccessories(true)},"mouseleave.wijlightbox":function(){if(a.container.data("moving.wijlightbox"))return false;a._hideAccessories(true)},"mousemove.wijlightbox":function(){a.container.data("moving.wijlightbox")===false&&a.container.data("accessvisible.wijlightbox")===false&&a.frame.trigger("mouseenter")}})},_getPlugins:function(){var c=this.container.data("plugins.wijlightbox"),b,d,e;if(!c){c={};if(window.navigator.plugins&&window.navigator.plugins.length){b=[];a.each(window.navigator.plugins,function(c,a){b.push(a.name)});b=b.join(",");e=b.indexOf("Flip4Mac")>-1;c={fla:b.indexOf("Shockwave Flash")>-1,qt:b.indexOf("QuickTime")>-1,wmp:!e&&b.indexOf("Windows Media")>-1,f4m:e}}else{d=function(b){var a;try{a=new ActiveXObject(b)}catch(c){}return!!a};c={fla:d("ShockwaveFlash.ShockwaveFlash"),qt:d("QuickTime.QuickTime"),wmp:d("wmplayer.ocx"),f4m:false}}this.container.data("plugins.wijlightbox",c)}return c},_sanitizeSelector:function(a){return a.replace(/:/g,"\\:")},_getFragmentId:function(d){var f=/^#.+/,b=a(d).attr("href")||"",c=b.split("#")[0],e=a("base")[0];if(c&&(c===window.location.toString().split("#")[0]||e&&c===e.href)){b=d.hash;d.href=b}return f.test(b)?this._sanitizeSelector(b):""},_parseLink:function(j){var f=this,e=this.options,d=a(j),b={},g,c,h,i,k=["href","player","title","alt","height","width","gallery","wijvideosrc"];if(d.length>0&&d[0].tagName.toLowerCase()==="a"){g=d.attr("rel");a.each(k,function(c,a){b[a]=d.attr(a)||""});if(!b.href)return;if(!b.player)b.player=e.player||f._getPlayerName(b.href);c=d.find("img");if(c&&c.length===0)c=d;if(c&&c.length>=1){a.each(["title","alt"],function(d,a){b[a]=c.attr(a)||b[a]});b.img=c}if(g){h=g.match(/\[(.*?)\]/);if(h)b.gallery=h[1]||b.gallery;a.each(g.split(";"),function(d,c){var a=c.match(/\s*([a-z_]*?)\s*=\s*(.+)\s*/);if(a)b[a[1]]=a[2]})}if(b.player==="inline")b.href=f._getFragmentId(j);if(!b.gallery)d.bind({click:function(a){a.stopPropagation();a.preventDefault();!e.disabled&&f._open(c,b);return false}});else{i=e.groupItems.length;e.groupItems[i]=b;d.bind({click:function(a){a.stopPropagation();a.preventDefault();!e.disabled&&f._open(c,i);return false}})}}},_parse:function(){var a=this;this._parseLink(this.element);this.element.find('a[rel^="wijlightbox"], a[rel^="lightbox"]').each(function(){a._parseLink(this)})},_showAccessories:function(a){this.container.data("accessvisible.wijlightbox",true);this._showNavButtons(a);this._showToolboxButtons(a);this._showCounter(a)},_hideAccessories:function(a){this.container.data("accessvisible.wijlightbox",false);this._hideNavButtons(a);this._hideToolboxButtons(a);this._hideCounter(a)},_groupMode:function(){var a=this.options;return a.groupItems&&a.groupItems.length>1},_resetText:function(){this._removeText();this._createText()},_createText:function(i){var g=this,c=g.options,e,b,d,f,h;if(c.textPosition==="none")return;if(this.container.find(".wijmo-wijlightbox-text").length)return;e=c.textPosition.toLowerCase();b=a("<div></div>").addClass("wijmo-wijlightbox-text wijmo-wijlightbox-text-"+e+" ui-widget-content ui-helper-clearfix");f=a("<h3></h3>").addClass("wijmo-wijlightbox-title wijmo-wijlightbox-title-"+e+" ui-helper-clearfix").appendTo(b);h=a("<p></p>").addClass("wijmo-wijlightbox-detail wijmo-wijlightbox-detail-"+e+" ui-helper-clearfix").appendTo(b);if(c.textPosition==="inside")b.addClass("ui-widget-content ui-helper-clearfix").width(this.frame.width()).appendTo(this.frame);else if(c.textPosition==="outside")b.addClass("ui-widget-content ui-corner-all ui-helper-clearfix").width(this.frame.width()).appendTo(this.container);else if(c.textPosition==="overlay"||c.textPosition==="titleOverlay"){d=a("<div></div>").addClass("wijmo-wijlightbox-mask wijmo-wijlightbox-mask-"+e+" ui-helper-clearfix").width(this.frame.width()).appendTo(this.frame);b.width(this.frame.width()).appendTo(this.frame);c.textPosition==="titleOverlay"&&b.bind({mouseenter:function(){d.stop();b.stop();var e=f.outerHeight(true)+h.outerHeight(true),i=a.extend({},g._defaults.textShowOption,c.textShowOption,{queue:false});d.animate({height:e},i);b.animate({height:e},i)},mouseleave:function(){d.stop();b.stop();var e=f.height(),h=a.extend({},g._defaults.textHideOption,c.textHideOption,{queue:false});d.animate({height:e},h);b.animate({height:e},h)}})}this._refreshText(i)},_removeText:function(){this.container.find(".wijmo-wijlightbox-text,.wijmo-wijlightbox-mask").remove()},_getActiveItem:function(){var a=this.options;return a.groupItems&&a.groupItems.length&&a.activeIndex>=0&&a.activeIndex<a.groupItems.length?a.groupItems[a.activeIndex]:null},_refreshText:function(l){var m=this,c=this.options,e,b,j,i,d;if(c.textPosition==="none")return;e=this.container.data("item.wijlightbox")||this._getActiveItem();if(!e)return;b=this.container.find(".wijmo-wijlightbox-text");j=this.container.find(".wijmo-wijlightbox-title");i=this.container.find(".wijmo-wijlightbox-detail");d=this.container.find(".wijmo-wijlightbox-mask");d.stop();b.stop();j.html(e.title);i.html(e.alt);c.textPosition==="outside"&&b.width(this.frame.width());var g=j.outerHeight(true),f=i.outerHeight(true),h=a.extend({},m._defaults.textShowOption,c.textShowOption,{queue:false});if(c.textPosition==="overlay"||c.textPosition==="titleOverlay"){var k=g+(c.textPosition==="overlay"?f:0);b.height(0);d.height(0);b.animate({height:k},h);d.animate({height:k},h)}else if(!!l)b.height(g+f);else{b.height(0);b.animate({height:g+f},h)}},_addState:function(b,a){a.is(":not(.ui-state-disabled)")&&a.addClass("ui-state-"+b)},_removeState:function(a,b){b.removeClass("ui-state-"+a)},_createNavButtons:function(){var b=this,c=this.options;if(!c.showNavButtons||!this._groupMode()){this._removeNavButtons();return}if(!this.backBtn)this.backBtn=a("<a href='#'/>").addClass("wijmo-wijlightbox-button wijmo-wijlightbox-button-prev ui-state-default"+(c.controlsPosition==="inside"?" ui-corner-right":" ui-corner-left")).append("<span class='ui-icon ui-icon-triangle-1-w'></span>").hide().appendTo(this.frame).bind({click:function(){!a(this).hasClass("ui-state-disabled")&&b.back();return false},mouseover:function(){b._addState("hover",a(this))},mouseout:function(){b._removeState("hover",a(this))},mousedown:function(){b._addState("active",a(this))},mouseup:function(){b._removeState("active",a(this))}});if(!this.nextBtn)this.nextBtn=a("<a href='#'/>").addClass("wijmo-wijlightbox-button wijmo-wijlightbox-button-next ui-state-default"+(c.controlsPosition==="inside"?" ui-corner-left":" ui-corner-right")).append("<span class='ui-icon ui-icon-triangle-1-e'></span>").hide().appendTo(this.frame).bind({click:function(){!a(this).hasClass("ui-state-disabled")&&b.next();return false},mouseover:function(){b._addState("hover",a(this))},mouseout:function(){b._removeState("hover",a(this))},mousedown:function(){b._addState("active",a(this))},mouseup:function(){b._removeState("active",a(this))}})},_removeNavButtons:function(){if(this.backBtn){this.backBtn.remove();this.backBtn=undefined}if(this.nextBtn){this.nextBtn.remove();this.nextBtn=undefined}},_refreshNavButtons:function(){var b=this.options,a;if(this.backBtn){a=b.activeIndex===0?"addClass":"removeClass";this.backBtn[a]("ui-state-disabled")}if(this.nextBtn){a=b.activeIndex>=b.groupItems.length-1?"addClass":"removeClass";this.nextBtn[a]("ui-state-disabled")}},_showNavButtons:function(b){if(this.isPlaying())return;this.container.find(".wijmo-wijlightbox-button").stop(true,true).fadeIn(b?600:0,function(){a(this).css("opacity","")})},_hideNavButtons:function(a){this.container.find(".wijmo-wijlightbox-button").stop(true,true).fadeOut(a?600:0)},_createToolbox:function(){if(!this.toolBox)this.toolBox=a("<div></div>").addClass("wijmo-wijlightbox-toolbox").appendTo(this.frame)},_showToolboxButtons:function(b){this.container.find(".wijmo-wijlightbox-toolbox-button").stop(true,true).fadeIn(b?600:0,function(){a(this).css("opacity","")})},_hideToolboxButtons:function(a){this.container.find(".wijmo-wijlightbox-toolbox-button").stop(true,true).fadeOut(a?600:0)},_createCtrlButtons:function(){var b=this,c=this.options;if(!c.ctrlButtons||c.ctrlButtons.length===0||!this._groupMode()){this._removeCtrlButtons();return}this._createToolbox();var d=c.ctrlButtons.split("|");if(d.length===1&&d[0]===c.ctrlButtons)d=c.ctrlButtons.split(",");a.each(d,function(e,d){d=a.trim(d);if(d==="play"&&!this.playBtn)b.playBtn=a("<a href='#'/>").addClass("wijmo-wijlightbox-toolbox-button wijmo-wijlightbox-toolbox-button-play ui-state-default ui-corner-all").append("<span class='ui-icon ui-icon-play'></span>").hide().click(function(){if(b.isPlaying())b.stop();else{c.activeIndex>=c.groupItems.length-1&&b.show(0);b.play()}return false});else if(d==="stop"&&!this.stopBtn)b.stopBtn=a("<a href='#'/>").addClass("wijmo-wijlightbox-toolbox-button wijmo-wijlightbox-toolbox-button-stop ui-state-default ui-state-disabled ui-corner-all").append("<span class='ui-icon ui-icon-stop'></span>").hide().click(function(){if(b.isPlaying()){b.stop();b.show(0)}return false})});this.stopBtn&&this.stopBtn.appendTo(this.toolBox);this.playBtn&&this.playBtn.appendTo(this.toolBox)},_removeCtrlButtons:function(){if(this.playBtn){this.playBtn.remove();this.playBtn=undefined}if(this.stopBtn){this.stopBtn.remove();this.stopBtn=undefined}},_refreshCtrlButtons:function(){if(this.playBtn){var a=this.playBtn.find(".ui-icon");if(a){a.removeClass("ui-icon-play ui-icon-pause");a.addClass(this.isPlaying()?"ui-icon-pause":"ui-icon-play")}}this.stopBtn&&this.stopBtn[!this.isPlaying()?"addClass":"removeClass"]("ui-state-disabled")},_createDialogButtons:function(){var d=this,c=this.options,b;if(!c.dialogButtons||c.dialogButtons.length===0){this._removeDialogButtons();return}this._createToolbox();b=c.dialogButtons.split("|");if(b.length===1&&b[0]===c.dialogButtons)b=c.dialogButtons.split(",");a.each(b,function(c,b){b=a.trim(b);if(b==="close"&&!this.closeBtn)d.closeBtn=a("<a href='#'/>").addClass("wijmo-wijlightbox-toolbox-button wijmo-wijlightbox-toolbox-button-close ui-state-default ui-corner-all").append("<span class='ui-icon ui-icon-close'></span>").hide().click(function(){d._close();return false});else if(b==="fullSize"&&!this.fullBtn)d.fullBtn=a("<a href='#'/>").addClass("wijmo-wijlightbox-toolbox-button wijmo-wijlightbox-toolbox-button-fullsize ui-state-default ui-corner-all").append("<span class='ui-icon ui-icon-arrow-4-diag'></span>").hide().click(function(){d._toggleFullSize();return false})});this.closeBtn&&this.closeBtn.appendTo(this.toolBox);this.fullBtn&&this.fullBtn.appendTo(this.toolBox);if(!this.btnSep)this.btnSep=a("<a href='#'/>").addClass("wijmo-wijlightbox-toolbox-separator").appendTo(this.toolBox)},_removeDialogButtons:function(){if(this.closeBtn){this.closeBtn.remove();this.closeBtn=undefined}if(this.fullBtn){this.fullBtn.remove();this.fullBtn=undefined}},_refreshDialogButtons:function(){if(this.fullBtn){var a=this.fullBtn.find(".ui-icon");if(a){a.removeClass("ui-icon-arrow-4-diag ui-icon-newwin");a.addClass(this._isFullSize()?"ui-icon-newwin":"ui-icon-arrow-4-diag")}}},_createTimerBar:function(){var b=this,c=b.options;if(!c.showTimer||!b._groupMode()){b._removeTimerBar();return}b._createToolbox();if(!b.timerBar){b.timerBar=a("<div></div>").addClass("wijmo-wijlightbox-timerbar ui-widget-content ui-priority-secondary ui-corner-all").appendTo(b.toolBox);b.timerMeter=a("<div></div>").addClass("wijmo-wijlightbox-timermeter ui-progressbar-value ui-widget-content ui-corner-all").appendTo(b.toolBox)}},_removeTimerBar:function(){if(this.timerMeter){this.timerMeter.remove();this.timerMeter=undefined}if(this.timerBar){this.timerBar.remove();this.timerBar=undefined}},_createCounter:function(){var b=this,c=b.options;if(!c.showCounter||!b._groupMode()){b._removeCounter();return}if(!b.counter)b.counter=a("<div></div>").addClass("wijmo-wijlightbox-counter ui-state-default"+(c.controlsPosition==="inside"?"  ui-corner-tl":" ui-corner-all")).hide().appendTo(b.frame)},_removeCounter:function(){if(this.counter){this.counter.remove();this.counter=undefined}},_refreshCounter:function(d){var i=this,b=this.options,f="";if(!this.counter||!this._groupMode())return;this.counter.empty();if(b.showCounter&&b.groupItems.length>1&&this.counter){if(d===undefined)d=b.activeIndex;var h=b.groupItems.length;if(b.counterType==="sequence"){var c=0,g=h,e=parseInt(b.counterLimit,10)||0;if(e>=2&&e<h){var k=Math.floor(e/2);c=Math.min(g-e,Math.max(c,d-k));g=Math.min(g,c+e)}while(c!==g)a("<a></a>").addClass("wijmo-wijlightbox-counter-item ui-corner-all ui-state-default"+(c===d?" wijmo-wijlightbox-counter-active ui-state-active":"")).text(++c).appendTo(this.counter);this.counter.find("a").click(function(){if(a(this).hasClass("wijmo-wijlightbox-counter-active"))return false;i.show(parseInt(a(this).text(),10)-1);return false})}else{var j=b.counterFormat||"[i] of [n]";f=j.replace("[i]",d+1);f=f.replace("[n]",h);a("<span></span>").text(f).appendTo(this.counter)}}},_showCounter:function(b){this.container.find(".wijmo-wijlightbox-counter").stop(true,true).fadeIn(b?600:0,function(){a(this).css("opacity","")})},_hideCounter:function(a){this.container.find(".wijmo-wijlightbox-counter").stop(true,true).fadeOut(a?600:0)},_cookie:function(){var b=this.cookie||(this.cookie=this.options.cookie.name);return a.cookie.apply(null,[b].concat(a.makeArray(arguments)))},_showOverlay:function(){if(this.container.data("overlay.wijlightbox"))return;this.container.data("overlay.wijlightbox",new a.wijmo.wijlightbox.overlay(this))},_hideOverlay:function(){var a=this.container.data("overlay.wijlightbox");if(!a)return;a.close();this.container.removeData("overlay.wijlightbox")},_hasOverlay:function(){return this.container.hasData("overlay.wijlightbox")},_showWaiting:function(){if(this.container.data("waiting.wijlightbox"))return;this.container.data("waiting.wijlightbox",new a.wijmo.wijlightbox.overlay(this,true))},_hideWaiting:function(){var a=this.container.data("waiting.wijlightbox");if(!a)return;a.close();this.container.removeData("waiting.wijlightbox")},_hasWaiting:function(){return this.container.hasData("waiting.wijlightbox")},_getUrl:function(c){var d=this.options,b=typeof c==="string"?c:c.href,a=d.rootUrl;if(a&&a.length>0){if(a.indexOf("//")===-1)a=window.location.protocol+"//"+window.location.host+(a.startsWith("/")?"":"/")+a;if(a.substr(a.length-1,1)!=="/")a+="/";b=a+(b.substr(0,1)==="/"?b.substr(1):b)}return b},_preload:function(){for(var a=this.options,b=Math.max(0,a.activeIndex);b<Math.min(a.activeIndex+5,a.groupItems.length);b++)if(!a.groupItems[b].image){a.groupItems[b].image=new Image;a.groupItems[b].image.src=this._getUrl(a.groupItems[b])}},_slideTo:function(o,m,l,e,j){var n=this.options,i=this,b=o.getElement(),c,h,g,d,f,k;if(b.parent().is(".wijmo-wijlightbox-aniwrapper"))c=b.parent();else{c=a.effects.createWrapper(b).css({overflow:"hidden"});c.removeClass("ui-effects-wrapper");c.addClass("wijmo-wijlightbox-aniwrapper")}if(c.parent().is(".wijmo-wijlightbox-aniwrapper"))h=c.parent();else{h=a.effects.createWrapper(c).css({overflow:"hidden"});h.removeClass("ui-effects-wrapper");h.addClass("wijmo-wijlightbox-aniwrapper")}g=n.slideDirection||"horizontal";d=b.outerWidth();f=b.outerHeight();if(g==="horizontal"){b.width(d).css("float",e?"left":"right");c.width(2*d).css({left:e?0:-1*d,position:"absolute"})}else{b.height(f);c.width(d).css({top:e?0:-1*f,position:"absolute"}).height(2*f)}m.appendTo(c);k=m.getElement();if(g==="horizontal")k.width(d).css("float",e?"left":"right");else k.height(f);this.container.data("animating.wijlightbox",true);c.effect("slide",{mode:"hide",direction:g==="horizontal"?e?"left":"right":e?"up":"down",easing:l.easing,distance:g==="horizontal"?d:f,duration:l.duration},function(){b=c.children(":last");while(b.parent().is(".wijmo-wijlightbox-aniwrapper"))b.parent().replaceWith(b);b.css({"float":"",width:"",height:""});if(n.autoSize&&!i._isFullSize())i._resize(j);else{a.isFunction(j)&&j.apply(i);i._refreshText()}})},_moveFrom:function(e,c,d){var b=this,g=this.options,f;if(a.isFunction(c)){d=c;c=a.extend({},b._defaults.resizeAnimation,g.resizeAnimation)}else c=a.extend({},b._defaults.resizeAnimation,g.resizeAnimation,c);b._removeText();if(c.animated==="none"||c.duration<=0){b._createText();a.isFunction(d)&&d.apply(b);this.container.data("moving.wijlightbox",false);return}f=a.extend({width:b.frame.width(),height:b.frame.height()},b.container.offset());b.frame.width(e.width).height(e.height);b.container.css({left:e.left,top:e.top,width:b.frame.outerWidth(),position:"absolute",opacity:""});b._moveTo(f,c,function(){b.frame.width(f.width);b.container.width(b.frame.outerWidth());b._createText();b.container.data("moving.wijlightbox",false);a.isFunction(d)&&d.apply(b)})},_moveTo:function(d,b,f){var c=this,i=this.options;if(a.isFunction(b)){f=b;b=a.extend({},c._defaults.resizeAnimation,i.resizeAnimation)}else b=a.extend({},c._defaults.resizeAnimation,i.resizeAnimation,b);var g=b.duration/2,e=b.animated,h=c._isOpen(),l=e==="wh"?{left:d.left}:{top:d.top},m=e==="wh"?{top:d.top}:{left:d.left},j=e==="wh"?{width:d.width}:{height:d.height},k=e==="wh"?{height:d.height}:{width:d.width};if(e==="wh"||e==="hw"){h&&c.container.animate(l,{duration:g,easing:b.easing,queue:true});c.frame.animate(j,{duration:g,easing:b.easing,complete:function(){h&&c.container.animate(m,{duration:g,easing:b.easing,queue:true});c.frame.animate(k,{duration:g,easing:b.easing,complete:function(){c.container.data("moving.wijlightbox",false);a.isFunction(f)&&f.apply(c)}})}});return}h&&c.container.animate({left:d.left,top:d.top},{duration:b.duration,easing:b.easing,queue:true});c.frame.animate({width:d.width,height:d.height,opacity:1},{duration:b.duration,easing:b.easing,complete:function(){c.container.data("moving.wijlightbox",false);a.isFunction(f)&&f.apply(c)}})},show:function(a){this._show(a);return this},adjustPosition:function(){this._position()},_resize:function(c){var b=this,d=a.extend({},b.container.offset(),{width:b.frame.width(),height:b.frame.height()});b._size();b._isOpen()&&b._position();b._moveFrom(d,c)},_onAfterShow:function(){var a=this,b=this.options,c;a._refreshNavButtons();a.container.data("animating.wijlightbox",false);!b.modal&&a._hideOverlay();c={index:b.activeIndex,item:b.groupItems[b.activeIndex]};a._trigger("show",null,c);a._startTimer()},_show:function(f,g,i){var b=this,c=this.options,k,d;if(this.container.data("showing.wijlightbox")){k=[function(){b._show(f,g,i)}];this.container.queue("showqueue",k);return this}d=c.activeIndex;if(!a.isPlainObject(f)){d=f;if(d<0||d>=c.groupItems.length)return this;f=c.groupItems[d]}f&&this.container.data("item.wijlightbox",f);this._groupMode()&&this._preload();if(a.isFunction(g)){i=g;g=undefined}if(!i)i=b._onAfterShow;var m={index:d,item:f};if(b._trigger("beforeShow",null,m)===false)return this;this.container.data("showing.wijlightbox",true);var j=function(){a.isFunction(i)&&i.apply(b);b.container.data("showing.wijlightbox",false);b.container.dequeue("showqueue");b.container.clearQueue("showqueue")};b._refreshCounter(d);var h=this.container.data("player.wijlightbox"),e,l=function(){b.container.data("playerwidth.wijlightbox",e.width);b.container.data("playerheight.wijlightbox",e.height);var f=a.extend({},b._defaults.transAnimation,c.transAnimation);if(c.activeIndex===d||f.animated==="none"||f.duration<=0||!b._isOpen()){c.activeIndex=d;h&&h.remove();e.appendTo(b.content);b._refreshText();j();return}c.cookie&&b._cookie(c.activeIndex,c.cookie);if(f.animated==="slide"){g=g===undefined?d>c.activeIndex:g;b._slideTo(h,e,f,g,j);c.activeIndex=d}else{c.activeIndex=d;var k=function(){if(e){e.appendTo(b.content,true);e.fadeIn(f.duration,j)}};a.browser.msie&&b.frame.trigger("mouseleave");var i=function(){h&&h.remove();if(c.autoSize&&!b._isFullSize())b._resize(k);else{k();b._refreshText()}};if(h)h.fadeOut(f.duration*.4,i);else i()}};e=this._createPlayer(f,l);return this},next:function(){var b=this.options;if(!this._groupMode())return false;var a=b.activeIndex+1;if(b.loop)a=a%b.groupItems.length;if(a<b.groupItems.length){this._show(a,true);return true}return false},back:function(){var b=this.options;if(!this._groupMode())return false;var a=b.activeIndex-1;if(b.loop)a=a<0?b.groupItems.length-1:a;if(a>=0){this._show(a,false);return true}return false},isPlaying:function(){return!!this.container.data("playing.wijlightbox")},_startTimer:function(){if(!this.isPlaying()||!this._groupMode())return;var b=this.options,a=this,c;if(b.showTimer===true){!this.timerMeter&&this._createTimerBar();c=this.timerBar.width();a.timerMeter.width("0");a.timerMeter.animate({width:c},b.delay,function(){a.isPlaying()&&!a.next()&&a.stop()})}else window.setTimeout(function(){a.isPlaying()&&!a.next()&&a.stop()},b.delay)},play:function(){if(!this._groupMode())return false;!this.container.data("playing.wijlightbox")&&this.container.data("playing.wijlightbox",true);this._refreshCtrlButtons();this._hideNavButtons();this._startTimer()},stop:function(){this.container.removeData("playing.wijlightbox");this._refreshCtrlButtons();this._removeTimerBar()},_size:function(d,i){var g=this.options,c=g.width,b=g.height,f=g.autoSize?this.container.data("playerwidth.wijlightbox")||c:c,e=g.autoSize?this.container.data("playerheight.wijlightbox")||b:b,h,j=e/f;if(typeof d==="boolean")i=d;else if(a.isPlainObject(d)&&"width"in d&&"height"in d){c=d.width;b=d.height}else{h=this.container.data("player.wijlightbox");if(g.autoSize&&h&&h.name==="img"){if(f>c){f=c;e=Math.round(c*j)}if(e>b){e=b;f=Math.round(b/j)}}c=f;b=e;if(i)return{width:c,height:b}}this.frame.width(c).height(b);this.container.width(this.frame.outerWidth(true))},_position:function(){var f=this.options,c=[],e=[0,0],d,b=f.position;if(b){if(typeof b==="string"||typeof b==="object"&&"0"in b){c=b.split?b.split(" "):[b[0],b[1]];if(c.length===1)c[1]=c[0];a.each(["left","top"],function(a,b){if(+c[a]===c[a]){e[a]=c[a];c[a]=b}});b={my:c.join(" "),at:c.join(" "),offset:e.join(" ")}}b=a.extend({},f.position,b)}d=this.container.is(":visible");!d&&this.container.show();this.container.css({top:0,left:0}).position(b);!d&&this.container.hide()},_getRelRect:function(b){var c;if(b){if(a.isPlainObject(b)&&"left"in b&&"top"in b&&"width"in b&&"height"in b)c=a.merge({},b);else b=a(b);if(b.jquery&&b.length)c=a.extend({},b.offset(),{width:b.width(),height:b.height()})}return c},_close:function(d){var g=this.options,c=this,b,f,e;if(!this._isOpen())return;f={rel:d};if(false===this._trigger("beforeClose",null,f))return;d=f.rel;if(!d&&this._groupMode())d=g.groupItems[g.activeIndex].img;this.container.data("moving.wijlightbox",true);this._hideAccessories(false);this._hideWaiting();this._hideOverlay();this.stop();e=function(){c._removePlayer();c.container.hide();c._trigger("close");c.container.unbind("keypress.wijlightbox");c.container.removeData("open.wijlightbox").removeData("rect.wijlightbox").removeData("moving.wijlightbox").removeData("fullsize.wijlightbox");a(document).unbind("keydown.wijlightbox").unbind("click.wijlightbox")};b=this._getRelRect(d);if(!b)if(this.container.data("rect.wijlightbox"))b=this.container.data("rect.wijlightbox");this._removeText();if(b){this._moveTo(b,{animated:"sync",duration:200},e);return}e.call();return this},_isOpen:function(){return!!this.container.data("open.wijlightbox")},_open:function(d,f){if(this._isOpen())return;var c=this.options,b=this;if(this.toolBox)if(this._isFullSize())this.toolBox.css({top:"2px",right:"4px"});else this.toolBox.css({top:"",right:""});var e=function(){c.modal&&b._showOverlay();if(c.showControlsOnHover)this._hideAccessories(false);else this._showAccessories(false);var e=b._getRelRect(d);b.container.css("opacity",0);b.container.show();b._size();b._createText(true);b._refreshText(true);b._position();b.container.data("open.wijlightbox",true);if(d&&e){b.container.data("rect.wijlightbox",e);b._moveFrom(e,{animated:"sync"})}else{var f=a.extend({},b._defaults.transAnimation,c.transAnimation);if(f.animated==="fade"){b.container.hide();b.container.fadeIn(f.duration,function(){b._createText()})}else b._createText();this.container.data("moving.wijlightbox",false)}a(document).bind("keydown.wijlightbox",a.proxy(b,"_keyDownHandler")).bind("click.wijlightbox",function(e){var d=e.target||e.srcElement;if(b._isOpen()&&!!c.closeOnOuterClick)d!==b.container.get(0)&&a(d).parents().index(b.container)<0&&b._close()});c.autoPlay&&this.play();b._refreshNavButtons();b._refreshDialogButtons();var g={index:c.activeIndex,item:c.groupItems[c.activeIndex]};b._trigger("show",null,g);b._trigger("open")};this.container.data("moving.wijlightbox",true);this._show(f,true,e);return this},_getWinRect:function(){var b=a(window);return a.extend({width:b.width(),height:b.height()},b.offset()||{left:2,top:2})},_resizeHandler:function(){var a=this;a._removeText();a._size(a._getWinRect());a._createText()},_isFullSize:function(){return!!this.container.data("fullsize.wijlightbox")},_toggleFullSize:function(){var b=this,d=a(window);if(!b._isOpen())return;if(this._isFullSize()){b.toolBox&&b.toolBox.css({top:"",right:""});this.container.data("fullsize.wijlightbox",false);d.unbind("resize.wijlightbox",a.proxy(this,"_resizeHandler"));b._resize(function(){b._adjustPlayerSize(b.content.innerWidth(),b.content.innerHeight())})}else{this.container.data("fullsize.wijlightbox",true);d.bind("resize.wijlightbox",a.proxy(this,"_resizeHandler"));var c=b._getWinRect(),e=this.frame.borderSize();c.width-=e.width;c.height-=e.height;b._removeText();b._moveTo(c,{animated:"sync"},function(){b.toolBox&&b.toolBox.css({top:"2px",right:"4px"});b.frame.width(c.width);b.container.width(b.frame.outerWidth());b._createText();b._adjustPlayerSize(b.content.innerWidth(),b.content.innerHeight())})}this._refreshDialogButtons()},_getExt:function(a){var c,b,e=/[0-9a-z]+$/i,d=a.indexOf("?");if(d>-1)a=a.substring(0,d);b=a.match(e);if(b)c=b[0].toLowerCase();return c},_getPlayerName:function(c){if(c.indexOf("#")===0||c.indexOf("#")>0&&c.indexOf(document.location.href)===0)return"inline";var f=["bmp","gif","jpg","jpeg","png"],g=["swf"],e=["flv","m4v"],i=["dv","mov","moov","movie","mp4","avi","mpg","mpeg"],h=["asf","avi","mpg","mpeg","wm","wmv"],d=["mp4","mpg","mpeg","ogg","ogv"],b=this._getExt(c);if(b){if(a.inArray(b,f)>=0)return"img";if(a.inArray(b,g)>=0)return"swf";if(a.inArray(b,e)>=0)return"flv";if(a.inArray(b,h)>=0)return"wmp";if(a.inArray(b,i)>=0)return"qt";if(a.inArray(b,d)>=0)return"wijvideo"}return"iframe"},_adjustPlayerSize:function(c,b){var a=this.container.data("player.wijlightbox");a&&a.adjustSize&&a.adjustSize(c,b)},_removePlayer:function(){var a=this.container.data("player.wijlightbox");if(a){a.remove();this.container.data("player.wijlightbox",null)}},_createPlayer:function(h,g,e){var b=h.player;if(!a.isFunction(a.wijmo.wijlightbox[b]))throw"unknown player "+b;var d=this,f=false,c,j=function(){f=true;this._hideWaiting();a.isFunction(g)&&window.setTimeout(function(){g.apply(d)},1)},i=function(){this._hideWaiting();a.isFunction(e)&&e.apply(d)};c=new a.wijmo.wijlightbox[b](this,h,j,i);this.container.data("player.wijlightbox",c);window.setTimeout(function(){f===false&&d._showWaiting()},200);return c}});a.extend(a.wijmo.wijlightbox,{img:function(c,b,e,d){this.name="img";this.lightbox=c;this.item=b;this.url=this.lightbox._getUrl(b);var f=this;a("<img></img>").css({width:"auto",height:"auto",display:"none"}).appendTo(document.body).bind({load:function(){var d=a(this);f.width=b.width?parseInt(b.width,10):d.width();f.height=b.height?parseInt(b.height,10):d.height();d.remove();e&&a.isFunction(e)&&e.apply(c)},error:function(){a(this).remove();d&&a.isFunction(d)&&d.apply(c)}}).attr("src",this.url)},swf:function(c,b,d){this.name="swf";var e=c.options;this.id="flashhost";this.lightbox=c;this.item=b;this.url=this.lightbox._getUrl(b);this.width=b.width?parseInt(b.width,10):e.width;this.height=b.height?parseInt(b.height,10):e.height;d&&a.isFunction(d)&&d.apply(c)},iframe:function(c,b,d){this.name="swf";this.lightbox=c;this.item=b;this.url=this.lightbox._getUrl(b);if(b.width)this.width=parseInt(b.width,10);if(b.height)this.height=parseInt(b.height,10);this.$iframe=a("<iframe></iframe>").addClass("wijmo-wijlightbox-iframe").attr({frameborder:"0",marginwidth:"0",marginheight:"0",scrolling:"auto",allowtransparency:"true"}).hide().appendTo(c.content).bind("load",function(){d&&a.isFunction(d)&&d.apply(c)}).attr("src",this.url)},inline:function(c,b,d){this.name="inline";var f=c.options;this.lightbox=c;this.item=b;this.width=b.width?parseInt(b.width,10):f.width;if(b.height)this.height=parseInt(b.height,10);else{var e=a(this.item.href).clone().show().append('<br clear="all" />').wrap('<div class="wijmo-wijlightbox ui-widget"><div class="wijmo-wijlightbox-frame ui-widget-content ui-corner-all ui-helper-clearfix"><div class="wijmo-wijlightbox-frame ui-widget-content ui-corner-all ui-helper-clearfix"><div class="wijmo-wijlightbox-content"> </div></div></div></div>').appendTo(document.body).width(this.width);this.height=e.outerHeight(true)+10;e.unwrap();e.remove()}d&&a.isFunction(d)&&d.apply(c)},flv:function(c,b,d){this.name="flv";var e=c.options;this.id="flvhost";this.lightbox=c;this.item=b;this.url=this.lightbox._getUrl(b);var f=20;this.width=b.width?parseInt(b.width,10):e.width;this.height=b.height?parseInt(b.height,10):e.height;if(e.showMovieControls)this.height+=f;d&&a.isFunction(d)&&d.apply(c)},wmp:function(c,b,d){var e=c.options,f;this.name="wmp";this.id="wmphost";this.lightbox=c;this.item=b;this.url=this.lightbox._getUrl(b);f=a.browser.msie?70:45;this.width=b.width?parseInt(b.width,10):e.width;this.height=b.height?parseInt(b.height,10):e.height;if(e.showMovieControls)this.height+=f;d&&a.isFunction(d)&&d.apply(c)},qt:function(c,b,d){var e=c.options,f=16;this.name="qt";this.id="qthost";this.lightbox=c;this.item=b;this.url=this.lightbox._getUrl(b);this.width=b.width?parseInt(b.width,10):e.width;this.height=b.height?parseInt(b.height,10):e.height;if(e.showMovieControls)this.height+=f;d&&a.isFunction(d)&&d.apply(c)},wijvideo:function(c,b,d){var e=c.options;this.name="wijvideo";this.id="wijvideohost";this.lightbox=c;this.item=b;this.url=this.lightbox._getUrl(b);this.wijvideosrc=!!b.wijvideosrc&&b.wijvideosrc!==""?this.lightbox._getUrl(b.wijvideosrc):null;this.width=b.width?parseInt(b.width,10):e.width;this.height=b.height?parseInt(b.height,10):e.height;d&&a.isFunction(d)&&d.apply(c)}});a.extend(a.wijmo.wijlightbox.img.prototype,{appendTo:function(b,c){this.$element=a("<img></img>").addClass("wijmo-wijlightbox-image").attr("src",this.url);c&&this.$element.hide();if(this.lightbox.options.transAnimation&&this.lightbox.options.transAnimation.animated=="fade"){b.children().length&&b.empty();this.$element.prependTo(b)}else this.$element.appendTo(b)},remove:function(){this.$element&&this.$element.remove()},fadeOut:function(b,a){this.$element&&this.$element.fadeOut(b,a)},fadeIn:function(b,a){this.$element&&this.$element.fadeIn(b,a)},getElement:function(){return this.$element}});a.extend(a.wijmo.wijlightbox.swf.prototype,{appendTo:function(d){this.$container=a("<div/>").css({width:"100%",height:"100%",overflow:"hidden"}).attr("id",this.id).appendTo(d);var b=this.lightbox.options,e=b.flashInstall,f=b.flashVersion,c=b.flashVars,g=b.flashParams;S.flash.embedSWF(this.item.href,this.id,"100%","100%",f,e,c,g)},remove:function(){S.flash.expressInstallCallback();S.flash.removeSWF(this.id);this.$container.remove()},fadeOut:function(b,a){this.$container&&this.$container.fadeOut(b,a)},fadeIn:function(b,a){this.$container&&this.$container.fadeIn(b,a)},getElement:function(){return this.$container}});a.extend(a.wijmo.wijlightbox.iframe.prototype,{appendTo:function(b,a){!a&&this.$iframe.show()},remove:function(){this.$iframe&&this.$iframe.remove()},fadeOut:function(b,a){this.$iframe&&this.$iframe.fadeOut(b,a)},fadeIn:function(b,a){this.$iframe&&this.$iframe.fadeIn(b,a)},getElement:function(){return this.$iframe}});a.extend(a.wijmo.wijlightbox.inline.prototype,{appendTo:function(b,c){this.$element=a(this.item.href).clone().appendTo(b);!c&&this.$element.show()},remove:function(){this.$element&&this.$element.remove()},fadeOut:function(b,a){this.$element&&this.$element.fadeOut(b,a)},fadeIn:function(b,a){this.$element&&this.$element.fadeIn(b,a)},getElement:function(){return this.$element}});a.extend(a.wijmo.wijlightbox.flv.prototype,{appendTo:function(f){this.$container=a("<div/>").css({width:"100%",height:"100%",overflow:"hidden"}).attr("id",this.id).appendTo(f);var b=this.lightbox.options,d="100%",c="100%",j=b.flvPlayer,g=b.flashInstall,h=b.flashVersion,e=a.extend({file:this.url,width:d,height:c,autostart:b.autoPlayMovies?"true":"false",controlbar:b.showMovieControls?"bottom":"none",backcolor:"0x000000",frontcolor:"0xCCCCCC",lightcolor:"0x557722"},b.flashVars),i=a.extend({autostart:b.autoPlayMovies?"true":"false",allowscriptaccess:"always"},b.flashParams);S.flash.embedSWF(j,this.id,d,c,h,g,e,i)},remove:function(){S.flash.expressInstallCallback();S.flash.removeSWF(this.id);this.$container.remove()},fadeOut:function(b,a){this.$container&&this.$container.fadeOut(b,a)},fadeIn:function(b,a){this.$container&&this.$container.fadeIn(b,a)},getElement:function(){return this.$container}});a.extend(a.wijmo.wijlightbox.wmp.prototype,{appendTo:function(f){this.$container=a("<div/>").css({width:"100%",height:"100%",overflow:"hidden"}).appendTo(f);var d=this.lightbox.options,b='<object id="'+this.id+'" name="'+this.id+'" height="'+this.height+'" width="'+this.width+'"',c={autostart:d.autoPlayMovies?1:0},e;if(a.browser.msie){b+=' classid="clsid:6BF52A52-394A-11d3-B153-00C04F79FAA6"';c.url=this.url;c.uimode=d.showMovieControls?"full":"none"}else{b+=' type="video/x-ms-wmv"';b+=' data="'+this.url+'"';c.showcontrols=d.showMovieControls?1:0}b+=">";for(e in c)b+='<param name="'+e+'" value="'+c[e]+'">';b+="</object>";this.$container.html(b)},remove:function(){if(a.browser.msie)try{window[this.id].controls.stop();window[this.id].URL="movie"+now()+".wmv";window[this.id]=function(){}}catch(b){}this.$container.remove()},fadeOut:function(b,a){this.$container&&this.$container.fadeOut(b,a)},fadeIn:function(b,a){this.$container&&this.$container.fadeIn(b,a)},getElement:function(){return this.$container}});a.extend(a.wijmo.wijlightbox.qt.prototype,{appendTo:function(d,h){this.$container=a("<div/>").css({width:"100%",height:"100%",overflow:"hidden"}).appendTo(d);var i=this.lightbox.options,j=i.autoPlayMovies?"true":"false",k=i.showMovieControls?"true":"false",c="<object",b={id:this.id,name:this.id,width:this.width,height:this.height,kioskmode:"true"},e,f;if(a.browser.msie){b.classid="clsid:02BF25D5-8C17-4B23-BC80-D3488ABDDC6B";b.codebase="http://www.apple.com/qtactivex/qtplugin.cab#version=6,0,2,0"}else{b.type="video/quicktime";b.data=this.url}for(e in b)c+=" "+e+'="'+b[e]+'"';c+=">";var g={src:this.url,scale:"aspect",controller:k,autoplay:j};for(f in g)c+='<param name="'+f+'" value="'+g[f]+'">';c+="</object>";h&&d.hide();this.$container.html(c);h&&d.show()},remove:function(){try{document[this.id].Stop();document[this.id]=null}catch(a){}this.$container.remove()},fadeOut:function(b,a){a.call();return},fadeIn:function(b,a){a.call();return},getElement:function(){return this.$container}});a.extend(a.wijmo.wijlightbox.wijvideo.prototype,{appendTo:function(c){var b=this.lightbox.options;this.$container=a("<video/>").css({overflow:"hidden"}).attr({width:this.width,height:this.height,autoPlay:b.autoPlayMovies?"true":"false",controls:b.showMovieControls?"controls":""}).appendTo(c);!!this.url&&a("<source/>").attr({src:this.url}).appendTo(this.$container);!!this.wijvideosrc&&a("<source/>").attr({src:this.wijvideosrc}).appendTo(this.$container);this.$container.wijvideo({fullScreenButtonVisible:false})},remove:function(){this.$container.remove()},fadeOut:function(b,a){this.$container&&this.$container.fadeOut(b,a)},fadeIn:function(b,a){this.$container&&this.$container.fadeIn(b,a)},getElement:function(){return this.$container},adjustSize:function(b,a){this.$container.wijvideo("setWidth",b);this.$container.wijvideo("setHeight",a)}});a.extend(a.wijmo.wijlightbox,{overlay:function(d,c){this.mask=a("<div></div>").addClass("ui-widget-overlay wijmo-wijlightbox-overlay"+(c?" wijmo-wijlightbox-waitingoverlay":"")).appendTo(document.body).css({width:this.width(),height:this.height()}).bind("click",function(){d._close();return false});a.fn.bgiframe&&this.mask.bgiframe();if(c){this.mask.css("z-index",this.zIndex);var b=a("<div></div>").addClass("wijmo-wijlightbox-waiting").css("z-index",this.zIndex+1).appendTo(this.mask);b.css({left:(this.mask.width()-b.width())/2,top:(this.mask.height()-b.height())/2})}a(window).bind("resize.wijlightbox-overlay",a.proxy(this,"resize"));window.setTimeout(function(){var b;if(this.mask){b=a.wijmo.wijlightbox.overlay;a(document).bind(b.events,function(c){if(a(c.target).zIndex()<b.zIndex)return false})}},1)}});a.extend(a.wijmo.wijlightbox.overlay.prototype,{mask:null,zIndex:1e3,events:a.map("focus,mousedown,mouseup,keydown,keypress,click".split(","),function(a){return a+".wijlightbox-overlay"}).join(" "),close:function(){a([document,window]).unbind(".wijlightbox-overlay");this.mask.remove();this.mask=undefined},height:function(){var b,c;if(a.browser.msie&&a.browser.version<7){b=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight);c=Math.max(document.documentElement.offsetHeight,document.body.offsetHeight);return b<c?a(window).height():b}else return a(document).height()},width:function(){var b,c;if(a.browser.msie&&a.browser.version<7){b=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth);c=Math.max(document.documentElement.offsetWidth,document.body.offsetWidth);return b<c?a(window).width():b}else return a(document).width()},resize:function(){this.mask&&this.mask.css({width:this.width(),height:this.height()})}})})(jQuery);;
/*
 *
 * Wijmo Library 2.3.7
 * http://wijmo.com/
 *
 * Copyright(c) GrapeCity, Inc.  All rights reserved.
 * 
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * licensing@wijmo.com
 * http://wijmo.com/widgets/license/
 *
 **/
(function(a){"use strict";var g="@wijtp@",b="wijmo-wijtooltip",e=b+"-arrow-",c=parseFloat,i=window,d=document,j=Math,h=j.max,f={};a.widget("wijmo.wijtooltip",{options:{content:"",title:"",closeBehavior:"auto",mouseTrailing:false,triggers:"hover",position:{my:"left bottom",at:"right top",offset:null},showCallout:true,animation:{animated:"fade",duration:500,easing:null},showAnimation:{},hideAnimation:{},showDelay:150,hideDelay:150,calloutAnimation:{duration:1e3,disabled:false,easing:null},calloutFilled:false,modal:false,group:null,ajaxCallback:null,showing:null,shown:null,hiding:null,hidden:null,cssClass:""},_setOption:function(c,f){var b=this,e="_set_"+c,d=b.options[c];a.Widget.prototype._setOption.apply(b,arguments);if(a.isPlainObject(f))b.options[c]=a.extend({},d,f);b[e]&&b[e](d)},_set_cssClass:function(){var c=this,d=c.options,b=d.cssClass,a=c._tooltip;if(!a)return;!a.hasClass(b)&&a.addClass(b)},_set_content:function(){var a=this;if(a._isAjaxCallback){a._callbacked=true;a.show();a._callbacked=false}else a._setText()},_create:function(){var c=this,e=c.options,h=c.element,j=h&&h.attr("id"),d="",f="",i=e.group||g,b=a.wijmo.wijtooltip._getTooltip(i);if(window.wijmoApplyWijTouchUtilEvents)a=window.wijmoApplyWijTouchUtilEvents(a);if(b)b.count++;else{b=c._createTooltip();b.count=0;a.wijmo.wijtooltip._tooltips[i]=b}f=e.cssClass?e.cssClass:"";!b.hasClass(f)&&b.addClass(f);e.position.of=c.element;c._bindLiveEvents();c._tooltip=b;if(j!==""){d=b.attr("aria-describedby");d=d===undefined?"":d+" ";b.attr("aria-describedby",d+j)}},destroy:function(){var b=this,c=b.element,d=b.options.group||g;c.unbind(".tooltip");c.attr("title",b._content);a.wijmo.wijtooltip._removeTooltip(d);a.Widget.prototype.destroy.apply(b)},widget:function(){return this._tooltip},show:function(){var c=this,b=c._tooltip,d=c.options;if(!b||d.disabled)return;if(b._showAnimationTimer){clearTimeout(b._showAnimationTimer);b._showAnimationTimer=null}if(b._showAtAnimationTimer){clearTimeout(b._showAtAnimationTimer);b._showAtAnimationTimer=null}if(b._hideAnimationTimer){clearTimeout(b._hideAnimationTimer);b._hideAnimationTimer=null}b.stop(true,true);if(d.ajaxCallback&&a.isFunction(d.ajaxCallback)&&!c._callbacked){c._isAjaxCallback=true;d.ajaxCallback.call(c.element);return}c._setText();b._showAnimationTimer=setTimeout(function(){f=b.offset();if(d.mouseTrailing){c._setCalloutCss();return}c._setPosition();c._showTooltip()},c.options.showDelay)},showAt:function(a){var e=this,b=e._tooltip,n=b&&b._callout,m={},k=0,l=0,o={},i,j,c,d,h,g;if(!b||!n)return;b.stop(true,true);if(b._showAtAnimationTimer){clearTimeout(b._showAtAnimationTimer);b._showAtAnimationTimer=null}if(b._hideAnimationTimer){clearTimeout(b._hideAnimationTimer);b._hideAnimationTimer=null}b._showAtAnimationTimer=setTimeout(function(){var p=b.is(":visible");e._setText();f=b.offset();b.offset({left:0,top:0}).show();m=n.position();k=m.left;l=m.top;j=e._getBorder(n);c=j.left||j.right;d=j.top||j.bottom;h=b.width();g=b.height();i=e._getCalloutShape();o=({rt:{left:a.x-h-c,top:a.y-l},rc:{left:a.x-h-c,top:a.y-g/2},rb:{left:a.x-h-c,top:a.y-l-d},lt:{left:a.x+c,top:a.y-l},lc:{left:a.x+c,top:a.y-g/2},lb:{left:a.x+c,top:a.y-l-d},tl:{left:a.x-k,top:a.y+d},tc:{left:a.x-h/2,top:a.y+d},tr:{left:a.x-k-c,top:a.y+d},bl:{left:a.x-k,top:a.y-g-d},bc:{left:a.x-h/2,top:a.y-g-d},br:{left:a.x-k-c,top:a.y-g-d},cc:{left:a.x-h/2,top:a.y-g/2}})[i];i=e._flipTooltip(o,i,j);e._setUnfilledCallout(i);b.offset(o);!p&&b.hide();e._calloutShape=i;e._showTooltip()},e.options.showDelay)},hide:function(){var c=this,b=c._tooltip;if(!b)return;if(b._showAnimationTimer){clearTimeout(b._showAnimationTimer);b._showAnimationTimer=null}if(b._showAtAnimationTimer){clearTimeout(b._showAtAnimationTimer);b._showAtAnimationTimer=null}if(b._hideAnimationTimer){clearTimeout(b._hideAnimationTimer);b._hideAnimationTimer=null}b._hideAnimationTimer=setTimeout(a.proxy(c._hideTooltip,c),c.options.hideDelay)},_createTooltip:function(){var g=this,k=g.options,e="ui-corner-all",h="ui-widget-content",l="ui-state-default",m="ui-widget-header",c=a("<div class = '"+b+" ui-widget "+h+" "+e+"'></div>"),i=a("<div class='"+b+"-container'></div>"),f=a("<div class='"+h+" "+b+"-pointer '><div class='"+b+"-pointer-inner'></div></div>"),j=a("<div class = '"+b+"-title "+m+" "+e+"'></title>"),d=a("<a href='#' class = '"+b+"-close "+l+" "+e+"'></a>");d.append(a("<span class = 'ui-icon ui-icon-close'></span>")).bind("click",a.proxy(g._onClickCloseBtn,g));k.closeBehavior!=="sticky"&&d.hide();!k.showCallout&&f.hide();c.append(j).append(d).append(i).append(f).css("position","absolute").attr("role","tooltip").appendTo("body").hide();c._container=i;c._callout=f;c._closeBtn=d;c._title=j;return c},_bindLiveEvents:function(){var b=this,d=b.options,c=b.element;if(b._content===undefined){b._content=c.attr("title");c.attr("title","")}c.unbind(".tooltip");d.mouseTrailing&&c.bind("mousemove.tooltip",function(a){if(d.disabled)return;var e=d.position.offset||"",c=e.split(" ");if(c.length===2)b.showAt({x:a.pageX+parseInt(c[0],10),y:a.pageY+parseInt(c[1],10)});else b.showAt({x:a.pageX,y:a.pageY})});switch(d.triggers){case"hover":c.bind("mouseover.tooltip",a.proxy(b.show,b)).bind("mouseout.tooltip",a.proxy(b._hideIfNeeded,b));break;case"click":c.bind("click.tooltip",a.proxy(b.show,b));break;case"focus":c.bind("focus.tooltip",a.proxy(b.show,b)).bind("blur.tooltip",a.proxy(b._hideIfNeeded,b));break;case"rightClick":c.bind("contextmenu.tooltip",function(a){b.show();a.preventDefault()})}},_hideIfNeeded:function(){var c=this,a=c.options,b=a.closeBehavior;if(b==="sticky"||a.modal||b==="none"||a.disabled)return;c.hide()},_flipTooltip:function(d,i,e){var h=this,c=h._tooltip,j={width:c.width(),height:c.height()},b=h._flipCallout(d,j,i),a=b&&b.flip,g,f;if(!c||!b||!a.h&&!a.v)return b.calloutShape;g=c.width();f=c.height();if(a.h==="l")d.left-=g+e.right*2+1;else if(a.h==="r")d.left+=g+e.left*2+1;else if(a.v==="t")d.top-=f+e.bottom*2+1;else if(a.v==="b")d.top+=f+e.top*2+1;return b.calloutShape},_flipCallout:function(g,k,b){var h=this,l=h.options,j=h._tooltip,c={h:false,v:false},f=a(i),d=(l.position.collision||"flip").split(" ");if(d.length===1)d[1]=d[0];if(!j||d[0]!=="flip"&&d[1]!=="flip")return{flip:c};if(d[0]==="flip")if(g.left<0||g.left+k.width>f.width()+f.scrollLeft())c.h=true;if(d[0]==="flip")if(g.top<0||g.top+k.height>f.height()+f.scrollTop())c.v=true;if(l.showCallout){if(c.h)if(b.indexOf("l")>-1){b=b.replace(/l/,"r");c.h="l"}else if(b.indexOf("r")>-1){b=b.replace(/r/,"l");c.h="r"}if(c.v)if(b.indexOf("t")>-1){b=b.replace(/t/,"b");c.v="t"}else if(b.indexOf("b")>-1){b=b.replace(/b/,"t");c.v="b"}if(c.h||c.v){h._removeCalloutCss();j.addClass(e+b)}}return{flip:c,calloutShape:b}},_set_position:function(b){var a=this,d=a.options,c=d.position;if(d.showCallout){(b.my!==c.my||b.at!==c.at)&&a._setPosition();a._setCalloutOffset(true)}a._setText()},_set_showCallOut:function(d){var c=this,b=c._tooltip,a=b&&b._callout;if(!b||!a)return;if(d){c._setCalloutCss();a.show()}else a.hide()},_set_closeBehavior:function(){var c=this,b=c._tooltip,a=b&&b._closeBtn;a&&a[c.options.closeBehavior==="sticky"?"show":"hide"]()},_set_triggers:function(){this._bindLiveEvents()},_set_mouseTrailing:function(){this._bindLiveEvents()},_getCalloutShape:function(){var g=this,e=g.options.position,f=function(b){return a.map(b,function(a){return a.substr(0,1)})},c=f(e.my.split(" ")),d=f(e.at.split(" ")),b=[];if(c.length===2)b=c;if(c[0]===d[0])(c[1]==="t"&&d[1]==="b"||c[1]==="b"&&d[1]==="t")&&b.reverse();else d[0]==="c"&&b.reverse();b[0]==="c"&&b.reverse();return b.join("")},_setCalloutCss:function(){var a=this,f=a.options,d=a._tooltip,c="",b="";if(!f.showCallout)return;a._removeCalloutCss();b=a._getCalloutShape();c=e+b;d&&d.addClass(c);return b},_removeCalloutCss:function(){var b=this._tooltip;b&&a.each(["tl","tc","tr","bl","bc","br","rt","rc","rb","lt","lc","lb","cc"],function(d,c){var a=e+c;if(b.hasClass(a)){b.removeClass(a);return false}})},_getBorder:function(d){var b={};a.each(["top","right","left","bottom"],function(e,a){b[a]=c(d.css("border-"+a+"-width"))});return b},_setPosition:function(){var e=this,m=e.options,d=m.position,a=e._tooltip,p=a.is(":hidden"),f=e._setCalloutCss(),n=f?f.split(""):null,b=[0,0],h="",g=a._callout,i,l,r,q,j,s={width:a.width(),height:a.height()},o,k;p&&a.show();a.css({left:0,top:0});if(m.showCallout){i=e._getBorder(g);r=c(g.css("left"));l=c(g.css("top"));q=c(g.css("right"));j=c(g.css("bottom"));switch(n[0]){case"l":b[0]=i.right;break;case"r":b[0]=-i.left;break;case"b":b[1]=j;break;case"t":b[1]=-l}switch(n[1]){case"t":b[1]=-l;break;case"b":b[1]=j;break;case"r":b[0]=q;break;case"l":b[0]=-r}h=b.join(" ")}a.position({my:d.my,at:d.at,of:d.of,offset:h,collision:"none none"});o=e._flipCallout(a.offset(),s,f);k=o.flip;if(k.h||k.v){a.css({left:0,top:0});a.position({my:d.my,at:d.at,of:d.of,offset:h,collision:d.collision})}m.showCallout&&e._setUnfilledCallout(f);e._calloutShape=f;p&&a.hide()},_setCalloutOffset:function(h){var g=this,k=g.options,j=g._tooltip,d=j&&j._callout,l=g._calloutShape,e=false,f=k.position.offset,c="",b=[],i=k.calloutAnimation;if(!d)return;if(!f||f.length===0)return;d.stop(true,true);a.each(["tr","tc","tl","bl","bc","br"],function(b,a){if(l===a){e=true;return false}});if(f){b=f.split(" ");if(b.length===2)c=e?b[0]:b[1];else if(b.length===1)c=b[0]}if(b&&b.length===2&&b[0]==="none"&&b[1]==="none")d.css("left","").css("top","");else if(c==="none")d.css(e?"left":"top","");else if(c!=="")if(h&&!h.disabled)d.animate(e?{left:c}:{top:c},i.duration,i.easing);else d.css(e?"left":"top",c)},_setUnfilledCallout:function(g){var e=this,c=e._tooltip,d=c&&c._callout,a=d&&d.children(),f=g.split(""),b=c&&c.css("background-color");if(!a)return;a.css({"border-left-color":"","border-top-color":"","border-bottom-color":"","border-right-color":""});if(!e.options.calloutFilled)switch(f[0]){case"l":a.css("border-right-color",b);break;case"t":a.css("border-bottom-color",b);break;case"r":a.css("border-left-color",b);break;case"b":a.css("border-top-color",b)}},_showTooltip:function(){var c=this,h=c.options,b=c._tooltip,d,e,g;if(!b)return;if(c._trigger("showing",null,c)===false)return;c._showModalLayer();b.css("z-index",99999);if(a.fn.wijshow){e={show:true,context:b};d=a.extend({},h.animation,h.showAnimation);if(b.is(":visible")){g=b.offset();b.offset(f);a.extend(e,{pos:g});d.animated="tooltipSlide"}b.wijshow(d,a.wijmo.wijtooltip.animations,e,null,function(){c._trigger("shown")})}else{b.show();c._trigger("shown")}c._setCalloutOffset(false)},_hideTooltip:function(){var b=this,e=b.options,c=b._tooltip,f=a.extend({},e.animation,e.hideAnimation),d;if(!c)return;if(b._trigger("hiding",null,b)===false)return;b._hideModalLayer();if(a.fn.wijhide){d={show:false,context:c};c.wijhide(f,a.wijmo.wijtooltip.animations,d,null,function(){b._trigger("hidden");c.css("z-index","")})}else{c.hide();b._trigger("hidden");c.css("z-index","")}},_getContent:function(b){var c={data:""},d;if(a.isFunction(b)){d=b.call(this.element,c);return c.data!==""?c.data:d}else if(window[b]&&a.isFunction(window[b])){d=window[b].call(this.element,c);return c.data!==""?c.data:d}return b},_setText:function(){var b=this,f=b.options,c=b._tooltip,a="",d="",e=c&&c._title;if(!c)return;a=b._getContent(f.content);a=a===""?b._content:a;c._container.html(a);d=b._getContent(f.title);if(d!=="")e.html(d).show();else e.hide()},_showModalLayer:function(){var b=this,c=null;if(b.options.modal){c=a("<div>").addClass("ui-widget-overlay").css("z-index",99e3).width(b._getDocSize("Width")).height(b._getDocSize("Height")).appendTo("body");a(window).bind("resize.wijtooltip",function(){c.width(b._getDocSize("Width")).height(b._getDocSize("Height"))});b._tooltip._modalLayer=c}},_hideModalLayer:function(){var c=this,b=c._tooltip._modalLayer;if(b){b.css("z-index","").remove();a(window).unbind("resize.wijtooltip")}},_getDocSize:function(b){var c,e,g="documentElement",f="body";if(a.browser.msie&&a.browser.version<9){c=h(d[g]["scroll"+b],d[f]["scroll"+b]);e=h(d[g]["offset"+b],d[f]["offset"+b]);return c<e?a(i)[b.toLowerCase()]()+"px":c+"px"}else return a(d)[b.toLowerCase()]()+"px"},_onClickCloseBtn:function(a){this.hide();a.preventDefault()}});a.extend(a.wijmo.wijtooltip,{animations:{fade:function(b,c){b=a.extend({duration:300,easing:"swing"},b,c);b.context.stop(true,true).animate(b.show?{opacity:"show"}:{opacity:"hide"},b)},tooltipSlide:function(b,c){b=a.extend({duration:300,easing:"swing"},b,c);b.context.stop(true,true).animate({left:b.pos.left,top:b.pos.top},b)}},_tooltips:{},_getTooltip:function(b){return a.wijmo.wijtooltip._tooltips[b]},_removeTooltip:function(c){var b=a.wijmo.wijtooltip._tooltips[c];if(b){b.count--;if(b.count<=0){b.remove();a.wijmo.wijtooltip._tooltips[c]=null}}}})})(jQuery);;
define("jquery.migrate");define("jquery.cookie");define("jquery.globalize");define("jquery.globalize.cultures");define("jquery.mousewheel");define("jquery-form");define("jquery-ui.core");define("jquery-ui.widget");define("jquery-ui.position");define("jquery-ui.mouse");define("jquery-ui.draggable");define("jquery-ui.droppable");define("jquery-ui.resizable");define("jquery-ui.sortable");define("jquery-ui.dialog");define("jquery-ui.button");define("jquery-ui.datepicker");define("jquery-ui.effects.core");define("jquery-ui.effects.blind");define("jquery-ui.effects.slide");define("jquery-ui.effects.scale");define("jquery-ui.effects.transfer");define("jquery-ui.effects.fade");define("jquery-ui.datepicker.i18n");define("wijmo.wijtextselection");define("wijmo.wijutil");define("wijmo.wijinputcore");define("wijmo.wijinputdate");define("wijmo.wijinputmask");define("wijmo.wijinputnumber");define("wijmo.wijlist");define("wijmo.wijpopup");define("wijmo.wijcalendar");define("wijmo.wijtabs");define("wijmo.wijdatasource");define("wijmo.wijsplitter");define("wijmo.wijsuperpanel");define("wijmo.wijdropdown");define("wijmo.wijmenu");define("wijmo.wijcheckbox");define("wijmo.wijexpander");define("wijmo.wijaccordion");define("wijmo.wijdialog");define("wijmo.wijpager");define("wijmo.wijtextbox");define("wijmo.wijradio");define("wijmo.wijgrid");define("wijmo.wijlightbox");define("wijmo.wijtooltip");
